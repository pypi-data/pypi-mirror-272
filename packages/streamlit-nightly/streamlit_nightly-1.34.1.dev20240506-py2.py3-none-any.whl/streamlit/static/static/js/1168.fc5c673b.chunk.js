"use strict";(self.webpackChunk_streamlit_app=self.webpackChunk_streamlit_app||[]).push([[1168],{71168:(e,l,o)=>{o.r(l),o.d(l,{default:()=>S});var t=o(66845),r=o(25621),c=o(42736),i=o(16295),a=o(62622),n=o(50641),s=o(87814),d=o(96825),p=o.n(d),u=o(27466),f=o(63765),y=o(23849);function g(e,l,o){return e=function(e,l){return(e=(e=(e=(e=(e=(e=(e=(e=e.replaceAll("#000032",(0,u.By)(l))).replaceAll("#000033",(0,u.He)(l))).replaceAll("#000034",(0,u.Iy)(l)?l.colors.blue80:l.colors.blue40)).replaceAll("#000035",(0,u.ny)(l))).replaceAll("#000036",(0,u.Xy)(l))).replaceAll("#000037",(0,u.yq)(l))).replaceAll("#000038",l.colors.bgColor)).replaceAll("#000039",l.colors.fadedText05)).replaceAll("#000040",l.colors.bgMix)}(e,l),e=function(e,l,o){const t="#000001",r="#000002",c="#000003",i="#000004",a="#000005",n="#000006",s="#000007",d="#000008",p="#000009",f="#000010";if("streamlit"===o){const o=(0,u.iY)(l);e=(e=(e=(e=(e=(e=(e=(e=(e=(e=e.replaceAll(t,o[0])).replaceAll(r,o[1])).replaceAll(c,o[2])).replaceAll(i,o[3])).replaceAll(a,o[4])).replaceAll(n,o[5])).replaceAll(s,o[6])).replaceAll(d,o[7])).replaceAll(p,o[8])).replaceAll(f,o[9])}else e=(e=(e=(e=(e=(e=(e=(e=(e=(e=e.replaceAll(t,"#636efa")).replaceAll(r,"#EF553B")).replaceAll(c,"#00cc96")).replaceAll(i,"#ab63fa")).replaceAll(a,"#FFA15A")).replaceAll(n,"#19d3f3")).replaceAll(s,"#FF6692")).replaceAll(d,"#B6E880")).replaceAll(p,"#FF97FF")).replaceAll(f,"#FECB52");return e}(e,l,o),e=function(e,l,o){const t="#000011",r="#000012",c="#000013",i="#000014",a="#000015",n="#000016",s="#000017",d="#000018",p="#000019",f="#000020";if("streamlit"===o){const o=(0,u.Gy)(l);e=(e=(e=(e=(e=(e=(e=(e=(e=(e=e.replaceAll(t,o[0])).replaceAll(r,o[1])).replaceAll(c,o[2])).replaceAll(i,o[3])).replaceAll(a,o[4])).replaceAll(n,o[5])).replaceAll(s,o[6])).replaceAll(d,o[7])).replaceAll(p,o[8])).replaceAll(f,o[9])}else e=(e=(e=(e=(e=(e=(e=(e=(e=(e=e.replaceAll(t,"#0d0887")).replaceAll(r,"#46039f")).replaceAll(c,"#7201a8")).replaceAll(i,"#9c179e")).replaceAll(a,"#bd3786")).replaceAll(n,"#d8576b")).replaceAll(s,"#ed7953")).replaceAll(d,"#fb9f3a")).replaceAll(p,"#fdca26")).replaceAll(f,"#f0f921");return e}(e,l,o),e=function(e,l,o){const t="#000021",r="#000022",c="#000023",i="#000024",a="#000025",n="#000026",s="#000027",d="#000028",p="#000029",f="#000030",y="#000031";if("streamlit"===o){const o=(0,u.ru)(l);e=(e=(e=(e=(e=(e=(e=(e=(e=(e=(e=e.replaceAll(t,o[0])).replaceAll(r,o[1])).replaceAll(c,o[2])).replaceAll(i,o[3])).replaceAll(a,o[4])).replaceAll(n,o[5])).replaceAll(s,o[6])).replaceAll(d,o[7])).replaceAll(p,o[8])).replaceAll(f,o[9])).replaceAll(y,o[10])}else e=(e=(e=(e=(e=(e=(e=(e=(e=(e=(e=e.replaceAll(t,"#8e0152")).replaceAll(r,"#c51b7d")).replaceAll(c,"#de77ae")).replaceAll(i,"#f1b6da")).replaceAll(a,"#fde0ef")).replaceAll(n,"#f7f7f7")).replaceAll(s,"#e6f5d0")).replaceAll(d,"#b8e186")).replaceAll(p,"#7fbc41")).replaceAll(f,"#4d9221")).replaceAll(y,"#276419");return e}(e,l,o),e}function m(e,l){try{!function(e,l){const{genericFonts:o,colors:t,fontSizes:r}=l,c={font:{color:(0,u.Xy)(l),family:o.bodyFont,size:r.twoSmPx},title:{color:t.headingColor,subtitleColor:t.bodyText,font:{family:o.headingFont,size:r.mdPx,color:t.headingColor},pad:{l:l.spacing.twoXSPx},xanchor:"left",x:0},legend:{title:{font:{size:r.twoSmPx,color:(0,u.Xy)(l)},side:"top"},valign:"top",bordercolor:t.transparent,borderwidth:l.spacing.nonePx,font:{size:r.twoSmPx,color:(0,u.yq)(l)}},paper_bgcolor:t.bgColor,plot_bgcolor:t.bgColor,yaxis:{ticklabelposition:"outside",zerolinecolor:(0,u.ny)(l),title:{font:{color:(0,u.Xy)(l),size:r.smPx},standoff:l.spacing.twoXLPx},tickcolor:(0,u.ny)(l),tickfont:{color:(0,u.Xy)(l),size:r.twoSmPx},gridcolor:(0,u.ny)(l),minor:{gridcolor:(0,u.ny)(l)},automargin:!0},xaxis:{zerolinecolor:(0,u.ny)(l),gridcolor:(0,u.ny)(l),showgrid:!1,tickfont:{color:(0,u.Xy)(l),size:r.twoSmPx},tickcolor:(0,u.ny)(l),title:{font:{color:(0,u.Xy)(l),size:r.smPx},standoff:l.spacing.xlPx},minor:{gridcolor:(0,u.ny)(l)},zeroline:!1,automargin:!0,rangeselector:{bgcolor:t.bgColor,bordercolor:(0,u.ny)(l),borderwidth:1,x:0}},margin:{pad:l.spacing.smPx,r:l.spacing.nonePx,l:l.spacing.nonePx},hoverlabel:{bgcolor:t.bgColor,bordercolor:t.fadedText10,font:{color:(0,u.Xy)(l),family:o.bodyFont,size:r.twoSmPx}},coloraxis:{colorbar:{thickness:16,xpad:l.spacing.twoXLPx,ticklabelposition:"outside",outlinecolor:t.transparent,outlinewidth:8,len:.75,y:.5745,title:{font:{color:(0,u.Xy)(l),size:r.smPx}},tickfont:{color:(0,u.Xy)(l),size:r.twoSmPx}}},ternary:{gridcolor:(0,u.Xy)(l),bgcolor:t.bgColor,title:{font:{family:o.bodyFont,size:r.smPx}},color:(0,u.Xy)(l),aaxis:{gridcolor:(0,u.Xy)(l),linecolor:(0,u.Xy)(l),tickfont:{family:o.bodyFont,size:r.twoSmPx}},baxis:{linecolor:(0,u.Xy)(l),gridcolor:(0,u.Xy)(l),tickfont:{family:o.bodyFont,size:r.twoSmPx}},caxis:{linecolor:(0,u.Xy)(l),gridcolor:(0,u.Xy)(l),tickfont:{family:o.bodyFont,size:r.twoSmPx}}}};p()(e,c)}(e.layout.template.layout,l)}catch(o){const e=(0,f.b)(o);(0,y.H)(e)}"title"in e.layout&&(e.layout.title=p()(e.layout.title,{text:"<b>".concat(e.layout.title.text,"</b>")}))}var h=o(40864);const A={width:600,height:470,name:"fullscreen-expand",path:"M32 32C14.3 32 0 46.3 0 64v96c0 17.7 14.3 32 32 32s32-14.3 32-32V96h64c17.7 0 32-14.3 32-32s-14.3-32-32-32H32zM64 352c0-17.7-14.3-32-32-32s-32 14.3-32 32v96c0 17.7 14.3 32 32 32h96c17.7 0 32-14.3 32-32s-14.3-32-32-32H64V352zM320 32c-17.7 0-32 14.3-32 32s14.3 32 32 32h64v64c0 17.7 14.3 32 32 32s32-14.3 32-32V64c0-17.7-14.3-32-32-32H320zM448 352c0-17.7-14.3-32-32-32s-32 14.3-32 32v64H320c-17.7 0-32 14.3-32 32s14.3 32 32 32h96c17.7 0 32-14.3 32-32V352z"},b={width:600,height:470,name:"fullscreen-collapse",path:"M160 64c0-17.7-14.3-32-32-32s-32 14.3-32 32v64H32c-17.7 0-32 14.3-32 32s14.3 32 32 32h96c17.7 0 32-14.3 32-32V64zM32 320c-17.7 0-32 14.3-32 32s14.3 32 32 32H96v64c0 17.7 14.3 32 32 32s32-14.3 32-32V352c0-17.7-14.3-32-32-32H32zM352 64c0-17.7-14.3-32-32-32s-32 14.3-32 32v96c0 17.7 14.3 32 32 32h96c17.7 0 32-14.3 32-32s-14.3-32-32-32H352V64zM320 320c-17.7 0-32 14.3-32 32v96c0 17.7 14.3 32 32 32s32-14.3 32-32V384h64c17.7 0 32-14.3 32-32s-14.3-32-32-32H320z"};function x(e,l,o){const t=JSON.parse(g(JSON.stringify(e),o,l));return"streamlit"===l?m(t,o):t.layout=function(e,l){const{colors:o,genericFonts:t}=l,r={font:{color:o.bodyText,family:t.bodyFont},paper_bgcolor:o.bgColor,plot_bgcolor:o.secondaryBg};return{...e,font:{...r.font,...e.font},paper_bgcolor:e.paper_bgcolor||r.paper_bgcolor,plot_bgcolor:e.plot_bgcolor||r.plot_bgcolor}}(t.layout,o),t}function v(e,l,o,t){if(!e)return;const r={select:{points:[],point_indices:[],box:[],lasso:[]}},c=new Set,a=[],s=[],d=[],{selections:p,points:u}=e;if(u&&u.forEach((function(e){d.push({...e,legendgroup:e.data.legendgroup||void 0,data:void 0,fullData:void 0}),(0,n.bb)(e.pointIndex)&&c.add(e.pointIndex),(0,n.bb)(e.pointIndices)&&e.pointIndices.length>0&&e.pointIndices.forEach((e=>c.add(e)))})),p&&p.forEach((e=>{if("rect"===e.type){const l=function(e){return"x0"in e&&"x1"in e&&"y0"in e&&"y1"in e?{x:[e.x0,e.x1],y:[e.y0,e.y1]}:{x:[],y:[]}}(e),o={xref:e.xref,yref:e.yref,x:l.x,y:l.y};a.push(o)}if("path"===e.type){const l=function(e){if(""===e)return{x:[],y:[]};const l=e.replace("M","").replace("Z","").split("L"),o=[],t=[];return l.forEach((e=>{const[l,r]=e.split(",").map(Number);o.push(l),t.push(r)})),{x:o,y:t}}(e.path),o={xref:e.xref,yref:e.yref,x:l.x,y:l.y};s.push(o)}})),r.select.point_indices=Array.from(c),r.select.points=d.map((e=>(0,n.KI)(e))),r.select.box=a,r.select.lasso=s,r.select.box.length>0&&!o.selectionMode.includes(i.hP.SelectionMode.BOX))return;if(r.select.lasso.length>0&&!o.selectionMode.includes(i.hP.SelectionMode.LASSO))return;const f=l.getStringValue(o),y=JSON.stringify(r);f!==y&&l.setStringValue(o,y,{fromUi:!0},t)}const S=(0,a.Z)((function(e){var l,o,a,n,d;let{element:p,width:u,height:f,widgetMgr:y,disabled:g,fragmentId:m,isFullScreen:S,expand:M,collapse:w,disableFullscreenMode:F}=e;const P=(0,r.u)(),C=(0,t.useMemo)((()=>p.spec?JSON.parse(p.spec):{layout:{},data:[],frames:void 0}),[p.id,p.spec]),[z,k]=(0,t.useState)((()=>{const e=y.getElementState(p.id,"figure");return e||x(C,p.theme,P)})),X=p.selectionMode.length>0&&!g,I=X&&p.selectionMode.includes(i.hP.SelectionMode.LASSO),_=X&&p.selectionMode.includes(i.hP.SelectionMode.BOX),E=X&&p.selectionMode.includes(i.hP.SelectionMode.POINTS),B=(0,t.useMemo)((()=>{if(!p.config)return{};const e=JSON.parse(p.config);if(F||(e.modeBarButtonsToAdd=[{name:S?"Close fullscreen":"Fullscreen",icon:S?b:A,click:()=>{S&&w?w():M&&M()}}]),!e.modeBarButtonsToRemove){e.displaylogo=!1;const l=["sendDataToCloud"];X?(I||l.push("lasso2d"),_||l.push("select2d")):l.push("lasso2d","select2d"),e.modeBarButtonsToRemove=l}return e}),[p.id,p.config,S,F,X,I,_,w,M]);(0,t.useEffect)((()=>{k((e=>x(e,p.theme,P)))}),[p.id,P,p.theme]),(0,t.useEffect)((()=>{let e=C.layout.clickmode,l=C.layout.hovermode,o=C.layout.dragmode;g?(e="none",o="pan"):X&&(C.layout.clickmode||(e=E?"event+select":"none"),C.layout.hovermode||(l="closest"),C.layout.dragmode||(o=E?"pan":_?"select":I?"lasso":"pan")),k((t=>t.layout.clickmode===e&&t.layout.hovermode===l&&t.layout.dragmode===o?t:{...t,layout:{...t.layout,clickmode:e,hovermode:l,dragmode:o}}))}),[p.id,X,E,_,I,g]);let L=-1===u?null===(l=z.layout)||void 0===l?void 0:l.width:Math.max(p.useContainerWidth?u:Math.min(null!==(o=C.layout.width)&&void 0!==o?o:u,u),150),V=C.layout.height;S&&(L=u,V=f),z.layout.height===V&&z.layout.width===L||k((e=>({...e,layout:{...e.layout,height:V,width:L}})));const H=(0,t.useCallback)((e=>{v(e,y,p,m)}),[p.id,y,m]),O=(0,t.useCallback)((function(){let e=!(arguments.length>0&&void 0!==arguments[0])||arguments[0];!function(e,l,o){const t=e.getStringValue(l),r=JSON.stringify({select:{points:[],point_indices:[],box:[],lasso:[]}});t!==r&&e.setStringValue(l,r,{fromUi:!0},o)}(y,p,m),e&&setTimeout((()=>{k((e=>({...e,data:e.data.map((e=>({...e,selectedpoints:null}))),layout:{...e.layout,selections:[]}})))}),50)}),[p.id,y,m]);return(0,t.useEffect)((()=>{if(!p.formId||!X)return;const e=new s.K;return e.manageFormClearListener(y,p.formId,O),()=>{e.disconnect()}}),[p.formId,y,X,O]),(0,t.useEffect)((()=>{var e,l,o;if(!X)return;let t;t="select"===(null===(e=z.layout)||void 0===e?void 0:e.dragmode)||"lasso"===(null===(l=z.layout)||void 0===l?void 0:l.dragmode)?"event":E?"event+select":"none",(null===(o=z.layout)||void 0===o?void 0:o.clickmode)!==t&&k((e=>({...e,layout:{...e.layout,clickmode:t}})))}),[null===(a=z.layout)||void 0===a?void 0:a.dragmode]),(0,h.jsx)(c.Z,{className:"stPlotlyChart",data:z.data,layout:z.layout,config:B,frames:null!==(n=z.frames)&&void 0!==n?n:void 0,style:{visibility:void 0===(null===(d=z.layout)||void 0===d?void 0:d.width)?"hidden":void 0},onSelected:X?H:()=>{},onDoubleClick:X?()=>O():void 0,onDeselect:X?()=>{O(!1)}:void 0,onInitialized:e=>{y.setElementState(p.id,"figure",e)},onUpdate:e=>{y.setElementState(p.id,"figure",e),k(e)}},S?"fullscreen":"original")}),!0)},87814:(e,l,o)=>{o.d(l,{K:()=>r});var t=o(50641);class r{constructor(){this.formClearListener=void 0,this.lastWidgetMgr=void 0,this.lastFormId=void 0}manageFormClearListener(e,l,o){null!=this.formClearListener&&this.lastWidgetMgr===e&&this.lastFormId===l||(this.disconnect(),(0,t.bM)(l)&&(this.formClearListener=e.addFormClearedListener(l,o),this.lastWidgetMgr=e,this.lastFormId=l))}disconnect(){var e;null===(e=this.formClearListener)||void 0===e||e.disconnect(),this.formClearListener=void 0,this.lastWidgetMgr=void 0,this.lastFormId=void 0}}}}]);