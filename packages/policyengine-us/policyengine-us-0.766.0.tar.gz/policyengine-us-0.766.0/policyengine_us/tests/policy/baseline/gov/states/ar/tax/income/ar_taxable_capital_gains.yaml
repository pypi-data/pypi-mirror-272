- name: $2,000 of lt and $1,000 of st capital gains, 50% of long term gains is taxable
  period: 2022
  input:
    state_code: AR
    long_term_capital_gains: 2_000
    short_term_capital_gains: 1_000
    filing_status: SINGLE
  output:
    ar_taxable_capital_gains: 2_000

- name: Only capital loss is capped, 50% of long term gains is taxable
  period: 2022
  input:
    state_code: AR
    long_term_capital_gains: 1_000
    short_term_capital_gains: 1_000
    filing_status: HEAD_OF_HOUSEHOLD
  output:
    ar_taxable_capital_gains: 1_500

- name: AR taxable capital gains unit test 1
  absolute_error_margin: 0.01
  period: 2021
  input:
    short_term_capital_gains: 800
    state_fips: 5  # AR
  output:  # AR 1000D form says all short-term capital gains are taxable
    ar_taxable_capital_gains: 800

- name: Long term capital gains are offset by short term gains
  absolute_error_margin: 0.01
  period: 2021
  input:
    long_term_capital_gains: 1_000
    short_term_capital_gains: -800
    state_fips: 5  # AR
  output:  
    ar_taxable_capital_gains: 100

- name: Short term losses are taxed at 50% rate
  absolute_error_margin: 0.01
  period: 2021
  input:
    long_term_capital_gains: 0
    short_term_capital_gains: -800
    state_fips: 5  # AR
  output:  
    ar_taxable_capital_gains: -800

- name: Taxable short term losses are capped at $1,500
  absolute_error_margin: 0.01
  period: 2021
  input:
    long_term_capital_gains: 0
    short_term_capital_gains: -4_000
    state_fips: 5  # AR
  output:  
    ar_taxable_capital_gains: -1_500

- name: Taxable capital losses are capped at $1,500
  absolute_error_margin: 0.01
  period: 2021
  input:
    long_term_capital_gains: 1_000
    short_term_capital_gains: -4_000
    state_fips: 5  # AR
  output:  
    ar_taxable_capital_gains: -1_500
