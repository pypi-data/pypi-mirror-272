"use strict";(self.webpackChunk_dfnotebook_dfnotebook_extension=self.webpackChunk_dfnotebook_dfnotebook_extension||[]).push([[600],{16600:(e,t,o)=>{o.r(t),o.d(t,{default:()=>T});var n=o(99626),l=o(15923),a=o(49471),d=o(35256);class i extends d.Widget{constructor(){super(),this.isOpen=!1}onAfterAttach(){this.isOpen=!0}onAfterDetach(){this.isOpen=!1}}var c,r=o(206),s=o(39128),u=o(12350),b=o(90630),m=o(44670),C=o(36260),p=o(6366),g=o(48291),k=o(22825),v=o(90265),f=o(41527),w=o(64053),h=o(67262),A=o(29012),_=o(10384),x=o(94236),y=o(8702);!function(e){e.createNew="notebook:create-new",e.interrupt="notebook:interrupt-kernel",e.restart="notebook:restart-kernel",e.restartClear="notebook:restart-clear-output",e.restartAndRunToSelected="notebook:restart-and-run-to-selected",e.restartRunAll="notebook:restart-run-all",e.reconnectToKernel="notebook:reconnect-to-kernel",e.changeKernel="notebook:change-kernel",e.getKernel="notebook:get-kernel",e.createConsole="notebook:create-console",e.createOutputView="notebook:create-output-view",e.clearAllOutputs="notebook:clear-all-cell-outputs",e.shutdown="notebook:shutdown-kernel",e.closeAndShutdown="notebook:close-and-shutdown",e.trust="notebook:trust",e.exportToFormat="notebook:export-to-format",e.run="notebook:run-cell",e.runAndAdvance="notebook:run-cell-and-select-next",e.runAndInsert="notebook:run-cell-and-insert-below",e.runInConsole="notebook:run-in-console",e.runAll="notebook:run-all-cells",e.runAllAbove="notebook:run-all-above",e.runAllBelow="notebook:run-all-below",e.renderAllMarkdown="notebook:render-all-markdown",e.toCode="notebook:change-cell-to-code",e.toMarkdown="notebook:change-cell-to-markdown",e.toRaw="notebook:change-cell-to-raw",e.cut="notebook:cut-cell",e.copy="notebook:copy-cell",e.pasteAbove="notebook:paste-cell-above",e.pasteBelow="notebook:paste-cell-below",e.duplicateBelow="notebook:duplicate-below",e.pasteAndReplace="notebook:paste-and-replace-cell",e.moveUp="notebook:move-cell-up",e.moveDown="notebook:move-cell-down",e.clearOutputs="notebook:clear-cell-output",e.deleteCell="notebook:delete-cell",e.insertAbove="notebook:insert-cell-above",e.insertBelow="notebook:insert-cell-below",e.selectAbove="notebook:move-cursor-up",e.selectBelow="notebook:move-cursor-down",e.selectHeadingAboveOrCollapse="notebook:move-cursor-heading-above-or-collapse",e.selectHeadingBelowOrExpand="notebook:move-cursor-heading-below-or-expand",e.insertHeadingAbove="notebook:insert-heading-above",e.insertHeadingBelow="notebook:insert-heading-below",e.extendAbove="notebook:extend-marked-cells-above",e.extendTop="notebook:extend-marked-cells-top",e.extendBelow="notebook:extend-marked-cells-below",e.extendBottom="notebook:extend-marked-cells-bottom",e.selectAll="notebook:select-all",e.deselectAll="notebook:deselect-all",e.editMode="notebook:enter-edit-mode",e.merge="notebook:merge-cells",e.mergeAbove="notebook:merge-cell-above",e.mergeBelow="notebook:merge-cell-below",e.split="notebook:split-cell-at-cursor",e.commandMode="notebook:enter-command-mode",e.toggleAllLines="notebook:toggle-all-cell-line-numbers",e.undoCellAction="notebook:undo-cell-action",e.redoCellAction="notebook:redo-cell-action",e.redo="notebook:redo",e.undo="notebook:undo",e.markdown1="notebook:change-cell-to-heading-1",e.markdown2="notebook:change-cell-to-heading-2",e.markdown3="notebook:change-cell-to-heading-3",e.markdown4="notebook:change-cell-to-heading-4",e.markdown5="notebook:change-cell-to-heading-5",e.markdown6="notebook:change-cell-to-heading-6",e.hideCode="notebook:hide-cell-code",e.showCode="notebook:show-cell-code",e.hideAllCode="notebook:hide-all-cell-code",e.showAllCode="notebook:show-all-cell-code",e.hideOutput="notebook:hide-cell-outputs",e.showOutput="notebook:show-cell-outputs",e.hideAllOutputs="notebook:hide-all-cell-outputs",e.showAllOutputs="notebook:show-all-cell-outputs",e.toggleRenderSideBySideCurrentNotebook="notebook:toggle-render-side-by-side-current",e.setSideBySideRatio="notebook:set-side-by-side-ratio",e.enableOutputScrolling="notebook:enable-output-scrolling",e.disableOutputScrolling="notebook:disable-output-scrolling",e.selectLastRunCell="notebook:select-last-run-cell",e.replaceSelection="notebook:replace-selection",e.autoClosingBrackets="notebook:toggle-autoclosing-brackets",e.toggleCollapseCmd="notebook:toggle-heading-collapse",e.collapseAllCmd="notebook:collapse-all-headings",e.expandAllCmd="notebook:expand-all-headings",e.copyToClipboard="notebook:copy-to-clipboard",e.invokeCompleter="completer:invoke-notebook",e.selectCompleter="completer:select-notebook",e.tocRunCells="toc:run-cells",e.tagCell="notebook:tag-cell"}(c||(c={}));const N="Notebook",S="Dataflow Notebook",E="jp-NotebookExtension-sideBySideMargins",O={id:"@dfnotebook/dfnotebook-extension:tracker",description:"Provides the notebook widget tracker.",provides:g.INotebookTracker,requires:[g.INotebookWidgetFactory,_.IDataflowNotebookWidgetFactory,u.IEditorExtensionRegistry],optional:[l.ICommandPalette,m.IDefaultFileBrowser,C.ILauncher,n.ILayoutRestorer,p.IMainMenu,n.IRouter,k.ISettingRegistry,l.ISessionContextDialogs,v.ITranslator,f.IFormRendererRegistry],activate:function(e,t,o,n,a,d,i,s,u,b,m,C,p,k){const w=null!=p?p:v.nullTranslator,x=null!=C?C:new l.SessionContextDialogs({translator:w}),y=w.load("jupyterlab"),I=e.serviceManager,{commands:B,shell:R}=e,M=new g.NotebookTracker({namespace:"notebook"});null==b||b.routed.connect((function(e,t){t.hash&&M.currentWidget&&M.currentWidget.setFragment(t.hash)}));const D=()=>K.isEnabled(R,M),T=e=>document.documentElement.style.setProperty("--jp-side-by-side-output-size",`${e}fr`);if((m?m.load(O.id):Promise.reject(new Error(`No setting registry for ${O.id}`))).then((e=>{$(t,e),$(o,e),e.changed.connect((()=>{$(t,e),$(o,e)}));const a=(t,o)=>{const{newValue:n,oldValue:l}=o,a=n.autoStartDefault;"boolean"==typeof a&&a!==l.autoStartDefault&&a!==e.get("autoStartDefaultKernel").composite&&e.set("autoStartDefaultKernel",a).catch((t=>{console.error(`Failed to set ${e.id}.autoStartDefaultKernel`)}))},d=new WeakSet,i=e=>{const t=e.context.sessionContext;t.isDisposed||d.has(t)||(d.add(t),t.kernelPreferenceChanged.connect(a),t.disposed.connect((()=>{t.kernelPreferenceChanged.disconnect(a)})))};M.forEach(i),M.widgetAdded.connect(((e,t)=>{i(t)})),B.addCommand(c.autoClosingBrackets,{execute:t=>{var o;const n=e.get("codeCellConfig").composite,l=e.get("markdownCellConfig").composite,a=e.get("rawCellConfig").composite,d=n.autoClosingBrackets||l.autoClosingBrackets||a.autoClosingBrackets,i=!!(null!==(o=t.force)&&void 0!==o?o:!d);[n.autoClosingBrackets,l.autoClosingBrackets,a.autoClosingBrackets]=[i,i,i],e.set("codeCellConfig",n),e.set("markdownCellConfig",l),e.set("rawCellConfig",a)},label:y.__("Auto Close Brackets for All Notebook Cell Types"),isToggled:()=>["codeCellConfig","markdownCellConfig","rawCellConfig"].some((t=>{var o;return!0===(null!==(o=e.get(t).composite.autoClosingBrackets)&&void 0!==o?o:n.baseConfiguration.autoClosingBrackets)}))}),B.addCommand(c.setSideBySideRatio,{label:y.__("Set side-by-side ratio"),execute:t=>{l.InputDialog.getNumber({title:y.__("Width of the output in side-by-side mode"),value:e.get("sideBySideOutputRatio").composite}).then((t=>{T(t.value),t.value&&e.set("sideBySideOutputRatio",t.value)})).catch(console.error)}})})).catch((e=>{console.warn(e.message),V({editorConfig:t.editorConfig,notebookConfig:t.notebookConfig,kernelShutdown:t.shutdownOnClose,autoStartDefault:t.autoStartDefault})})),k){const e=k.getRenderer("@jupyterlab/codemirror-extension:plugin.defaultConfig");e&&(k.addRenderer("@jupyterlab/notebook-extension:tracker.codeCellConfig",e),k.addRenderer("@jupyterlab/notebook-extension:tracker.markdownCellConfig",e),k.addRenderer("@jupyterlab/notebook-extension:tracker.rawCellConfig",e))}s&&s.restore(M,{command:"docmanager:open",args:e=>({path:e.context.path,factory:e.context.model instanceof _.DataflowNotebookModel?S:N}),name:e=>e.context.path,when:I.ready});const W=e.docRegistry,L=new g.NotebookModelFactory({disableDocumentWideUndoRedo:t.notebookConfig.disableDocumentWideUndoRedo,collaborative:!0});W.addModelFactory(L);const F=new _.DataflowNotebookModelFactory({disableDocumentWideUndoRedo:t.notebookConfig.disableDocumentWideUndoRedo,collaborative:!0});W.addModelFactory(F),function(e,t,o,n,a){const d=o.load("jupyterlab"),{commands:i,shell:s}=e,u=()=>K.isEnabledAndSingleSelected(s,t);t.currentChanged.connect(((e,t)=>{var o,n;(null===(n=null===(o=null==t?void 0:t.content)||void 0===o?void 0:o.model)||void 0===n?void 0:n.cells)&&(t.content.model.cells.changed.connect(((e,o)=>{(e=>{var t,o;for(const n of e.widgets)n instanceof r.MarkdownCell&&n.headingCollapsed&&g.NotebookActions.setHeadingCollapse(n,!0,e),n.model.id===(null===(o=null===(t=e.activeCell)||void 0===t?void 0:t.model)||void 0===o?void 0:o.id)&&g.NotebookActions.expandParent(n,e)})(t.content)})),t.content.activeCellChanged.connect(((e,t)=>{g.NotebookActions.expandParent(t,e)})))})),t.selectionChanged.connect((()=>{i.notifyCommandChanged(c.duplicateBelow),i.notifyCommandChanged(c.deleteCell),i.notifyCommandChanged(c.copy),i.notifyCommandChanged(c.cut),i.notifyCommandChanged(c.pasteBelow),i.notifyCommandChanged(c.pasteAbove),i.notifyCommandChanged(c.pasteAndReplace),i.notifyCommandChanged(c.moveUp),i.notifyCommandChanged(c.moveDown),i.notifyCommandChanged(c.run),i.notifyCommandChanged(c.runAll),i.notifyCommandChanged(c.runAndAdvance),i.notifyCommandChanged(c.runAndInsert)})),t.activeCellChanged.connect((()=>{i.notifyCommandChanged(c.moveUp),i.notifyCommandChanged(c.moveDown)})),i.addCommand(c.runAndAdvance,{label:e=>{var o;const n=H(t,s,{...e,activate:!1});return d._n("Run Selected Cell","Run Selected Cells",null!==(o=null==n?void 0:n.content.selectedCells.length)&&void 0!==o?o:1)},caption:e=>{var o;const n=H(t,s,{...e,activate:!1});return d._n("Run this cell and advance","Run these %1 cells and advance",null!==(o=null==n?void 0:n.content.selectedCells.length)&&void 0!==o?o:1)},execute:e=>{const l=H(t,s,e);if(l){const{context:e,content:t}=l;return t instanceof _.DataflowNotebook?_.DataflowNotebookActions.runAndAdvance(t,e.sessionContext,n,o):g.NotebookActions.runAndAdvance(t,e.sessionContext,n,o)}},isEnabled:e=>!!e.toolbar||a(),icon:e=>e.toolbar?f.runIcon:void 0}),i.addCommand(c.run,{label:e=>{var o;const n=H(t,s,{...e,activate:!1});return d._n("Run Selected Cell and Do not Advance","Run Selected Cells and Do not Advance",null!==(o=null==n?void 0:n.content.selectedCells.length)&&void 0!==o?o:1)},execute:e=>{const l=H(t,s,e);if(l){const{context:e,content:t}=l;return t instanceof _.DataflowNotebook?_.DataflowNotebookActions.run(t,e.sessionContext,n,o):g.NotebookActions.run(t,e.sessionContext,n,o)}},isEnabled:a}),i.addCommand(c.runAndInsert,{label:e=>{var o;const n=H(t,s,{...e,activate:!1});return d._n("Run Selected Cell and Insert Below","Run Selected Cells and Insert Below",null!==(o=null==n?void 0:n.content.selectedCells.length)&&void 0!==o?o:1)},execute:e=>{const l=H(t,s,e);if(l){const{context:e,content:t}=l;return t instanceof _.DataflowNotebook?_.DataflowNotebookActions.runAndInsert(t,e.sessionContext,n,o):g.NotebookActions.runAndInsert(t,e.sessionContext,n,o)}},isEnabled:a}),i.addCommand(c.runAll,{label:d.__("Run All Cells"),caption:d.__("Run all cells"),execute:e=>{const l=H(t,s,e);if(l){const{context:e,content:t}=l;return t instanceof _.DataflowNotebook?_.DataflowNotebookActions.runAll(t,e.sessionContext,n,o):g.NotebookActions.runAll(t,e.sessionContext,n,o)}},isEnabled:a}),i.addCommand(c.runAllAbove,{label:d.__("Run All Above Selected Cell"),execute:e=>{const l=H(t,s,e);if(l){const{context:e,content:t}=l;return t instanceof _.DataflowNotebook?_.DataflowNotebookActions.runAllAbove(t,e.sessionContext,n,o):g.NotebookActions.runAllAbove(t,e.sessionContext,n,o)}},isEnabled:()=>u()&&0!==t.currentWidget.content.activeCellIndex}),i.addCommand(c.runAllBelow,{label:d.__("Run Selected Cell and All Below"),execute:e=>{const l=H(t,s,e);if(l){const{context:e,content:t}=l;return t instanceof _.DataflowNotebook?_.DataflowNotebookActions.runAllBelow(t,e.sessionContext,n,o):g.NotebookActions.runAllBelow(t,e.sessionContext,n,o)}},isEnabled:()=>u()&&t.currentWidget.content.activeCellIndex!==t.currentWidget.content.widgets.length-1}),i.addCommand(c.renderAllMarkdown,{label:d.__("Render All Markdown Cells"),execute:e=>{const o=H(t,s,e);if(o){const{content:e}=o;return e instanceof _.DataflowNotebook?_.DataflowNotebookActions.renderAllMarkdown(e):g.NotebookActions.renderAllMarkdown(e)}},isEnabled:a}),i.addCommand(c.restart,{label:d.__("Restart Kernel…"),caption:d.__("Restart the kernel"),execute:e=>{const o=H(t,s,e);if(o)return n.restart(o.sessionContext)},isEnabled:e=>!!e.toolbar||a(),icon:e=>e.toolbar?f.refreshIcon:void 0}),i.addCommand(c.shutdown,{label:d.__("Shut Down Kernel"),execute:e=>{const o=H(t,s,e);if(o)return o.context.sessionContext.shutdown()},isEnabled:a}),i.addCommand(c.closeAndShutdown,{label:d.__("Close and Shut Down Notebook"),execute:e=>{const o=H(t,s,e);if(!o)return;const n=o.title.label;return(0,l.showDialog)({title:d.__("Shut down the notebook?"),body:d.__('Are you sure you want to close "%1"?',n),buttons:[l.Dialog.cancelButton(),l.Dialog.warnButton()]}).then((e=>{if(e.button.accept)return i.execute(c.shutdown,{activate:!1}).then((()=>{o.dispose()}))}))},isEnabled:a}),i.addCommand(c.trust,{label:()=>d.__("Trust Notebook"),execute:e=>{const o=H(t,s,e);if(o){const{context:e,content:t}=o;return g.NotebookActions.trust(t).then((()=>e.save()))}},isEnabled:a}),i.addCommand(c.restartClear,{label:d.__("Restart Kernel and Clear Outputs of All Cells…"),caption:d.__("Restart the kernel and clear all outputs of all cells"),execute:async()=>{await i.execute(c.restart,{activate:!1})&&await i.execute(c.clearAllOutputs)},isEnabled:a}),i.addCommand(c.restartAndRunToSelected,{label:d.__("Restart Kernel and Run up to Selected Cell…"),execute:async()=>{if(await i.execute(c.restart,{activate:!1})&&await i.execute(c.runAllAbove,{activate:!1}))return i.execute(c.run)},isEnabled:u}),i.addCommand(c.restartRunAll,{label:d.__("Restart Kernel and Run All Cells…"),caption:d.__("Restart the kernel and run all cells"),execute:async()=>{await i.execute(c.restart,{activate:!1})&&await i.execute(c.runAll)},isEnabled:e=>!!e.toolbar||a(),icon:e=>e.toolbar?f.fastForwardIcon:void 0}),i.addCommand(c.clearAllOutputs,{label:d.__("Clear Outputs of All Cells"),caption:d.__("Clear all outputs of all cells"),execute:e=>{const o=H(t,s,e);if(o)return g.NotebookActions.clearAllOutputs(o.content)},isEnabled:a}),i.addCommand(c.clearOutputs,{label:d.__("Clear Cell Output"),caption:d.__("Clear outputs for the selected cells"),execute:e=>{const o=H(t,s,e);if(o)return g.NotebookActions.clearOutputs(o.content)},isEnabled:a}),i.addCommand(c.interrupt,{label:d.__("Interrupt Kernel"),caption:d.__("Interrupt the kernel"),execute:e=>{var o;const n=H(t,s,e);if(!n)return;const l=null===(o=n.context.sessionContext.session)||void 0===o?void 0:o.kernel;return l?l.interrupt():void 0},isEnabled:e=>!!e.toolbar||a(),icon:e=>e.toolbar?f.stopIcon:void 0}),i.addCommand(c.toCode,{label:d.__("Change to Code Cell Type"),execute:e=>{const o=H(t,s,e);if(o)return g.NotebookActions.changeCellType(o.content,"code")},isEnabled:a}),i.addCommand(c.toMarkdown,{label:d.__("Change to Markdown Cell Type"),execute:e=>{const o=H(t,s,e);if(o)return g.NotebookActions.changeCellType(o.content,"markdown")},isEnabled:a}),i.addCommand(c.toRaw,{label:d.__("Change to Raw Cell Type"),execute:e=>{const o=H(t,s,e);if(o)return g.NotebookActions.changeCellType(o.content,"raw")},isEnabled:a}),i.addCommand(c.cut,{label:e=>{var o;const n=H(t,s,{...e,activate:!1});return d._n("Cut Cell","Cut Cells",null!==(o=null==n?void 0:n.content.selectedCells.length)&&void 0!==o?o:1)},caption:e=>{var o;const n=H(t,s,{...e,activate:!1});return d._n("Cut this cell","Cut these %1 cells",null!==(o=null==n?void 0:n.content.selectedCells.length)&&void 0!==o?o:1)},execute:e=>{const o=H(t,s,e);if(o)return g.NotebookActions.cut(o.content)},icon:e=>e.toolbar?f.cutIcon:void 0,isEnabled:e=>!!e.toolbar||a()}),i.addCommand(c.copy,{label:e=>{var o;const n=H(t,s,{...e,activate:!1});return d._n("Copy Cell","Copy Cells",null!==(o=null==n?void 0:n.content.selectedCells.length)&&void 0!==o?o:1)},caption:e=>{var o;const n=H(t,s,{...e,activate:!1});return d._n("Copy this cell","Copy these %1 cells",null!==(o=null==n?void 0:n.content.selectedCells.length)&&void 0!==o?o:1)},execute:e=>{const o=H(t,s,e);if(o)return g.NotebookActions.copy(o.content)},icon:e=>e.toolbar?f.copyIcon:void 0,isEnabled:e=>!!e.toolbar||a()}),i.addCommand(c.pasteBelow,{label:e=>{var o;const n=H(t,s,{...e,activate:!1});return d._n("Paste Cell Below","Paste Cells Below",null!==(o=null==n?void 0:n.content.selectedCells.length)&&void 0!==o?o:1)},caption:e=>{var o;const n=H(t,s,{...e,activate:!1});return d._n("Paste this cell from the clipboard","Paste these %1 cells from the clipboard",null!==(o=null==n?void 0:n.content.selectedCells.length)&&void 0!==o?o:1)},execute:e=>{const o=H(t,s,e);if(o)return g.NotebookActions.paste(o.content,"below")},icon:e=>e.toolbar?f.pasteIcon:void 0,isEnabled:e=>!!e.toolbar||a()}),i.addCommand(c.pasteAbove,{label:e=>{var o;const n=H(t,s,{...e,activate:!1});return d._n("Paste Cell Above","Paste Cells Above",null!==(o=null==n?void 0:n.content.selectedCells.length)&&void 0!==o?o:1)},caption:e=>{var o;const n=H(t,s,{...e,activate:!1});return d._n("Paste this cell from the clipboard","Paste these %1 cells from the clipboard",null!==(o=null==n?void 0:n.content.selectedCells.length)&&void 0!==o?o:1)},execute:e=>{const o=H(t,s,e);if(o)return g.NotebookActions.paste(o.content,"above")},isEnabled:a}),i.addCommand(c.duplicateBelow,{label:e=>{var o;const n=H(t,s,{...e,activate:!1});return d._n("Duplicate Cell Below","Duplicate Cells Below",null!==(o=null==n?void 0:n.content.selectedCells.length)&&void 0!==o?o:1)},caption:e=>{var o;const n=H(t,s,{...e,activate:!1});return d._n("Create a duplicate of this cell below","Create duplicates of %1 cells below",null!==(o=null==n?void 0:n.content.selectedCells.length)&&void 0!==o?o:1)},execute:e=>{const o=H(t,s,e);o&&g.NotebookActions.duplicate(o.content,"belowSelected")},icon:e=>e.toolbar?f.duplicateIcon:void 0,isEnabled:e=>!!e.toolbar||a()}),i.addCommand(c.pasteAndReplace,{label:e=>{var o;const n=H(t,s,{...e,activate:!1});return d._n("Paste Cell and Replace","Paste Cells and Replace",null!==(o=null==n?void 0:n.content.selectedCells.length)&&void 0!==o?o:1)},execute:e=>{const o=H(t,s,e);if(o)return g.NotebookActions.paste(o.content,"replace")},isEnabled:a}),i.addCommand(c.deleteCell,{label:e=>{var o;const n=H(t,s,{...e,activate:!1});return d._n("Delete Cell","Delete Cells",null!==(o=null==n?void 0:n.content.selectedCells.length)&&void 0!==o?o:1)},caption:e=>{var o;const n=H(t,s,{...e,activate:!1});return d._n("Delete this cell","Delete these %1 cells",null!==(o=null==n?void 0:n.content.selectedCells.length)&&void 0!==o?o:1)},execute:e=>{const o=H(t,s,e);if(o)return g.NotebookActions.deleteCells(o.content)},isEnabled:e=>!!e.toolbar||a()}),i.addCommand(c.split,{label:d.__("Split Cell"),execute:e=>{const o=H(t,s,e);if(o)return g.NotebookActions.splitCell(o.content)},isEnabled:a}),i.addCommand(c.merge,{label:d.__("Merge Selected Cells"),execute:e=>{const o=H(t,s,e);if(o)return g.NotebookActions.mergeCells(o.content)},isEnabled:a}),i.addCommand(c.mergeAbove,{label:d.__("Merge Cell Above"),execute:e=>{const o=H(t,s,e);if(o)return g.NotebookActions.mergeCells(o.content,!0)},isEnabled:a}),i.addCommand(c.mergeBelow,{label:d.__("Merge Cell Below"),execute:e=>{const o=H(t,s,e);if(o)return g.NotebookActions.mergeCells(o.content,!1)},isEnabled:a}),i.addCommand(c.insertAbove,{label:d.__("Insert Cell Above"),caption:d.__("Insert a cell above"),execute:e=>{const o=H(t,s,e);if(o)return g.NotebookActions.insertAbove(o.content)},icon:e=>e.toolbar?f.addAboveIcon:void 0,isEnabled:e=>!!e.toolbar||a()}),i.addCommand(c.insertBelow,{label:d.__("Insert Cell Below"),caption:d.__("Insert a cell below"),execute:e=>{const o=H(t,s,e);if(o)return g.NotebookActions.insertBelow(o.content)},icon:e=>e.toolbar?f.addBelowIcon:void 0,isEnabled:e=>!!e.toolbar||a()}),i.addCommand(c.selectAbove,{label:d.__("Select Cell Above"),execute:e=>{const o=H(t,s,e);if(o)return g.NotebookActions.selectAbove(o.content)},isEnabled:a}),i.addCommand(c.selectBelow,{label:d.__("Select Cell Below"),execute:e=>{const o=H(t,s,e);if(o)return g.NotebookActions.selectBelow(o.content)},isEnabled:a}),i.addCommand(c.insertHeadingAbove,{label:d.__("Insert Heading Above Current Heading"),execute:e=>{const o=H(t,s,e);if(o)return g.NotebookActions.insertSameLevelHeadingAbove(o.content)},isEnabled:a}),i.addCommand(c.insertHeadingBelow,{label:d.__("Insert Heading Below Current Heading"),execute:e=>{const o=H(t,s,e);if(o)return g.NotebookActions.insertSameLevelHeadingBelow(o.content)},isEnabled:a}),i.addCommand(c.selectHeadingAboveOrCollapse,{label:d.__("Select Heading Above or Collapse Heading"),execute:e=>{const o=H(t,s,e);if(o)return g.NotebookActions.selectHeadingAboveOrCollapseHeading(o.content)},isEnabled:a}),i.addCommand(c.selectHeadingBelowOrExpand,{label:d.__("Select Heading Below or Expand Heading"),execute:e=>{const o=H(t,s,e);if(o)return g.NotebookActions.selectHeadingBelowOrExpandHeading(o.content)},isEnabled:a}),i.addCommand(c.extendAbove,{label:d.__("Extend Selection Above"),execute:e=>{const o=H(t,s,e);if(o)return g.NotebookActions.extendSelectionAbove(o.content)},isEnabled:a}),i.addCommand(c.extendTop,{label:d.__("Extend Selection to Top"),execute:e=>{const o=H(t,s,e);if(o)return g.NotebookActions.extendSelectionAbove(o.content,!0)},isEnabled:a}),i.addCommand(c.extendBelow,{label:d.__("Extend Selection Below"),execute:e=>{const o=H(t,s,e);if(o)return g.NotebookActions.extendSelectionBelow(o.content)},isEnabled:a}),i.addCommand(c.extendBottom,{label:d.__("Extend Selection to Bottom"),execute:e=>{const o=H(t,s,e);if(o)return g.NotebookActions.extendSelectionBelow(o.content,!0)},isEnabled:a}),i.addCommand(c.selectAll,{label:d.__("Select All Cells"),execute:e=>{const o=H(t,s,e);if(o)return g.NotebookActions.selectAll(o.content)},isEnabled:a}),i.addCommand(c.deselectAll,{label:d.__("Deselect All Cells"),execute:e=>{const o=H(t,s,e);if(o)return g.NotebookActions.deselectAll(o.content)},isEnabled:a}),i.addCommand(c.moveUp,{label:e=>{var o;const n=H(t,s,{...e,activate:!1});return d._n("Move Cell Up","Move Cells Up",null!==(o=null==n?void 0:n.content.selectedCells.length)&&void 0!==o?o:1)},caption:e=>{var o;const n=H(t,s,{...e,activate:!1});return d._n("Move this cell up","Move these %1 cells up",null!==(o=null==n?void 0:n.content.selectedCells.length)&&void 0!==o?o:1)},execute:e=>{const o=H(t,s,e);o&&(g.NotebookActions.moveUp(o.content),K.raiseSilentNotification(d.__("Notebook cell shifted up successfully"),o.node))},isEnabled:e=>{const o=H(t,s,{...e,activate:!1});return!!o&&o.content.activeCellIndex>=1},icon:e=>e.toolbar?f.moveUpIcon:void 0}),i.addCommand(c.moveDown,{label:e=>{var o;const n=H(t,s,{...e,activate:!1});return d._n("Move Cell Down","Move Cells Down",null!==(o=null==n?void 0:n.content.selectedCells.length)&&void 0!==o?o:1)},caption:e=>{var o;const n=H(t,s,{...e,activate:!1});return d._n("Move this cell down","Move these %1 cells down",null!==(o=null==n?void 0:n.content.selectedCells.length)&&void 0!==o?o:1)},execute:e=>{const o=H(t,s,e);o&&(g.NotebookActions.moveDown(o.content),K.raiseSilentNotification(d.__("Notebook cell shifted down successfully"),o.node))},isEnabled:e=>{const o=H(t,s,{...e,activate:!1});if(!o||!o.content.model)return!1;const n=o.content.model.cells.length;return o.content.activeCellIndex<n-1},icon:e=>e.toolbar?f.moveDownIcon:void 0}),i.addCommand(c.toggleAllLines,{label:d.__("Show Line Numbers"),execute:e=>{const o=H(t,s,e);if(o)return g.NotebookActions.toggleAllLineNumbers(o.content)},isEnabled:a,isToggled:e=>{const o=H(t,s,{...e,activate:!1});if(o){const e=o.content.editorConfig;return!!(e.code.lineNumbers&&e.markdown.lineNumbers&&e.raw.lineNumbers)}return!1}}),i.addCommand(c.commandMode,{label:d.__("Enter Command Mode"),execute:e=>{const o=H(t,s,e);o&&(o.content.mode="command")},isEnabled:a}),i.addCommand(c.editMode,{label:d.__("Enter Edit Mode"),execute:e=>{const o=H(t,s,e);o&&(o.content.mode="edit")},isEnabled:a}),i.addCommand(c.undoCellAction,{label:d.__("Undo Cell Operation"),execute:e=>{const o=H(t,s,e);if(o)return g.NotebookActions.undo(o.content)},isEnabled:a}),i.addCommand(c.redoCellAction,{label:d.__("Redo Cell Operation"),execute:e=>{const o=H(t,s,e);if(o)return g.NotebookActions.redo(o.content)},isEnabled:a}),i.addCommand(c.redo,{label:d.__("Redo"),execute:e=>{var o;const n=H(t,s,e);if(n){const e=n.content.activeCell;if(e)return e.inputHidden=!1,null===(o=e.editor)||void 0===o?void 0:o.redo()}}}),i.addCommand(c.undo,{label:d.__("Undo"),execute:e=>{var o;const n=H(t,s,e);if(n){const e=n.content.activeCell;if(e)return e.inputHidden=!1,null===(o=e.editor)||void 0===o?void 0:o.undo()}}}),i.addCommand(c.changeKernel,{label:d.__("Change Kernel…"),execute:e=>{const o=H(t,s,e);if(o)return n.selectKernel(o.context.sessionContext)},isEnabled:a}),i.addCommand(c.getKernel,{label:d.__("Get Kernel"),execute:e=>{var o;const n=H(t,s,{activate:!1,...e});if(n)return null===(o=n.sessionContext.session)||void 0===o?void 0:o.kernel},isEnabled:a}),i.addCommand(c.reconnectToKernel,{label:d.__("Reconnect to Kernel"),execute:e=>{var o;const n=H(t,s,e);if(!n)return;const l=null===(o=n.context.sessionContext.session)||void 0===o?void 0:o.kernel;return l?l.reconnect():void 0},isEnabled:a}),i.addCommand(c.markdown1,{label:d.__("Change to Heading 1"),execute:e=>{const o=H(t,s,e);if(o)return g.NotebookActions.setMarkdownHeader(o.content,1)},isEnabled:a}),i.addCommand(c.markdown2,{label:d.__("Change to Heading 2"),execute:e=>{const o=H(t,s,e);if(o)return g.NotebookActions.setMarkdownHeader(o.content,2)},isEnabled:a}),i.addCommand(c.markdown3,{label:d.__("Change to Heading 3"),execute:e=>{const o=H(t,s,e);if(o)return g.NotebookActions.setMarkdownHeader(o.content,3)},isEnabled:a}),i.addCommand(c.markdown4,{label:d.__("Change to Heading 4"),execute:e=>{const o=H(t,s,e);if(o)return g.NotebookActions.setMarkdownHeader(o.content,4)},isEnabled:a}),i.addCommand(c.markdown5,{label:d.__("Change to Heading 5"),execute:e=>{const o=H(t,s,e);if(o)return g.NotebookActions.setMarkdownHeader(o.content,5)},isEnabled:a}),i.addCommand(c.markdown6,{label:d.__("Change to Heading 6"),execute:e=>{const o=H(t,s,e);if(o)return g.NotebookActions.setMarkdownHeader(o.content,6)},isEnabled:a}),i.addCommand(c.hideCode,{label:d.__("Collapse Selected Code"),execute:e=>{const o=H(t,s,e);if(o)return g.NotebookActions.hideCode(o.content)},isEnabled:a}),i.addCommand(c.showCode,{label:d.__("Expand Selected Code"),execute:e=>{const o=H(t,s,e);if(o)return g.NotebookActions.showCode(o.content)},isEnabled:a}),i.addCommand(c.hideAllCode,{label:d.__("Collapse All Code"),execute:e=>{const o=H(t,s,e);if(o)return g.NotebookActions.hideAllCode(o.content)},isEnabled:a}),i.addCommand(c.showAllCode,{label:d.__("Expand All Code"),execute:e=>{const o=H(t,s,e);if(o)return g.NotebookActions.showAllCode(o.content)},isEnabled:a}),i.addCommand(c.hideOutput,{label:d.__("Collapse Selected Outputs"),execute:e=>{const o=H(t,s,e);if(o)return g.NotebookActions.hideOutput(o.content)},isEnabled:a}),i.addCommand(c.showOutput,{label:d.__("Expand Selected Outputs"),execute:e=>{const o=H(t,s,e);if(o)return g.NotebookActions.showOutput(o.content)},isEnabled:a}),i.addCommand(c.hideAllOutputs,{label:d.__("Collapse All Outputs"),execute:e=>{const o=H(t,s,e);if(o)return g.NotebookActions.hideAllOutputs(o.content)},isEnabled:a}),i.addCommand(c.toggleRenderSideBySideCurrentNotebook,{label:d.__("Render Side-by-Side"),execute:e=>{const o=H(t,s,e);if(o)return"side-by-side"===o.content.renderingLayout?g.NotebookActions.renderDefault(o.content):g.NotebookActions.renderSideBySide(o.content)},isEnabled:a,isToggled:e=>{const o=H(t,s,{...e,activate:!1});return!!o&&"side-by-side"===o.content.renderingLayout}}),i.addCommand(c.showAllOutputs,{label:d.__("Expand All Outputs"),execute:e=>{const o=H(t,s,e);if(o)return g.NotebookActions.showAllOutputs(o.content)},isEnabled:a}),i.addCommand(c.enableOutputScrolling,{label:d.__("Enable Scrolling for Outputs"),execute:e=>{const o=H(t,s,e);if(o)return g.NotebookActions.enableOutputScrolling(o.content)},isEnabled:a}),i.addCommand(c.disableOutputScrolling,{label:d.__("Disable Scrolling for Outputs"),execute:e=>{const o=H(t,s,e);if(o)return g.NotebookActions.disableOutputScrolling(o.content)},isEnabled:a}),i.addCommand(c.selectLastRunCell,{label:d.__("Select current running or last run cell"),execute:e=>{const o=H(t,s,e);if(o)return g.NotebookActions.selectLastRunCell(o.content)},isEnabled:a}),i.addCommand(c.replaceSelection,{label:d.__("Replace Selection in Notebook Cell"),execute:e=>{const o=H(t,s,e),n=e.text||"";if(o)return g.NotebookActions.replaceSelection(o.content,n)},isEnabled:a}),i.addCommand(c.toggleCollapseCmd,{label:d.__("Toggle Collapse Notebook Heading"),execute:e=>{const o=H(t,s,e);if(o)return g.NotebookActions.toggleCurrentHeadingCollapse(o.content)},isEnabled:()=>K.isEnabledAndHeadingSelected(s,t)}),i.addCommand(c.collapseAllCmd,{label:d.__("Collapse All Headings"),execute:e=>{const o=H(t,s,e);if(o)return g.NotebookActions.collapseAllHeadings(o.content)}}),i.addCommand(c.expandAllCmd,{label:d.__("Expand All Headings"),execute:e=>{const o=H(t,s,e);if(o)return g.NotebookActions.expandAllHeadings(o.content)}}),i.addCommand(c.tocRunCells,{label:d.__("Select and Run Cell(s) for this Heading"),execute:e=>{const l=H(t,s,{activate:!1,...e});if(null===l)return;const a=l.content.activeCell;let d=l.content.activeCellIndex;if(a instanceof r.MarkdownCell){const e=l.content.widgets,t=a.headingInfo.level;for(let o=l.content.activeCellIndex+1;o<e.length;o++){const n=e[o];if(n instanceof r.MarkdownCell&&n.headingInfo.level>=0&&n.headingInfo.level<=t)break;d=o}}l.content.extendContiguousSelectionTo(d),l.content instanceof _.DataflowNotebook?_.DataflowNotebookActions.run(l.content,l.sessionContext,n,o):g.NotebookActions.run(l.content,l.sessionContext,n,o)}}),i.addCommand(c.tagCell,{label:d.__("Tag Cell"),execute:e=>{var o;const n=null===(o=t.currentWidget)||void 0===o?void 0:o.content.activeCell;if(null==n)return;const l=n.inputArea,a=prompt("Tag this cell please:","");l.addTag(a)}})}(e,M,w,x,D),a&&function(e,t){const o=t.load("jupyterlab");let n=o.__("Notebook Operations");[c.interrupt,c.restart,c.restartClear,c.restartRunAll,c.runAll,c.renderAllMarkdown,c.runAllAbove,c.runAllBelow,c.restartAndRunToSelected,c.selectAll,c.deselectAll,c.clearAllOutputs,c.toggleAllLines,c.editMode,c.commandMode,c.changeKernel,c.reconnectToKernel,c.createConsole,c.closeAndShutdown,c.trust,c.toggleCollapseCmd,c.collapseAllCmd,c.expandAllCmd].forEach((t=>{e.addItem({command:t,category:n})})),e.addItem({command:c.createNew,category:n,args:{isPalette:!0}}),n=o.__("Notebook Cell Operations"),[c.run,c.runAndAdvance,c.runAndInsert,c.runInConsole,c.clearOutputs,c.toCode,c.toMarkdown,c.toRaw,c.cut,c.copy,c.pasteBelow,c.pasteAbove,c.pasteAndReplace,c.deleteCell,c.split,c.merge,c.mergeAbove,c.mergeBelow,c.insertAbove,c.insertBelow,c.selectAbove,c.selectBelow,c.selectHeadingAboveOrCollapse,c.selectHeadingBelowOrExpand,c.insertHeadingAbove,c.insertHeadingBelow,c.extendAbove,c.extendTop,c.extendBelow,c.extendBottom,c.moveDown,c.moveUp,c.undoCellAction,c.redoCellAction,c.markdown1,c.markdown2,c.markdown3,c.markdown4,c.markdown5,c.markdown6,c.hideCode,c.showCode,c.hideAllCode,c.showAllCode,c.hideOutput,c.showOutput,c.hideAllOutputs,c.showAllOutputs,c.toggleRenderSideBySideCurrentNotebook,c.setSideBySideRatio,c.enableOutputScrolling,c.disableOutputScrolling].forEach((t=>{e.addItem({command:t,category:n})}))}(a,w);let P=0;const U=e.docRegistry.getFileType("notebook");function j(e){e.widgetCreated.connect(((e,t)=>{var o,n;t.id=t.id||"notebook-"+ ++P,t.title.icon=null==U?void 0:U.icon,t.title.iconClass=null!==(o=null==U?void 0:U.iconClass)&&void 0!==o?o:"",t.title.iconLabel=null!==(n=null==U?void 0:U.iconLabel)&&void 0!==n?n:"",t.context.pathChanged.connect((()=>{M.save(t)})),M.add(t)}))}function V(e){M.forEach((t=>{t.setConfig(e)}))}function $(e,t){const o={...g.StaticNotebook.defaultEditorConfig.code,...t.get("codeCellConfig").composite},n={...g.StaticNotebook.defaultEditorConfig.markdown,...t.get("markdownCellConfig").composite},l={...g.StaticNotebook.defaultEditorConfig.raw,...t.get("rawCellConfig").composite};e.editorConfig={code:o,markdown:n,raw:l},e.notebookConfig={enableKernelInitNotification:t.get("enableKernelInitNotification").composite,showHiddenCellsButton:t.get("showHiddenCellsButton").composite,scrollPastEnd:t.get("scrollPastEnd").composite,defaultCell:t.get("defaultCell").composite,recordTiming:t.get("recordTiming").composite,overscanCount:t.get("overscanCount").composite,inputHistoryScope:t.get("inputHistoryScope").composite,maxNumberOutputs:t.get("maxNumberOutputs").composite,showEditorForReadOnlyMarkdown:t.get("showEditorForReadOnlyMarkdown").composite,disableDocumentWideUndoRedo:!t.get("documentWideUndoRedo").composite,renderingLayout:t.get("renderingLayout").composite,sideBySideLeftMarginOverride:t.get("sideBySideLeftMarginOverride").composite,sideBySideRightMarginOverride:t.get("sideBySideRightMarginOverride").composite,sideBySideOutputRatio:t.get("sideBySideOutputRatio").composite,windowingMode:t.get("windowingMode").composite},T(e.notebookConfig.sideBySideOutputRatio);const a=`.jp-mod-sideBySide.jp-Notebook .jp-Notebook-cell {\n      margin-left: ${e.notebookConfig.sideBySideLeftMarginOverride} !important;\n      margin-right: ${e.notebookConfig.sideBySideRightMarginOverride} !important;`,d=document.getElementById(E);d?d.innerText=a:document.head.insertAdjacentHTML("beforeend",`<style id="${E}">${a}}</style>`),e.autoStartDefault=t.get("autoStartDefaultKernel").composite,e.shutdownOnClose=t.get("kernelShutdown").composite,L.disableDocumentWideUndoRedo=!t.get("documentWideUndoRedo").composite,F.disableDocumentWideUndoRedo=!t.get("documentWideUndoRedo").composite,V({editorConfig:e.editorConfig,notebookConfig:e.notebookConfig,kernelShutdown:e.shutdownOnClose,autoStartDefault:e.autoStartDefault})}return j(t),j(o),u&&function(e,t){e.editMenu.undoers.redo.add({id:c.redo,isEnabled:t}),e.editMenu.undoers.undo.add({id:c.undo,isEnabled:t}),e.editMenu.clearers.clearAll.add({id:c.clearAllOutputs,isEnabled:t}),e.editMenu.clearers.clearCurrent.add({id:c.clearOutputs,isEnabled:t}),e.fileMenu.consoleCreators.add({id:c.createConsole,isEnabled:t}),e.fileMenu.closeAndCleaners.add({id:c.closeAndShutdown,isEnabled:t}),e.kernelMenu.kernelUsers.changeKernel.add({id:c.changeKernel,isEnabled:t}),e.kernelMenu.kernelUsers.clearWidget.add({id:c.clearAllOutputs,isEnabled:t}),e.kernelMenu.kernelUsers.interruptKernel.add({id:c.interrupt,isEnabled:t}),e.kernelMenu.kernelUsers.reconnectToKernel.add({id:c.reconnectToKernel,isEnabled:t}),e.kernelMenu.kernelUsers.restartKernel.add({id:c.restart,isEnabled:t}),e.kernelMenu.kernelUsers.shutdownKernel.add({id:c.shutdown,isEnabled:t}),e.viewMenu.editorViewers.toggleLineNumbers.add({id:c.toggleAllLines,isEnabled:t}),e.runMenu.codeRunners.restart.add({id:c.restart,isEnabled:t}),e.runMenu.codeRunners.run.add({id:c.runAndAdvance,isEnabled:t}),e.runMenu.codeRunners.runAll.add({id:c.runAll,isEnabled:t}),e.helpMenu.getKernel.add({id:c.getKernel,isEnabled:t})}(u,D),B.addCommand(c.createNew,{label:e=>{var t,o,n;const l=e.kernelName||"";return e.isLauncher&&e.kernelName&&I.kernelspecs?null!==(n=null===(o=null===(t=I.kernelspecs.specs)||void 0===t?void 0:t.kernelspecs[l])||void 0===o?void 0:o.display_name)&&void 0!==n?n:"":e.isPalette||e.isContextMenu?y.__("New Notebook"):y.__("Notebook")},caption:y.__("Create a new notebook"),icon:e=>e.isPalette?void 0:f.notebookIcon,execute:e=>{var t;return(async(e,t,o)=>{const n=await B.execute("docmanager:new-untitled",{path:e,type:"notebook"});if(void 0!==n){const e=await B.execute("docmanager:open",{path:n.path,factory:"dfpython3"==o?S:N,kernel:{id:t,name:o}});return e.isUntitled=!0,e}})(e.cwd||(null!==(t=null==d?void 0:d.model.path)&&void 0!==t?t:""),e.kernelId||"",e.kernelName||"")}}),i&&I.ready.then((()=>{let e=null;const t=()=>{e&&(e.dispose(),e=null);const t=I.kernelspecs.specs;if(t){e=new A.DisposableSet;for(const o in t.kernelspecs){const n=o===t.default?0:1/0,l=t.kernelspecs[o],a=l.resources["logo-svg"]||l.resources["logo-64x64"];e.add(i.add({command:c.createNew,args:{isLauncher:!0,kernelName:o},category:y.__("Notebook"),rank:n,kernelIconUrl:a,metadata:{kernel:h.JSONExt.deepCopy(l.metadata||{})}}))}}};t(),I.kernelspecs.specsChanged.connect(t)})),M},autoStart:!0},I={id:"@dfnotebook/dfnotebook-extension:factory",description:"Provides the dataflow notebook cell factory.",provides:_.DataflowNotebookPanel.IContentFactory,requires:[s.IEditorServices],autoStart:!0,activate:(e,t)=>{const o=t.factoryService.newInlineEditor;return new _.DataflowNotebookPanel.ContentFactory({editorFactory:o})}},B={id:"@dfnotebook/dfnotebook-extension:widget-factory",description:"Provides the dataflow notebook widget factory.",provides:_.IDataflowNotebookWidgetFactory,requires:[_.DataflowNotebookPanel.IContentFactory,s.IEditorServices,x.IRenderMimeRegistry,l.IToolbarWidgetRegistry],optional:[k.ISettingRegistry,l.ISessionContextDialogs,v.ITranslator],activate:function(e,t,o,n,a,d,i,c){const r=null!=c?c:v.nullTranslator,s=null!=i?i:new l.SessionContextDialogs({translator:r}),u=y.PageConfig.getOption("notebookStartsKernel"),m=""===u||"true"===u.toLowerCase(),{commands:C}=e;let p;a.addFactory(S,"save",(e=>b.ToolbarItems.createSaveButton(C,e.context.fileChanged))),a.addFactory(S,"cellType",(e=>g.ToolbarItems.createCellTypeItem(e,r))),a.addFactory(S,"kernelName",(e=>l.Toolbar.createKernelNameItem(e.sessionContext,s,r))),a.addFactory(S,"executionProgress",(e=>{const t=null==d?void 0:d.load(O.id),o=g.ExecutionIndicator.createExecutionIndicatorItem(e,r,t);return null==t||t.then((t=>{e.disposed.connect((()=>{t.dispose()}))})),o})),d&&(p=(0,l.createToolbarFactory)(a,d,S,"@jupyterlab/notebook-extension:panel",r));const k=r.load("jupyterlab"),f=new g.NotebookWidgetFactory({name:S,label:k.__("Notebook"),fileTypes:["notebook"],modelName:"dfnotebook",defaultFor:["notebook"],preferKernel:m,canStartKernel:!0,rendermime:n,contentFactory:t,editorConfig:g.StaticNotebook.defaultEditorConfig,notebookConfig:g.StaticNotebook.defaultNotebookConfig,mimeTypeService:o.mimeTypeService,toolbarFactory:p,translator:r});return e.docRegistry.addWidgetFactory(f),f},autoStart:!0},R={id:"dfnb-graph",autoStart:!0,requires:[l.ICommandPalette,g.INotebookTracker],activate:(e,t,o)=>{console.log("GraphManager is active");let n=e.shell;o.widgetAdded.connect(((e,t)=>{const n=t.sessionContext;a.m.setTracker(o),n.ready.then((()=>{var e,o,l;let d={},i={},c=null===(o=null===(e=t.model)||void 0===e?void 0:e.toJSON())||void 0===o?void 0:o.cells;c.map((function(e){let t=e.id.replace(/-/g,"").substr(0,8);"code"==(null==e?void 0:e.cell_type)&&(i[t]=e.source,d[t]=(null==e?void 0:e.outputs).flatMap((e=>{var t,o;return null!==(o=null===(t=null==e?void 0:e.metadata)||void 0===t?void 0:t.output_tag)&&void 0!==o?o:[]})))}));let r=Object.keys(d),s=r.reduce(((e,t)=>(e[t]={},e)),{}),u=r.reduce(((e,t)=>(e[t]=[],e)),{});Object.keys(i).map((function(e){(i[e].match(/\w+\$[a-f0-9]{8}/g)||[]).map((function(t){let o=t.split("$");o[1]in s[e]?s[e][o[1]].push(o[0]):s[e][o[1]]=[o[0]],u[o[1]].push(e)}))}));let b=(null===(l=null==n?void 0:n.session)||void 0===l?void 0:l.id)||"None";if(!(b in Object.keys(a.m.graphs))){a.m.graphs[b]=new a.T({cells:r,nodes:d,internalNodes:d,uplinks:s,downlinks:u,cellContents:i}),a.m.updateGraph(b);let e=c.map((e=>e.id));a.m.updateOrder(e)}console.log(b)})),t.content.model._cells.changed.connect((()=>{a.m.updateOrder(t.content.model.cells.model.cells.map((e=>e.id)))})),t.content.activeCellChanged.connect((()=>{var e,o,n;let l=a.m.getActive();if("object"==typeof l){let e=l.id.replace(/-/g,"").substr(0,8);l.sharedModel.source!=a.m.getText(e)?a.m.markStale(e):"Stale"==a.m.getStale(e)&&a.m.revertStale(e)}let d=null===(o=null===(e=t.content.activeCell)||void 0===e?void 0:e.model)||void 0===o?void 0:o.id.replace(/-/g,"").substr(0,8);a.m.updateActive(d,null===(n=t.content.activeCell)||void 0===n?void 0:n.model)}))})),n.currentChanged.connect(((e,t)=>{var o,n,l;(null===(l=null===(n=null===(o=t.newValue)||void 0===o?void 0:o.sessionContext)||void 0===n?void 0:n.session)||void 0===l?void 0:l.id)in a.m.graphs&&a.m.updateActiveGraph()}))}},M={id:"dfnb-depview",autoStart:!0,requires:[l.ICommandPalette,g.INotebookTracker],activate:(e,t,o)=>{const n=()=>{const e=new i;a.m.depWidget=e;const t=new l.MainAreaWidget({content:e});t.id="dfnb-depview",t.title.label="Dependency Viewer",t.title.closable=!0;let o=document.createElement("div");return o.setAttribute("id","depview"),e.node.appendChild(o),t};let d=n();function c(){d.isDisposed&&(d=n(),a.m.depview.isCreated=!1),d.isAttached||(e.shell.add(d,"main",{mode:"split-right",activate:!1}),a.m.depview.isCreated||a.m.depview.createDepDiv()),e.shell.activateById(d.id),a.m.depview.isOpen=!0,a.m.depview.startGraphCreation()}o.widgetAdded.connect(((e,t)=>{const o=t.sessionContext;o.ready.then((()=>{var e,n;if("dfpython3"==(null===(n=null===(e=o.session)||void 0===e?void 0:e.kernel)||void 0===n?void 0:n.name)){const e=new l.ToolbarButton({className:"open-dep-view",label:"Open Dependency Viewer",onClick:c,tooltip:"Opens the Dependency Viewer"});t.toolbar.insertItem(10,"Open Dependency Viewer",e)}}))}));const r="depview:open";e.commands.addCommand(r,{label:"Open Dependency Viewer",execute:()=>c}),t.addItem({command:r,category:"Tutorial"})}},D={id:"dfnb-minimap",autoStart:!0,requires:[l.ICommandPalette,g.INotebookTracker],activate:(e,t,o)=>{const n=()=>{const e=new i;a.m.miniWidget=e;const t=new l.MainAreaWidget({content:e});t.id="dfnb-minimap",t.title.label="Notebook Minimap",t.title.closable=!0;let o=document.createElement("div");o.setAttribute("id","minimap");let n=document.createElement("div");n.setAttribute("id","minidiv");let d=document.createElementNS("http://www.w3.org/2000/svg","svg");return d.setAttributeNS("http://www.w3.org/2000/xmlns/","xmlns:xlink","http://www.w3.org/1999/xlink"),d.setAttribute("id","minisvg"),n.append(d),o.appendChild(n),e.node.appendChild(o),t};let d=n();function c(){d.isDisposed&&(d=n(),a.m.minimap.wasCreated=!1),d.isAttached||(e.shell.add(d,"main",{mode:"split-right",activate:!1}),a.m.minimap.wasCreated?a.m.minimap.startMinimapCreation():(console.log("Active Graph",a.m.graphs[a.m.currentGraph]),e.shell.activateById(d.id),a.m.minimap.createMiniArea(),a.m.minimap.wasCreated=!0))}o.widgetAdded.connect(((e,t)=>{const o=t.sessionContext;o.ready.then((()=>{var e,n;if("dfpython3"==(null===(n=null===(e=o.session)||void 0===e?void 0:e.kernel)||void 0===n?void 0:n.name)){const e=new l.ToolbarButton({className:"open-mini-map",label:"Open Minimap",onClick:c,tooltip:"Opens the Minimap"});t.toolbar.insertItem(10,"Open Minimap",e)}}))}));const r="minimap:open";e.commands.addCommand(r,{label:"Open Minimap",execute:()=>c}),t.addItem({command:r,category:"Tutorial"})}},T=[I,B,O,M,D,R];function H(e,t,o){const n=e.currentWidget;return!1!==o.activate&&n&&t.activateById(n.id),n}var K;!function(e){e.createConsole=function(e,t,o){const n={path:t.context.path,preferredLanguage:t.context.model.defaultKernelLanguage,activate:o,ref:t.id,insertMode:"split-bottom",type:"Linked Console"};return e.execute("console:create",n)},e.isEnabled=function(e,t){return null!==t.currentWidget&&t.currentWidget===e.currentWidget},e.isEnabledAndSingleSelected=function(t,o){if(!e.isEnabled(t,o))return!1;const{content:n}=o.currentWidget,l=n.activeCellIndex;for(let e=0;e<n.widgets.length;++e)if(n.isSelected(n.widgets[e])&&e!==l)return!1;return!0},e.isEnabledAndHeadingSelected=function(t,o){if(!e.isEnabled(t,o))return!1;const{content:n}=o.currentWidget,l=n.activeCellIndex;if(!(n.activeCell instanceof r.MarkdownCell))return!1;for(let e=0;e<n.widgets.length;++e)if(n.isSelected(n.widgets[e])&&e!==l)return!1;return!0},e.getFormatLabels=function(e){const t=(e=e||v.nullTranslator).load("jupyterlab");return{html:t.__("HTML"),latex:t.__("LaTeX"),markdown:t.__("Markdown"),pdf:t.__("PDF"),rst:t.__("ReStructured Text"),script:t.__("Executable Script"),slides:t.__("Reveal.js Slides")}},e.raiseSilentNotification=function(e,t){const o=`sr-message-container-${t.id}`,n=document.getElementById(o)||document.createElement("div");n.getAttribute("id")!==o&&(n.classList.add("sr-only"),n.setAttribute("id",o),n.setAttribute("role","alert"),n.hidden=!0,t.appendChild(n)),n.innerText=e};class t extends d.Panel{constructor(e){super(),this._cell=null;const t=(e.translator||v.nullTranslator).load("jupyterlab");this._notebook=e.notebook,this._index=void 0!==e.index?e.index:-1,this._cell=e.cell||null,this.id=`LinkedOutputView-${h.UUID.uuid4()}`,this.title.label="Output View",this.title.icon=f.notebookIcon,this.title.caption=this._notebook.title.label?t.__("For Notebook: %1",this._notebook.title.label):t.__("For Notebook:"),this.addClass("jp-LinkedOutputView"),this._notebook.context.ready.then((()=>{if(this._cell||(this._cell=this._notebook.content.widgets[this._index]),!this._cell||"code"!==this._cell.model.type)return void this.dispose();const e=this._cell.cloneOutputArea();this.addWidget(e)}))}get index(){return this._cell?w.ArrayExt.findFirstIndex(this._notebook.content.widgets,(e=>e===this._cell)):this._index}get path(){return this._notebook.context.path}}e.ClonedOutputArea=t}(K||(K={}))}}]);