import{_ as Ht,g as Ft,V as Dt}from"./DrawerNavigation.vue_vue_type_style_index_0_scoped_cdf8fb82_lang-f9bb6b76.js";import{_ as j}from"./_plugin-vue_export-helper-c27b6911.js";import{M as ke,_ as Ut,a as Nt,i as lt,b as Yt,g as Ge}from"./ItemContextMenu.vue_vue_type_style_index_0_scoped_7aadaa8c_lang-8ee75bda.js";import{e as Ce,_ as Te}from"./eventbus-3394fed7.js";import{d as M,r as T,o as Ie,a as Le,b as C,M as se,P as je,c as d,e as k,w as p,f as r,u as e,g as P,h as X,F as N,$ as ge,i as V,t as w,j as Q,s as t,p as Ot,k as Xt,l as K,m as J,n as Gt,K as jt,q as Kt,v as xe,x as at,y as U,z as I,A as Re,B as ot,C as ye,D as it,E,G as st,H as He,I as nt,J as Jt,L as we,N as ee,O as Zt,Q as Ve,R as ut,S as rt,T as el,U as tl,V as ll,W as be,X as z,Y as W,Z as Pe,_ as al,a0 as ze,a1 as re,a2 as q,a3 as Me,a4 as ve,a5 as O,a6 as ol,a7 as Fe,a8 as me,a9 as dt,aa as il,ab as sl,ac as nl,ad as Be,ae as $e,af as ul,ag as rl,ah as dl,ai as Ke,aj as cl,ak as ct,al as ml,am as vl}from"./index-abd7b0d3.js";import{T as yl,V as Ae}from"./Toolbar-6ade126e.js";import{V as pe,a as fe,u as De}from"./VList-856decd1.js";import{V as Ue,a as ue}from"./VCard-61a799ef.js";import{V as mt}from"./VDialog-5c90d426.js";import{V as ae,m as ce,a as pl,b as _e,u as fl,c as Z,d as vt,e as yt,f as pt,g as ft,h as _l,i as _t,j as Ne,k as ht,l as gt,n as bt,o as Pt,p as hl,q as gl,r as bl,s as Qe,t as Pl,v as kl,M as Cl,w as F,x as wl,y as Vl,z as $l}from"./VListItem-623fa258.js";import{V as Ql,a as Il}from"./VInfiniteScroll-6a5d71a2.js";import{u as xl,m as kt,a as Ct,b as Sl,c as Tl}from"./layout-8d36d037.js";import{f as Bl,a as zl,s as Ml,m as Al,u as Wl,V as Ye,b as ql}from"./VMenu-1534bcb0.js";import{m as El,V as Je,a as Ll}from"./VChip-13179554.js";import{V as wt,a as Rl,b as Hl,c as Fl,d as Dl}from"./VExpansionPanels-8bda5482.js";import{B as te}from"./Button-e561c42b.js";import{L as Vt}from"./ListItem-09177683.js";import{V as Ul}from"./VToolbar-9761d31e.js";import{V as $t}from"./VCardText-199b0fb3.js";import{V as Nl}from"./VVirtualScroll-d9ad5563.js";const Yl=j(Ht,[["__scopeId","data-v-cdf8fb82"]]),Oe=l=>(Ot("data-v-d3dbeb83"),l=l(),Xt(),l),Ol=Oe(()=>V("br",null,null,-1)),Xl={class:"media-thumb"},Gl=Oe(()=>V("div",{style:{height:"30px"}},null,-1)),jl=Oe(()=>V("div",{style:{height:"30px"}},null,-1)),Kl={style:{"margin-left":"-10px","padding-right":"5px"}},Jl=M({__name:"AddToPlaylistDialog",setup(l){const a=T(!1),s=T([]),o=T([]),u=T(),i=T([]);Ie(()=>{Ce.on("playlistdialog",async _=>{a.value=!0,i.value=_.items,u.value=_.parentItem,await n()}),Le(()=>{Ce.off("playlistdialog")})});const n=async function(){s.value=[],o.value=[];const _=await C.getLibraryPlaylists(),v=i.value.length?i.value[0]:void 0;for(const y of _.items){if(!y.provider_mappings.filter(g=>g.available).length||!y.is_editable||u.value&&u.value.media_type===se.PLAYLIST&&y.item_id===u.value.item_id)continue;const h=C.providers[y.provider_mappings[0].provider_instance];(h.domain=="builtin"||h.is_streaming_provider||v!=null&&v.provider_mappings.filter(g=>g.provider_instance==h.instance_id).length)&&s.value.push(y)}for(const y of Object.values(C.providers))y.supported_features.includes(je.PLAYLIST_CREATE)&&y.supported_features.includes(je.PLAYLIST_TRACKS_EDIT)&&(y.domain=="builtin"||y.is_streaming_provider||v!=null&&v.provider_mappings.filter(h=>h.provider_instance==y.instance_id).length)&&o.value.push(y.instance_id)},c=function(_){if(i.value[0].media_type===se.TRACK)C.addPlaylistTracks(_.item_id,i.value.map(y=>y.uri));else if(i.value[0].media_type===se.ALBUM){var v=[];C.getAlbumTracks(i.value[0].item_id,i.value[0].provider).then(y=>{v=y,C.addPlaylistTracks(_.item_id,v.map(h=>h.uri))})}m()},f=async function(_){const v=prompt(ge("new_playlist_name"));if(!v)return;const y=await C.createPlaylist(v,_);c(y)},m=function(){a.value=!1};return(_,v)=>(d(),k(mt,{modelValue:a.value,"onUpdate:modelValue":[v[0]||(v[0]=y=>a.value=y),v[1]||(v[1]=y=>{e(t).dialogActive=y})],fullscreen:"",transition:"dialog-bottom-transition"},{default:p(()=>[r(Ue,null,{default:p(()=>[r(yl,{icon:"mdi-playlist-plus",title:e(ge)("add_playlist"),"menu-items":[{label:"close",icon:"mdi-close",action:m}]},null,8,["title","menu-items"]),r(pe),Ol,r(fe,null,{default:p(()=>[(d(!0),P(N,null,X(s.value,y=>(d(),P("div",{key:y.item_id},[r(ae,{onClick:h=>c(y)},{prepend:p(()=>[V("div",Xl,[r(ke,{item:y,size:50},null,8,["item"])])]),title:p(()=>[V("div",null,w(y.name),1)]),subtitle:p(()=>[V("div",null,w(y.owner),1)]),append:p(()=>[y.provider_mappings?(d(),k(Te,{key:0,domain:y.provider_mappings[0].provider_domain,size:20},null,8,["domain"])):Q("",!0)]),_:2},1032,["onClick"])]))),128)),Gl,r(pe),jl,(d(!0),P(N,null,X(o.value,y=>(d(),P("div",{key:y},[r(ae,{onClick:h=>f(y)},{prepend:p(()=>[V("div",Kl,[r(Te,{domain:e(C).providers[y].domain,size:50},null,8,["domain"])])]),title:p(()=>[V("div",null,w(e(ge)("new_playlist")),1)]),subtitle:p(()=>[V("div",null,w(e(ge)("create_playlist_on",[e(C).providers[y].name])),1)]),append:p(()=>[r(Te,{domain:e(C).providers[y].domain,size:20},null,8,["domain"])]),_:2},1032,["onClick"])]))),128))]),_:1})]),_:1})]),_:1},8,["modelValue"]))}});const Zl=j(Jl,[["__scopeId","data-v-d3dbeb83"]]),ea=j(Ut,[["__scopeId","data-v-7aadaa8c"]]);const ta=K({scrollable:Boolean,...ce(),...pl(),..._e({tag:"main"})},"VMain"),la=J()({name:"VMain",props:ta(),setup(l,a){let{slots:s}=a;const{dimensionStyles:o}=fl(l),{mainStyles:u,layoutIsReady:i}=xl(),{ssrBootStyles:n}=De();return Z(()=>r(l.tag,{class:["v-main",{"v-main--scrollable":l.scrollable},l.class],style:[u.value,n.value,o.value,l.style]},{default:()=>{var c,f;return[l.scrollable?r("div",{class:"v-main__scroller"},[(c=s.default)==null?void 0:c.call(s)]):(f=s.default)==null?void 0:f.call(s)]}})),i}}),aa=M({__name:"View",setup(l){return(a,s)=>{const o=Gt("router-view");return d(),k(la,{id:"cont",class:"overflow-y-auto",style:{height:"0px"}},{default:p(()=>{var u,i,n;return[e(t).navigationMenuStyle=="vertical"?(d(),k(Yl,{key:0})):Q("",!0),r(o,null,{default:p(({Component:c})=>[(d(),k(jt,{max:5,include:["HomeView","Artists","Albums","Tracks","Playlists","Search","Browse"]},[(d(),k(Kt(c)))],1024))]),_:1}),r(Zl),r(ea),r(Ql,{"model-value":e(t).activeAlert!==void 0,color:((u=e(t).activeAlert)==null?void 0:u.type)||"grey",text:(i=e(t).activeAlert)==null?void 0:i.message,"close-on-content-click":"",position:"sticky",timeout:(n=e(t).activeAlert)!=null&&n.persistent?-1:5e3,"onUpdate:modelValue":s[0]||(s[0]=()=>e(t).activeAlert=void 0)},null,8,["model-value","color","text","timeout"])]}),_:1})}}});const oa=K({baseColor:String,bgColor:String,color:String,grow:Boolean,mode:{type:String,validator:l=>!l||["horizontal","shift"].includes(l)},height:{type:[Number,String],default:56},active:{type:Boolean,default:!0},...vt(),...ce(),...yt(),...pt(),...ft(),...kt({name:"bottom-navigation"}),..._e({tag:"header"}),..._l({selectedClass:"v-btn--selected"}),...xe()},"VBottomNavigation"),ia=J()({name:"VBottomNavigation",props:oa(),emits:{"update:active":l=>!0,"update:modelValue":l=>!0},setup(l,a){let{slots:s}=a;const{themeClasses:o}=at(),{borderClasses:u}=_t(l),{backgroundColorClasses:i,backgroundColorStyles:n}=Ne(U(l,"bgColor")),{densityClasses:c}=ht(l),{elevationClasses:f}=gt(l),{roundedClasses:m}=bt(l),{ssrBootStyles:_}=De(),v=I(()=>Number(l.height)-(l.density==="comfortable"?8:0)-(l.density==="compact"?16:0)),y=Re(l,"active",l.active),{layoutItemStyles:h,layoutIsReady:g}=Ct({id:l.name,order:I(()=>parseInt(l.order,10)),position:I(()=>"bottom"),layoutSize:I(()=>y.value?v.value:0),elementSize:v,active:y,absolute:U(l,"absolute")});return Pt(l,hl),ot({VBtn:{baseColor:U(l,"baseColor"),color:U(l,"color"),density:U(l,"density"),stacked:I(()=>l.mode!=="horizontal"),variant:"text"}},{scoped:!0}),Z(()=>r(l.tag,{class:["v-bottom-navigation",{"v-bottom-navigation--active":y.value,"v-bottom-navigation--grow":l.grow,"v-bottom-navigation--shift":l.mode==="shift"},o.value,i.value,u.value,c.value,f.value,m.value,l.class],style:[n.value,h.value,{height:ye(v.value)},_.value,l.style]},{default:()=>[s.default&&r("div",{class:"v-bottom-navigation__content"},[s.default()])]})),g}});const Xe=Symbol.for("vuetify:v-tabs"),sa=K({fixed:Boolean,sliderColor:String,hideSlider:Boolean,direction:{type:String,default:"horizontal"},...it(gl({selectedClass:"v-tab--selected",variant:"text"}),["active","block","flat","location","position","symbol"])},"VTab"),de=J()({name:"VTab",props:sa(),setup(l,a){let{slots:s,attrs:o}=a;const{textColorClasses:u,textColorStyles:i}=bl(l,"sliderColor"),n=T(),c=T(),f=I(()=>l.direction==="horizontal"),m=I(()=>{var v,y;return((y=(v=n.value)==null?void 0:v.group)==null?void 0:y.isSelected.value)??!1});function _(v){var h,g;let{value:y}=v;if(y){const L=(g=(h=n.value)==null?void 0:h.$el.parentElement)==null?void 0:g.querySelector(".v-tab--selected .v-tab__slider"),D=c.value;if(!L||!D)return;const R=getComputedStyle(L).color,b=L.getBoundingClientRect(),$=D.getBoundingClientRect(),x=f.value?"x":"y",S=f.value?"X":"Y",A=f.value?"right":"bottom",H=f.value?"width":"height",G=b[x],oe=$[x],Y=G>oe?b[A]-$[A]:b[x]-$[x],ie=Math.sign(Y)>0?f.value?"right":"bottom":Math.sign(Y)<0?f.value?"left":"top":"center",he=(Math.abs(Y)+(Math.sign(Y)<0?b[H]:$[H]))/Math.max(b[H],$[H])||0,B=b[H]/$[H]||0,ne=1.5;zl(D,{backgroundColor:[R,"currentcolor"],transform:[`translate${S}(${Y}px) scale${S}(${B})`,`translate${S}(${Y/ne}px) scale${S}(${(he-1)/ne+1})`,"none"],transformOrigin:Array(3).fill(ie)},{duration:225,easing:Ml})}}return Z(()=>{const v=Qe.filterProps(l);return r(Qe,E({symbol:Xe,ref:n,class:["v-tab",l.class],style:l.style,tabindex:m.value?0:-1,role:"tab","aria-selected":String(m.value),active:!1},v,o,{block:l.fixed,maxWidth:l.fixed?300:void 0,"onGroup:selected":_}),{...s,default:()=>{var y;return r(N,null,[((y=s.default)==null?void 0:y.call(s))??l.text,!l.hideSlider&&r("div",{ref:c,class:["v-tab__slider",u.value],style:i.value},null)])}})}),Bl({},n)}});const na=l=>{const{touchstartX:a,touchendX:s,touchstartY:o,touchendY:u}=l,i=.5,n=16;l.offsetX=s-a,l.offsetY=u-o,Math.abs(l.offsetY)<i*Math.abs(l.offsetX)&&(l.left&&s<a-n&&l.left(l),l.right&&s>a+n&&l.right(l)),Math.abs(l.offsetX)<i*Math.abs(l.offsetY)&&(l.up&&u<o-n&&l.up(l),l.down&&u>o+n&&l.down(l))};function ua(l,a){var o;const s=l.changedTouches[0];a.touchstartX=s.clientX,a.touchstartY=s.clientY,(o=a.start)==null||o.call(a,{originalEvent:l,...a})}function ra(l,a){var o;const s=l.changedTouches[0];a.touchendX=s.clientX,a.touchendY=s.clientY,(o=a.end)==null||o.call(a,{originalEvent:l,...a}),na(a)}function da(l,a){var o;const s=l.changedTouches[0];a.touchmoveX=s.clientX,a.touchmoveY=s.clientY,(o=a.move)==null||o.call(a,{originalEvent:l,...a})}function ca(){let l=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};const a={touchstartX:0,touchstartY:0,touchendX:0,touchendY:0,touchmoveX:0,touchmoveY:0,offsetX:0,offsetY:0,left:l.left,right:l.right,up:l.up,down:l.down,start:l.start,move:l.move,end:l.end};return{touchstart:s=>ua(s,a),touchend:s=>ra(s,a),touchmove:s=>da(s,a)}}function ma(l,a){var c;const s=a.value,o=s!=null&&s.parent?l.parentElement:l,u=(s==null?void 0:s.options)??{passive:!0},i=(c=a.instance)==null?void 0:c.$.uid;if(!o||!i)return;const n=ca(a.value);o._touchHandlers=o._touchHandlers??Object.create(null),o._touchHandlers[i]=n,st(n).forEach(f=>{o.addEventListener(f,n[f],u)})}function va(l,a){var i,n;const s=(i=a.value)!=null&&i.parent?l.parentElement:l,o=(n=a.instance)==null?void 0:n.$.uid;if(!(s!=null&&s._touchHandlers)||!o)return;const u=s._touchHandlers[o];st(u).forEach(c=>{s.removeEventListener(c,u[c])}),delete s._touchHandlers[o]}const Qt={mounted:ma,unmounted:va},ya=Qt,It=Symbol.for("vuetify:v-window"),xt=Symbol.for("vuetify:v-window-group"),St=K({continuous:Boolean,nextIcon:{type:[Boolean,String,Function,Object],default:"$next"},prevIcon:{type:[Boolean,String,Function,Object],default:"$prev"},reverse:Boolean,showArrows:{type:[Boolean,String],validator:l=>typeof l=="boolean"||l==="hover"},touch:{type:[Object,Boolean],default:void 0},direction:{type:String,default:"horizontal"},modelValue:null,disabled:Boolean,selectedClass:{type:String,default:"v-window-item--active"},mandatory:{type:[Boolean,String],default:"force"},...ce(),..._e(),...xe()},"VWindow"),Ze=J()({name:"VWindow",directives:{Touch:Qt},props:St(),emits:{"update:modelValue":l=>!0},setup(l,a){let{slots:s}=a;const{themeClasses:o}=He(l),{isRtl:u}=nt(),{t:i}=Jt(),n=Pt(l,xt),c=T(),f=I(()=>u.value?!l.reverse:l.reverse),m=we(!1),_=I(()=>{const x=l.direction==="vertical"?"y":"x",A=(f.value?!m.value:m.value)?"-reverse":"";return`v-window-${x}${A}-transition`}),v=we(0),y=T(void 0),h=I(()=>n.items.value.findIndex(x=>n.selected.value.includes(x.id)));ee(h,(x,S)=>{const A=n.items.value.length,H=A-1;A<=2?m.value=x<S:x===H&&S===0?m.value=!0:x===0&&S===H?m.value=!1:m.value=x<S}),Zt(It,{transition:_,isReversed:m,transitionCount:v,transitionHeight:y,rootRef:c});const g=I(()=>l.continuous||h.value!==0),L=I(()=>l.continuous||h.value!==n.items.value.length-1);function D(){g.value&&n.prev()}function R(){L.value&&n.next()}const b=I(()=>{const x=[],S={icon:u.value?l.nextIcon:l.prevIcon,class:`v-window__${f.value?"right":"left"}`,onClick:n.prev,"aria-label":i("$vuetify.carousel.prev")};x.push(g.value?s.prev?s.prev({props:S}):r(Qe,S,null):r("div",null,null));const A={icon:u.value?l.prevIcon:l.nextIcon,class:`v-window__${f.value?"left":"right"}`,onClick:n.next,"aria-label":i("$vuetify.carousel.next")};return x.push(L.value?s.next?s.next({props:A}):r(Qe,A,null):r("div",null,null)),x}),$=I(()=>l.touch===!1?l.touch:{...{left:()=>{f.value?D():R()},right:()=>{f.value?R():D()},start:S=>{let{originalEvent:A}=S;A.stopPropagation()}},...l.touch===!0?{}:l.touch});return Z(()=>Ve(r(l.tag,{ref:c,class:["v-window",{"v-window--show-arrows-on-hover":l.showArrows==="hover"},o.value,l.class],style:l.style},{default:()=>{var x,S;return[r("div",{class:"v-window__container",style:{height:y.value}},[(x=s.default)==null?void 0:x.call(s,{group:n}),l.showArrows!==!1&&r("div",{class:"v-window__controls"},[b.value])]),(S=s.additional)==null?void 0:S.call(s,{group:n})]}}),[[ut("touch"),$.value]])),{group:n}}}),pa=K({...it(St(),["continuous","nextIcon","prevIcon","showArrows","touch","mandatory"])},"VTabsWindow"),fa=J()({name:"VTabsWindow",props:pa(),emits:{"update:modelValue":l=>!0},setup(l,a){let{slots:s}=a;const o=rt(Xe,null),u=Re(l,"modelValue"),i=I({get(){var n;return u.value!=null||!o?u.value:(n=o.items.value.find(c=>o.selected.value.includes(c.id)))==null?void 0:n.value},set(n){u.value=n}});return Z(()=>{const n=Ze.filterProps(l);return r(Ze,E({_as:"VTabsWindow"},n,{modelValue:i.value,"onUpdate:modelValue":c=>i.value=c,class:"v-tabs-window",mandatory:!1,touch:!1}),s)}),{}}}),Tt=K({reverseTransition:{type:[Boolean,String],default:void 0},transition:{type:[Boolean,String],default:void 0},...ce(),...Pl(),...Al()},"VWindowItem"),et=J()({name:"VWindowItem",directives:{Touch:ya},props:Tt(),emits:{"group:selected":l=>!0},setup(l,a){let{slots:s}=a;const o=rt(It),u=kl(l,xt),{isBooted:i}=De();if(!o||!u)throw new Error("[Vuetify] VWindowItem must be used inside VWindow");const n=we(!1),c=I(()=>i.value&&(o.isReversed.value?l.reverseTransition!==!1:l.transition!==!1));function f(){!n.value||!o||(n.value=!1,o.transitionCount.value>0&&(o.transitionCount.value-=1,o.transitionCount.value===0&&(o.transitionHeight.value=void 0)))}function m(){var g;n.value||!o||(n.value=!0,o.transitionCount.value===0&&(o.transitionHeight.value=ye((g=o.rootRef.value)==null?void 0:g.clientHeight)),o.transitionCount.value+=1)}function _(){f()}function v(g){n.value&&tl(()=>{!c.value||!n.value||!o||(o.transitionHeight.value=ye(g.clientHeight))})}const y=I(()=>{const g=o.isReversed.value?l.reverseTransition:l.transition;return c.value?{name:typeof g!="string"?o.transition.value:g,onBeforeEnter:m,onAfterEnter:f,onEnterCancelled:_,onBeforeLeave:m,onAfterLeave:f,onLeaveCancelled:_,onEnter:v}:!1}),{hasContent:h}=Wl(l,u.isSelected);return Z(()=>r(Cl,{transition:y.value,disabled:!i.value},{default:()=>{var g;return[Ve(r("div",{class:["v-window-item",u.selectedClass.value,l.class],style:l.style},[h.value&&((g=s.default)==null?void 0:g.call(s))]),[[el,u.isSelected.value]])]}})),{groupItem:u}}}),_a=K({...Tt()},"VTabsWindowItem"),ha=J()({name:"VTabsWindowItem",props:_a(),setup(l,a){let{slots:s}=a;return Z(()=>{const o=et.filterProps(l);return r(et,E({_as:"VTabsWindowItem"},o,{class:["v-tabs-window-item",l.class],style:l.style}),s)}),{}}});function ga(l){return l?l.map(a=>ll(a)?a:{text:a,value:a}):[]}const ba=K({alignTabs:{type:String,default:"start"},color:String,fixedTabs:Boolean,items:{type:Array,default:()=>[]},stacked:Boolean,bgColor:String,grow:Boolean,height:{type:[Number,String],default:void 0},hideSlider:Boolean,sliderColor:String,...El({mandatory:"force",selectedClass:"v-tab-item--selected"}),...yt(),..._e()},"VTabs"),We=J()({name:"VTabs",props:ba(),emits:{"update:modelValue":l=>!0},setup(l,a){let{slots:s}=a;const o=Re(l,"modelValue"),u=I(()=>ga(l.items)),{densityClasses:i}=ht(l),{backgroundColorClasses:n,backgroundColorStyles:c}=Ne(U(l,"bgColor"));return ot({VTab:{color:U(l,"color"),direction:U(l,"direction"),stacked:U(l,"stacked"),fixed:U(l,"fixedTabs"),sliderColor:U(l,"sliderColor"),hideSlider:U(l,"hideSlider")}}),Z(()=>{const f=Je.filterProps(l),m=!!(s.window||l.items.length>0);return r(N,null,[r(Je,E(f,{modelValue:o.value,"onUpdate:modelValue":_=>o.value=_,class:["v-tabs",`v-tabs--${l.direction}`,`v-tabs--align-tabs-${l.alignTabs}`,{"v-tabs--fixed-tabs":l.fixedTabs,"v-tabs--grow":l.grow,"v-tabs--stacked":l.stacked},i.value,n.value,l.class],style:[{"--v-tabs-height":ye(l.height)},c.value,l.style],role:"tablist",symbol:Xe}),{default:()=>{var _;return[((_=s.default)==null?void 0:_.call(s))??u.value.map(v=>{var y;return((y=s.tab)==null?void 0:y.call(s,{item:v}))??r(de,E(v,{key:v.text,value:v.value}),{default:()=>{var h;return(h=s[`tab.${v.value}`])==null?void 0:h.call(s,{item:v})}})})]}}),m&&r(fa,{modelValue:o.value,"onUpdate:modelValue":_=>o.value=_,key:"tabs-window"},{default:()=>{var _;return[u.value.map(v=>{var y;return((y=s.item)==null?void 0:y.call(s,{item:v}))??r(ha,{value:v.value},{default:()=>{var h;return(h=s[`item.${v.value}`])==null?void 0:h.call(s,{item:v})}})}),(_=s.window)==null?void 0:_.call(s)]}})])}),{}}}),Pa={class:"menuButton"},ka={class:"menuButton"},Ca={class:"menuButton"},wa=M({__name:"BottomNavigation",props:{height:{}},setup(l){const a=Ft(),s=I(()=>{for(const o of a)if(be.currentRoute.value.path.startsWith(o.path))return!z("tablet")&&o.isLibraryNode?"library":o.label;return""});return(o,u)=>(d(),k(ia,{height:o.height,grow:"",elevation:"15",style:{"border-top":"1px solid #20202035"}},{default:p(()=>[e(z)("tablet")?(d(),k(We,{key:0,stacked:"",grow:"","show-arrows":!1,"model-value":s.value,color:"accent","center-active":""},{default:p(()=>[(d(!0),P(N,null,X(e(a),i=>(d(),k(de,{key:i.label,to:i.path,value:i.label},{default:p(()=>[r(F,{size:"xx-large"},{default:p(()=>[W(w(i.icon),1)]),_:2},1024),V("span",Pa,w(o.$t(i.label)),1)]),_:2},1032,["to","value"]))),128))]),_:1},8,["model-value"])):(d(),k(We,{key:1,stacked:"",grow:"","show-arrows":!1,"model-value":s.value,color:"accent"},{default:p(()=>[(d(!0),P(N,null,X(e(a).filter(i=>!i.isLibraryNode),i=>(d(),k(de,{key:i.label,to:i.path,value:i.label},{default:p(()=>[r(F,{size:"xx-large"},{default:p(()=>[W(w(i.icon),1)]),_:2},1024),V("span",ka,w(o.$t(i.label)),1)]),_:2},1032,["to","value"]))),128)),r(Ye,null,{activator:p(({props:i})=>[r(de,E({key:"library"},i,{value:"library"}),{default:p(()=>[r(F,{size:"xx-large"},{default:p(()=>[W("mdi-bookshelf")]),_:1}),V("span",Ca,w(o.$t("library")),1)]),_:2},1040)]),default:p(()=>[r(fe,null,{default:p(()=>[(d(!0),P(N,null,X(e(a).filter(i=>i.isLibraryNode),i=>(d(),k(ae,{key:i.label,title:o.$t(i.label),"prepend-icon":i.icon,to:i.path},null,8,["title","prepend-icon","to"]))),128))]),_:1})]),_:1})]),_:1},8,["model-value"]))]),_:1},8,["height"]))}});const Va={style:{width:"100%"}},$a={key:0,style:{display:"flex",flex:"1 1 auto","align-items":"center"}},Qa={style:{"z-index":"1"},class:"text-caption"},Ia={key:1,style:{width:"100%","padding-bottom":"0px"}},qe=M({__name:"PlayerTimeline",props:{isProgressBar:{type:Boolean,default:!1},color:{default:"accent"}},setup(l){const a=l,s=T(!1),o=T(!0),u=T(!1),i=T(0),n=T(0),c=I(()=>t.curQueueItem?s.value?`-${Pe(t.curQueueItem.duration-m.value)}`:`${Pe(m.value)}`:"0:00"),f=I(()=>{if(!t.curQueueItem)return"0:00";const h=t.curQueueItem.duration;return Pe(h)}),m=I(()=>u.value?(n.value=i.value,i.value):t.activePlayerQueue?t.activePlayerQueue.elapsed_time:0);ee(m,h=>{u.value||(i.value=h)});const _=function(){u.value=!0},v=()=>{u.value=!1,y(n.value)},y=h=>{var g;u.value||C.queueCommandSeek(((g=t.activePlayerQueue)==null?void 0:g.queue_id)||"",Math.round(h))};return(h,g)=>{var L,D;return d(),P("div",Va,[e(t).activePlayerQueue&&!h.isProgressBar?(d(),P("div",$a,[V("div",{class:"text-caption",style:{cursor:"pointer","z-index":"1"},onClick:g[0]||(g[0]=R=>s.value?s.value=!1:s.value=!0)},w(c.value),1),r(wt,{modelValue:i.value,"onUpdate:modelValue":g[1]||(g[1]=R=>i.value=R),disabled:!e(t).curQueueItem||((L=e(t).curQueueItem.media_item)==null?void 0:L.media_type)!=e(se).TRACK,color:a.color,style:{width:"100%"},min:0,max:e(t).curQueueItem&&e(t).curQueueItem.duration,"hide-details":"","track-size":2,"thumb-size":o.value?0:10,onTouchstart:g[2]||(g[2]=R=>o.value=!1),onTouchend:g[3]||(g[3]=R=>o.value=!0),onMouseenter:g[4]||(g[4]=R=>o.value=!1),onMouseleave:g[5]||(g[5]=R=>o.value=!0),onStart:_,onEnd:v},null,8,["modelValue","disabled","color","max","thumb-size"]),V("div",Qa,w(f.value),1)])):e(t).activePlayerQueue&&h.isProgressBar?(d(),P("div",Ia,[r(wl,{modelValue:i.value,"onUpdate:modelValue":g[6]||(g[6]=R=>i.value=R),disabled:!e(t).activePlayerQueue||!e(t).curQueueItem||((D=e(t).activePlayerQueue)==null?void 0:D.items)==0,height:"70",color:e(al)(a.color,.15),"bg-color":a.color,"bg-opacity":1,style:{position:"absolute","border-radius":"10px"},min:0,max:e(t).curQueueItem&&e(t).curQueueItem.duration},null,8,["modelValue","disabled","color","bg-color","max"])])):Q("",!0)])}}}),xa=M({__name:"ResponsiveIcon",props:{width:{default:void 0},height:{default:void 0},staticWidth:{default:void 0},staticHeight:{default:void 0},maxWidth:{default:void 0},maxHeight:{default:void 0},minWidth:{default:"24px"},minHeight:{default:"24px"},icon:{default:void 0},type:{default:"icon"},color:{default:void 0},disabled:{type:Boolean}},setup(l){const a=l,s=()=>{if(o.value){const i=o.value.offsetWidth,n=o.value.offsetHeight,c=Math.min(i,n);u.value.$el.style.fontSize=`${c}px`}},o=T(),u=T();return Ie(()=>{s(),window.addEventListener("resize",s)}),Le(()=>{window.removeEventListener("resize",s)}),(i,n)=>(d(),P("div",{ref_key:"responsiveIconHolder",ref:o,class:re([a.type=="btn"?"responsive-icon-holder-btn":"responsive-icon-holder",{disabled:i.disabled}]),style:q({width:a.staticWidth?a.staticWidth:a.width,height:a.staticWidth?a.staticWidth:a.height,maxHeight:a.staticHeight?a.staticHeight:a.maxHeight,maxWidth:a.staticWidth?a.staticWidth:a.maxWidth,minHeight:a.staticHeight?a.staticHeight:a.minHeight,minWidth:a.staticWidth?a.staticWidth:a.minWidth})},[i.type==="icon"?(d(),k(F,{key:0,ref_key:"responsiveIcon",ref:u,class:"responsive-icon",color:i.color?i.color:"",icon:a.icon?a.icon:"mdi-check",width:a.staticWidth?a.staticWidth:null,height:a.staticHeight?a.staticHeight:null},ze({_:2},[X(i.$slots,(c,f)=>({name:f,fn:p(()=>[Me(i.$slots,f,{},void 0,!0)])}))]),1032,["color","icon","width","height"])):i.type==="btn"?(d(),k(F,{key:1,ref_key:"responsiveIcon",ref:u,class:"responsive-icon",style:{cursor:"pointer"},color:i.color?i.color:"",icon:a.icon?a.icon:"mdi-check",width:a.staticWidth?a.staticWidth:null,height:a.staticHeight?a.staticHeight:null,disabled:i.disabled},ze({_:2},[X(i.$slots,(c,f)=>({name:f,fn:p(()=>[Me(i.$slots,f,{},void 0,!0)])}))]),1032,["color","icon","width","height","disabled"])):Q("",!0)],6))}});const le=j(xa,[["__scopeId","data-v-5ed57264"]]),Bt=M({__name:"RepeatBtn",props:{isVisible:{type:Boolean,default:!0},icon:{default:void 0}},setup(l){const a=l;return(s,o)=>{var u,i,n,c,f,m,_,v,y,h;return a.isVisible?(d(),k(le,E({key:0},a.icon,{disabled:!e(t).activePlayerQueue||!((u=e(t).activePlayerQueue)!=null&&u.active)||((i=e(t).activePlayerQueue)==null?void 0:i.items)==0,color:e(ve)((n=a.icon)==null?void 0:n.color,[[((c=e(t).activePlayerQueue)==null?void 0:c.repeat_mode)==e(O).OFF,null],[((f=e(t).activePlayerQueue)==null?void 0:f.repeat_mode)==e(O).ALL,"secondary"],[((m=e(t).activePlayerQueue)==null?void 0:m.repeat_mode)==e(O).ONE,"secondary"]]),icon:e(ve)((_=a.icon)==null?void 0:_.icon,[[((v=e(t).activePlayerQueue)==null?void 0:v.repeat_mode)==e(O).OFF,"mdi-repeat-off"],[((y=e(t).activePlayerQueue)==null?void 0:y.repeat_mode)==e(O).ALL,"mdi-repeat"],[((h=e(t).activePlayerQueue)==null?void 0:h.repeat_mode)==e(O).ONE,"mdi-repeat-once"],[!0,"mdi-repeat-off"]]),type:"btn",onClick:o[0]||(o[0]=g=>{var L,D,R,b;return e(C).queueCommandRepeat(((L=e(t).activePlayerQueue)==null?void 0:L.queue_id)||"",e(ve)(null,[[((D=e(t).activePlayerQueue)==null?void 0:D.repeat_mode)==e(O).OFF,e(O).ONE],[((R=e(t).activePlayerQueue)==null?void 0:R.repeat_mode)==e(O).ALL,e(O).OFF],[((b=e(t).activePlayerQueue)==null?void 0:b.repeat_mode)==e(O).ONE,e(O).ALL]]))})}),null,16,["disabled","color","icon"])):Q("",!0)}}}),zt=M({__name:"ShuffleBtn",props:{isVisible:{type:Boolean,default:!0},icon:{default:void 0}},setup(l){const a=l;return(s,o)=>{var u,i,n,c,f,m,_;return a.isVisible?(d(),k(le,E({key:0},a.icon,{disabled:!e(t).activePlayerQueue||!((u=e(t).activePlayerQueue)!=null&&u.active)||((i=e(t).activePlayerQueue)==null?void 0:i.items)==0,color:e(ve)((n=a.icon)==null?void 0:n.color,[[(c=e(t).activePlayerQueue)==null?void 0:c.shuffle_enabled,"secondary",""]]),icon:e(ve)((f=a.icon)==null?void 0:f.icon,[[(m=e(t).activePlayerQueue)==null?void 0:m.shuffle_enabled,"mdi-shuffle"],[((_=e(t).activePlayerQueue)==null?void 0:_.shuffle_enabled)==!1,"mdi-shuffle-disabled"],[!0,"mdi-shuffle"]]),type:"btn",onClick:o[0]||(o[0]=v=>{var y,h;return e(C).queueCommandShuffle(((y=e(t).activePlayerQueue)==null?void 0:y.queue_id)||"",!((h=e(t).activePlayerQueue)!=null&&h.shuffle_enabled))})}),null,16,["disabled","color","icon"])):Q("",!0)}}}),Mt=M({__name:"PlayBtn",props:{isVisible:{type:Boolean,default:!0},withCircle:{type:Boolean,default:!0},icon:{default:void 0}},setup(l){const a=l;return(s,o)=>{var u,i,n,c,f,m;return e(t).activePlayerQueue&&((u=e(t).activePlayerQueue)!=null&&u.active)&&a.isVisible?(d(),k(le,E({key:0},a.icon,{disabled:e(t).activePlayerQueue&&!((i=e(t).activePlayerQueue)!=null&&i.active)&&((n=e(t).activePlayerQueue)==null?void 0:n.items)==0,icon:((c=e(t).activePlayerQueue)==null?void 0:c.state)=="playing"?a.withCircle?"mdi-pause-circle":"mdi-pause":a.withCircle?"mdi-play-circle":"mdi-play",type:"btn",onClick:o[0]||(o[0]=_=>e(C).queueCommandPlayPause(e(t).activePlayerQueue.queue_id))}),null,16,["disabled","icon"])):((f=e(t).selectedPlayer)==null?void 0:f.state)==e(ol).PLAYING&&a.isVisible?(d(),k(le,E({key:1},a.icon,{icon:"mdi-stop",type:"btn",onClick:o[1]||(o[1]=_=>e(C).queueCommandStop(e(t).selectedPlayer.player_id))}),null,16)):a.isVisible?(d(),k(le,E({key:2},a.icon,{disabled:!e(t).activePlayerQueue||((m=e(t).activePlayerQueue)==null?void 0:m.items)==0,icon:a.withCircle?"mdi-play-circle":"mdi-play",type:"btn",onClick:o[2]||(o[2]=_=>{var v;return e(C).queueCommandPlay(((v=e(t).activePlayerQueue)==null?void 0:v.queue_id)||e(t).selectedPlayer.player_id)})}),null,16,["disabled","icon"])):Q("",!0)}}}),At=M({__name:"PreviousBtn",props:{isVisible:{type:Boolean,default:!0},icon:{default:void 0}},setup(l){const a=l;return(s,o)=>{var u,i;return a.isVisible?(d(),k(le,E({key:0},a.icon,{disabled:!e(t).activePlayerQueue||!((u=e(t).activePlayerQueue)!=null&&u.active)||((i=e(t).activePlayerQueue)==null?void 0:i.items)==0,icon:"mdi-skip-previous-outline",type:"btn",onClick:o[0]||(o[0]=n=>e(C).queueCommandPrevious(e(t).activePlayerQueue.queue_id))}),null,16,["disabled"])):Q("",!0)}}}),Wt=M({__name:"NextBtn",props:{isVisible:{type:Boolean,default:!0},icon:{default:void 0}},setup(l){const a=l;return(s,o)=>{var u,i;return a.isVisible?(d(),k(le,E({key:0},a.icon,{disabled:!e(t).activePlayerQueue||!((u=e(t).activePlayerQueue)!=null&&u.active)||((i=e(t).activePlayerQueue)==null?void 0:i.items)==0,icon:"mdi-skip-next-outline",type:"btn",onClick:o[0]||(o[0]=n=>e(C).queueCommandNext(e(t).activePlayerQueue.queue_id))}),null,16,["disabled"])):Q("",!0)}}}),Sa={key:0,style:{display:"inline-flex"}},Ta={key:0,class:"player-controls-elements"},Ba={key:1,class:"player-controls-elements"},za={key:2},Ma={key:3,class:"player-controls-elements"},Aa={key:4,class:"player-controls-elements"},tt=M({__name:"PlayerControls",props:{visibleComponents:{default:()=>({repeat:{isVisible:!0},shuffle:{isVisible:!0},play:{isVisible:!0},previous:{isVisible:!0},next:{isVisible:!0}})}},setup(l){const a=l;return(s,o)=>{var u,i,n,c,f;return a.visibleComponents?(d(),P("div",Sa,[a.visibleComponents&&((u=a.visibleComponents.shuffle)!=null&&u.isVisible)?(d(),P("div",Ta,[r(zt,{class:"media-controls-item",icon:a.visibleComponents.shuffle.icon},null,8,["icon"])])):Q("",!0),a.visibleComponents&&((i=a.visibleComponents.previous)!=null&&i.isVisible)?(d(),P("div",Ba,[r(At,{class:"media-controls-item",icon:a.visibleComponents.previous.icon},null,8,["icon"])])):Q("",!0),a.visibleComponents&&((n=a.visibleComponents.play)!=null&&n.isVisible)?(d(),P("div",za,[r(Mt,{class:"media-controls-item","with-circle":a.visibleComponents.play.withCircle,icon:a.visibleComponents.play.icon},null,8,["with-circle","icon"])])):Q("",!0),a.visibleComponents&&((c=a.visibleComponents.next)!=null&&c.isVisible)?(d(),P("div",Ma,[r(Wt,{icon:a.visibleComponents.next.icon,"static-height":"24px","static-width":"24px"},null,8,["icon"])])):Q("",!0),a.visibleComponents&&((f=a.visibleComponents.repeat)!=null&&f.isVisible)?(d(),P("div",Aa,[r(Bt,{icon:a.visibleComponents.repeat.icon,"static-height":"24px","static-width":"24px"},null,8,["icon"])])):Q("",!0)])):Q("",!0)}}});const Wa=M({__name:"FavoriteBtn",props:{item:{default:void 0},isVisible:{type:Boolean,default:!0},icon:{default:void 0},disabled:{type:Boolean,default:!1}},setup(l){const a=l,s=function(){a.item&&C.toggleFavorite(a.item)};return(o,u)=>{var i;return o.isVisible?(d(),k(le,E({key:0},a.icon,{disabled:o.disabled||!o.item,icon:(i=o.item)!=null&&i.favorite?"mdi-heart":"mdi-heart-outline",title:o.$t("tooltip.favorite"),type:"btn",onClick:s}),null,16,["disabled","icon","title"])):Q("",!0)}}}),qt=M({__name:"QueueBtn",props:{isVisible:{type:Boolean,default:!0},icon:{default:void 0}},setup(l){const a=l,s=function(){t.showFullscreenPlayer&&t.showQueueItems?t.showQueueItems=!1:t.showFullscreenPlayer&&!t.showQueueItems?t.showQueueItems=!0:(t.showQueueItems=!0,t.showFullscreenPlayer=!0)};return(o,u)=>{var i,n;return a.isVisible?(d(),k(le,E({key:0},a.icon,{disabled:!e(t).activePlayerQueue||!((i=e(t).activePlayerQueue)!=null&&i.active)||((n=e(t).activePlayerQueue)==null?void 0:n.items)==0,icon:"mdi-playlist-play",type:"btn",onClick:s}),null,16,["disabled"])):Q("",!0)}}}),qa={key:2,class:"line-clamp-1 no_transform"},Et=M({__name:"SpeakerBtn",props:{color:{},responsive:{type:Boolean}},setup(l){const a=l,s=I(()=>{var u;if(!t.selectedPlayer)return 0;let o=0;for(const i of t.selectedPlayer.group_childs){const n=(u=C)==null?void 0:u.players[i];n&&n.available&&n.powered&&o++}return o});return(o,u)=>(d(),k(te,{variant:"icon",ripple:!1,icon:!!(o.responsive&&!e(z)("bp6")),onClick:u[0]||(u[0]=i=>e(t).showPlayersMenu=!0)},{default:p(()=>{var i,n;return[(i=e(t).selectedPlayer)!=null&&i.group_childs.length?(d(),k(Ae,{key:0,size:"small",content:s.value},{default:p(()=>[r(F,{color:a.color?o.color:"",size:24},{default:p(()=>[W("mdi-speaker-multiple")]),_:1},8,["color"])]),_:1},8,["content"])):(d(),k(F,{key:1,color:a.color?o.color:"",size:24},{default:p(()=>[W("mdi-speaker")]),_:1},8,["color"])),!o.responsive||e(z)("bp6")?(d(),P("span",qa,w(e(Fe)(((n=e(t).activePlayerQueue)==null?void 0:n.display_name)||o.$t("no_player"),e(z)("bp7")?16:8)),1)):Q("",!0)]}),_:1},8,["icon"]))}});const Ea={props:{width:String,height:String,style:String,isPowered:Boolean},emits:["update:model-value"],setup(l,a){const s=T(!0),o=I(()=>({class:"player-volume",hideDetails:!0,trackSize:2,thumbSize:s.value?0:10,step:2,elevation:0,disabled:!l.isPowered,style:`width: ${l.width}; height:${l.height}; display: inline-grid; ${l.style}`})),u=I(()=>({...o.value,...a}));return{isThumbHidden:s,playerVolumeProps:u,onWheel:({deltaY:n})=>{const c=u.value.step,f=a.attrs["model-value"],m=n<0?c:-c;a.emit("update:model-value",f+m)}}}};function La(l,a,s,o,u,i){return d(),k(wt,E(o.playerVolumeProps,{onTouchstart:a[0]||(a[0]=n=>o.isThumbHidden=!1),onTouchend:a[1]||(a[1]=n=>o.isThumbHidden=!0),onMouseenter:a[2]||(a[2]=n=>o.isThumbHidden=!1),onMouseleave:a[3]||(a[3]=n=>o.isThumbHidden=!0),onWheel:o.onWheel,"onUpdate:modelValue":a[4]||(a[4]=n=>l.$emit("update:model-value",n))}),ze({_:2},[X(l.$slots,(n,c)=>({name:c,fn:p(()=>[Me(l.$slots,c,{},void 0,!0)])}))]),1040,["onWheel"])}const Ee=j(Ea,[["render",La],["__scopeId","data-v-a6e8aec7"]]),Ra={class:"text-center"},Ha={class:"text-caption"},Fa={class:"text-center"},Da={key:0,class:"text-caption"},Ua={key:1,class:"text-caption"},Na={key:0,class:"syncbtn"},Ya={key:1,class:"syncbtn"},Oa=M({__name:"VolumeControl",props:{player:{}},setup(l){const a=function(o){var i;const u=[];o.type!=me.GROUP&&o.type!=me.SYNC_GROUP&&u.push(o);for(const n of o.group_childs){const c=(i=C)==null?void 0:i.players[n];c&&c.available&&!u.includes(c)&&u.push(c)}return u.sort((n,c)=>n.display_name.toUpperCase()>c.display_name.toUpperCase()?1:-1),u},s=function(o,u){o.type==me.GROUP||o.type==me.SYNC_GROUP||o.group_childs.length>0?C.playerCommandGroupPower(o.player_id,u):C.playerCommandPower(o.player_id,u)};return(o,u)=>(d(),k(fe,{style:{overflow:"hidden"},lines:"two"},{default:p(()=>[o.player.group_childs.length>0?(d(),k(ae,{key:0},{prepend:p(()=>[V("div",{style:q(o.player.powered?"opacity: 0.75":"opacity: 0.5")},[V("div",Ra,[r(te,{icon:"",style:{height:"25px !important"},onClick:u[0]||(u[0]=i=>s(o.player,!o.player.powered))},{default:p(()=>[r(F,{size:25,icon:o.player.volume_muted?"mdi-volume-off":"mdi-power"},null,8,["icon"])]),_:1}),V("div",Ha,w(o.player.group_volume),1)])],4)]),default:p(()=>[V("div",{class:"volumesliderrow",style:q(o.player.powered?"opacity: 0.75":"opacity: 0.5")},[V("h6",null,w(e(dt)(o.player,27)),1),r(Ee,{class:"vc-slider",width:"100%",color:"secondary","is-powered":o.player.powered,"model-value":Math.round(o.player.group_volume),"onUpdate:modelValue":u[1]||(u[1]=i=>e(C).playerCommandGroupVolume(o.player.player_id,i))},null,8,["is-powered","model-value"])],4)]),_:1})):Q("",!0),o.player.group_childs.length>0?(d(),k(pe,{key:1,style:{"margin-top":"7px","margin-bottom":"7px"}})):Q("",!0),(d(!0),P(N,null,X(a(o.player),i=>(d(),k(ae,{key:i.player_id,style:q(i.powered?"opacity: 0.75":"opacity: 0.5")},{prepend:p(()=>[V("div",null,[V("div",Fa,[r(te,{icon:"",style:{height:"25px !important"},onClick:n=>e(C).playerCommandPowerToggle(i.player_id)},{default:p(()=>[r(F,{size:25,icon:"mdi-power"})]),_:2},1032,["onClick"]),i.volume_muted?(d(),P("div",Da,w(o.$t("muted")),1)):(d(),P("div",Ua,w(i.volume_level),1))])])]),default:p(()=>[V("div",{class:"volumesliderrow",style:q(i.powered?"opacity: 0.75":"opacity: 0.5")},[V("h6",null,w(e(Fe)(i.display_name,27)),1),r(Ee,{class:"vc-slider",width:"100%",color:"secondary","is-powered":i.powered,"model-value":Math.round(i.volume_level),"onUpdate:modelValue":n=>e(C).playerCommandVolumeSet(i.player_id,n)},null,8,["is-powered","model-value","onUpdate:modelValue"])],4)]),append:p(()=>[V("div",{style:q(i.powered?"opacity: 0.75":"opacity: 0.5")},[!i.synced_to&&i.can_sync_with.length&&Object.values(e(C).players).filter(n=>!n.synced_to&&n.can_sync_with.includes(i.player_id)).length>0?(d(),P("div",Na,[r(Ye,{location:"bottom end",style:{"z-index":"999999"}},{activator:p(({props:n})=>[r(te,E({icon:"",ref_for:!0},n),{default:p(()=>[r(F,null,{default:p(()=>[W("mdi-link-variant")]),_:1})]),_:2},1040)]),default:p(()=>[r(fe,null,{default:p(()=>[r(ue,null,{default:p(()=>[W(w(o.$t("sync_player_to")),1)]),_:1}),(d(!0),P(N,null,X(Object.values(e(C).players).filter(n=>!n.synced_to&&n.can_sync_with.includes(i.player_id)),n=>(d(),k(Vt,{key:n.player_id,title:n.display_name,onClick:c=>e(C).playerCommandSync(i.player_id,n.player_id)},null,8,["title","onClick"]))),128)),r(pe)]),_:2},1024)]),_:2},1024)])):Q("",!0),i.synced_to?(d(),P("div",Ya,[r(te,{icon:"",onClick:n=>e(C).playerCommandUnSync(i.player_id)},{default:p(()=>[r(F,null,{default:p(()=>[W("mdi-link-variant-off")]),_:1})]),_:2},1032,["onClick"])])):Q("",!0)],4)]),_:2},1032,["style"]))),128))]),_:1}))}});const Lt=j(Oa,[["__scopeId","data-v-902945d8"]]),Xa={key:0},Ga={key:0},ja={class:"text-caption"},Ka={key:1},Ja=M({__name:"VolumeBtn",props:{volumeSize:{default:"150px"},responsiveVolumeSize:{type:Boolean,default:!0},isVisible:{type:Boolean,default:!0},color:{default:""}},setup(l){const a=l,s=T(!1);return(o,u)=>a.isVisible&&e(t).selectedPlayer?(d(),P("div",Xa,[r(Ye,{modelValue:s.value,"onUpdate:modelValue":u[1]||(u[1]=i=>s.value=i),class:"volume-control-dialog","close-on-content-click":!1,scrim:o.$vuetify.theme.current.dark?"rgba(0,0,0,.75)":"rgba(0,0,0,.85)"},{activator:p(({props:i})=>{var n,c;return[e(z)("bp5")||!o.responsiveVolumeSize?(d(),P("div",Ga,[r(Ee,{style:"margin-right: 0px; margin-left: 0px;",width:o.volumeSize,"is-powered":!0,"model-value":e(t).selectedPlayer.group_childs.length>0?Math.round(((n=e(t).selectedPlayer)==null?void 0:n.group_volume)||0):Math.round(((c=e(t).selectedPlayer)==null?void 0:c.volume_level)||0),"onUpdate:modelValue":u[0]||(u[0]=f=>{var m,_;return e(t).selectedPlayer.group_childs.length>0?e(C).playerCommandGroupVolume(((m=e(t).selectedPlayer)==null?void 0:m.player_id)||"",f):e(C).playerCommandVolumeSet(((_=e(t).selectedPlayer)==null?void 0:_.player_id)||"",f)})},{prepend:p(()=>[r(te,E({variant:"icon",size:"48",ripple:!1},{...i}),{default:p(()=>{var f,m;return[r(F,{color:a.color?o.color:"",size:24,icon:"mdi-volume-high"},null,8,["color"]),V("div",ja,w(e(t).selectedPlayer.group_childs.length>0?Math.round(((f=e(t).selectedPlayer)==null?void 0:f.group_volume)||0):Math.round(((m=e(t).selectedPlayer)==null?void 0:m.volume_level)||0)),1)]}),_:2},1040)]),_:2},1032,["width","model-value"])])):(d(),P("div",Ka,[r(te,E({...i},{size:"48",variant:"icon"}),{default:p(()=>{var f,m;return[r(F,{color:a.color?o.color:"",icon:"mdi-volume-high"},null,8,["color"]),V("div",{class:"text-caption",style:q({color:a.color?o.color:""})},w(e(t).selectedPlayer.group_childs.length>0?Math.round(((f=e(t).selectedPlayer)==null?void 0:f.group_volume)||0):Math.round(((m=e(t).selectedPlayer)==null?void 0:m.volume_level)||0)),5)]}),_:2},1040)]))]}),default:p(()=>[r(Ue,{"min-width":300},{default:p(()=>[r(fe,{style:{overflow:"hidden"},lines:"two"},{default:p(()=>{var i,n,c;return[r(ae,{density:"compact","two-line":"",title:(i=e(t).selectedPlayer)==null?void 0:i.display_name.substring(0,25),subtitle:(n=e(t).selectedPlayer)!=null&&n.powered?o.$t("state."+((c=e(t).selectedPlayer)==null?void 0:c.state)):o.$t("state.off")},{prepend:p(()=>[r(F,{size:"50",icon:e(t).selectedPlayer.icon,color:"primary"},null,8,["icon"])]),_:1},8,["title","subtitle"]),r(pe),e(t).selectedPlayer?(d(),k(Lt,{key:0,player:e(t).selectedPlayer},null,8,["player"])):Q("",!0)]}),_:1})]),_:1})]),_:1},8,["modelValue","scrim"])])):Q("",!0)}});const Rt=j(Ja,[["__scopeId","data-v-2596bf36"]]),Za={class:"main"},eo={key:0,class:"main-media-details"},to={class:"main-media-details-image"},lo={class:"main-media-details-track-info"},ao={key:0},oo={style:{margin:"auto","padding-top":"20px"}},io={key:1,class:"main-queue-items"},so={class:"media-thumb listitem-media-thumb"},no={key:0},uo={class:"player-bottom"},ro={style:{height:"50px"}},co={class:"row",style:{"margin-left":"5%","margin-right":"5%"}},mo={class:"media-controls"},vo=M({__name:"PlayerFullscreen",props:{colorPalette:{}},setup(l){const{t:a}=il(),{name:s}=sl(),o=l,u=T([]),i=T(""),n=T(0),c=I(()=>t.activePlayerQueue?u.value.slice(t.activePlayerQueue.current_index):[]),f=I(()=>t.activePlayerQueue?u.value.slice(0,t.activePlayerQueue.current_index):[]),m=I(()=>{switch(s.value){case"xs":return"1.2em";case"sm":return"1.6em";case"md":return"2em";case"lg":return t.showQueueItems?"1.5em":"2.5em";case"xl":return t.showQueueItems?"1.6em":"3em";case"xxl":return t.showQueueItems?"1.7em":"3.2em";default:return"1.0em."}}),_=I(()=>{switch(s.value){case"xs":return"1.0em";case"sm":return"1.2em";case"md":return"1.7em";case"lg":return t.showQueueItems?"1.0em":"1.6em";case"xl":return t.showQueueItems?"1.2em":"2em";case"xxl":return t.showQueueItems?"1.2em":"2em";default:return"1.0em."}}),v=function(b){t.showFullscreenPlayer=!1,be.push({name:b.media_type,params:{itemId:b.item_id,provider:b.provider}})},y=function(b){t.globalSearchTerm=b,be.push({name:"search"}),t.showFullscreenPlayer=!1},h=function(b,$){var A,H,G,oe,Y,ie;const x=u.value.indexOf($),S=[{label:"play_now",labelArgs:[],action:()=>{L($,"play_now")},icon:"mdi-play-circle-outline",disabled:x<=(((A=t.activePlayerQueue)==null?void 0:A.index_in_buffer)||0)},{label:"play_next",labelArgs:[],action:()=>{L($,"move_next")},icon:"mdi-skip-next-circle-outline",disabled:x<=(((H=t.activePlayerQueue)==null?void 0:H.index_in_buffer)||0)},{label:"queue_move_up",labelArgs:[],action:()=>{L($,"up")},icon:"mdi-arrow-up",disabled:x<=(((G=t.activePlayerQueue)==null?void 0:G.index_in_buffer)||0)},{label:"queue_move_down",labelArgs:[],action:()=>{L($,"down")},icon:"mdi-arrow-down",disabled:x<=(((oe=t.activePlayerQueue)==null?void 0:oe.index_in_buffer)||0)},{label:"queue_delete",labelArgs:[],action:()=>{L($,"delete")},icon:"mdi-delete",disabled:x<=(((Y=t.activePlayerQueue)==null?void 0:Y.index_in_buffer)||0)}];((ie=$==null?void 0:$.media_item)==null?void 0:ie.media_type)==se.TRACK&&S.push({label:"show_info",labelArgs:[],action:()=>{v($.media_item)},icon:"mdi-information-outline",disabled:!1}),Ce.emit("contextmenu",{items:S,posX:b.clientX,posY:b.clientY})},g=function(b){const $=[{label:"settings.player_settings",labelArgs:[],action:()=>{t.showFullscreenPlayer=!1,be.push(`/settings/editplayer/${t.activePlayerQueue.queue_id}`)},icon:"mdi-cog-outline"},{label:"queue_clear",labelArgs:[],action:()=>{C.queueCommandClear(t.activePlayerQueue.queue_id)},icon:"mdi-cancel"},{label:t.activePlayerQueue.shuffle_enabled?"shuffle_enabled":"shuffle_disabled",labelArgs:[],action:()=>{C.queueCommandShuffleToggle(t.activePlayerQueue.queue_id)},icon:t.activePlayerQueue.shuffle_enabled?"mdi-shuffle":"mdi-shuffle-disabled"},{label:"repeat_mode",labelArgs:[a(`repeatmode.${t.activePlayerQueue.repeat_mode}`)],action:()=>{C.queueCommandRepeatToggle(t.activePlayerQueue.queue_id)},icon:t.activePlayerQueue.shuffle_enabled?"mdi-repeat":"mdi-repeat-off"}];Ce.emit("contextmenu",{items:$,posX:b.clientX,posY:b.clientY})},L=function(b,$){var x,S,A,H,G;!b||!t.activePlayerQueue||($=="play_now"?C.queueCommandPlayIndex((x=t.activePlayerQueue)==null?void 0:x.queue_id,b.queue_item_id):$=="move_next"?C.queueCommandMoveNext((S=t.activePlayerQueue)==null?void 0:S.queue_id,b.queue_item_id):$=="up"?C.queueCommandMoveUp((A=t.activePlayerQueue)==null?void 0:A.queue_id,b.queue_item_id):$=="down"?C.queueCommandMoveDown((H=t.activePlayerQueue)==null?void 0:H.queue_id,b.queue_item_id):$=="delete"&&C.queueCommandDelete((G=t.activePlayerQueue)==null?void 0:G.queue_id,b.queue_item_id))},D=async function(){if(u.value=[],t.activePlayerQueue){const b=await C.getPlayerQueueItems(t.activePlayerQueue.queue_id,(t.activePlayerQueue.current_index||0)+50,0);u.value=b.items}},R=function({done:b}){var $;if(u.value.length==0){b("empty");return}if(!t.activePlayerQueue||t.activePlayerQueue.items==0){b("empty");return}if(u.value.length>=(($=t.activePlayerQueue)==null?void 0:$.items)){b("empty");return}b("loading"),C.getPlayerQueueItems(t.activePlayerQueue.queue_id,(t.activePlayerQueue.current_index||0)+50,0).then(x=>{u.value.push(...x.items),b("ok")})};return Ie(()=>{const b=C.subscribe(nl.QUEUE_ITEMS_UPDATED,D);Le(b)}),ee(()=>t.activePlayerQueue,b=>{b&&D()},{immediate:!0}),ee(()=>o.colorPalette,b=>{!b.darkColor||!b.lightColor?i.value=$e.theme.current.value.dark?"#000":"#fff":i.value=$e.theme.current.value.dark?b.darkColor:b.lightColor}),(b,$)=>e(t).showPlayersMenu?Q("",!0):(d(),k(mt,{key:0,modelValue:e(t).showFullscreenPlayer,"onUpdate:modelValue":$[8]||($[8]=x=>e(t).showFullscreenPlayer=x),fullscreen:"",scrim:!1,style:{overflow:"hidden"},transition:"dialog-bottom-transition"},{default:p(()=>[r(Ue,{color:e(ul)(i.value,77,40)},{default:p(()=>{var x,S,A,H,G,oe,Y,ie,Se,he;return[r(Ul,{class:"v-toolbar-default",color:"transparent"},{prepend:p(()=>[r(te,{icon:"",onClick:$[0]||($[0]=B=>e(t).showFullscreenPlayer=!1)},{default:p(()=>[r(F,{icon:"mdi-chevron-down"})]),_:1})]),append:p(()=>[r(te,{icon:"",onClick:$[1]||($[1]=B=>e(t).showFullscreenPlayer=!1)},{default:p(()=>[r(F,{icon:"mdi-dots-vertical",onClick:Be(g,["stop"])})]),_:1})]),_:1}),V("div",Za,[e(z)("bp7")||!e(t).showQueueItems?(d(),P("div",eo,[V("div",to,[r(ke,{item:e(t).curQueueItem,thumbnail:!1,style:{"max-width":"100%",width:"auto"}},null,8,["item"])]),V("div",lo,[(x=e(t).curQueueItem)!=null&&x.media_item?(d(),P("div",{key:0,style:q(`font-size: ${m.value};cursor:pointer;`),onClick:$[2]||($[2]=B=>v(e(t).curQueueItem.media_item))},[W(w(e(t).curQueueItem.media_item.name)+" ",1),"version"in e(t).curQueueItem.media_item&&e(t).curQueueItem.media_item.version?(d(),P("span",ao,"( "+w(e(t).curQueueItem.media_item.version)+")",1)):Q("",!0)],4)):(d(),k($t,{key:1,style:q(`font-size: ${m.value};cursor:pointer;`),onClick:$[3]||($[3]=B=>e(t).showPlayersMenu=!0)},{default:p(()=>{var B;return[W(w(((B=e(t).selectedPlayer)==null?void 0:B.display_name)||b.$t("no_player")),1)]}),_:1},8,["style"])),((A=(S=e(t).curQueueItem)==null?void 0:S.media_item)==null?void 0:A.media_type)==e(se).RADIO&&((G=(H=e(t).curQueueItem)==null?void 0:H.streamdetails)!=null&&G.stream_title)?(d(),k(ue,{key:2,class:"text-h6 text-md-h5 text-lg-h4",onClick:$[4]||($[4]=B=>y(e(t).curQueueItem.streamdetails.stream_title))},{default:p(()=>[W(w(e(t).curQueueItem.streamdetails.stream_title),1)]),_:1})):Q("",!0),(oe=e(t).curQueueItem)!=null&&oe.media_item&&"album"in e(t).curQueueItem.media_item&&e(t).curQueueItem.media_item.album?(d(),k(ue,{key:3,style:q(`font-size: ${_.value};cursor:pointer;`),onClick:$[5]||($[5]=B=>v(e(t).curQueueItem.media_item.album))},{default:p(()=>[W(w(e(t).curQueueItem.media_item.album.name),1)]),_:1},8,["style"])):Q("",!0),(Y=e(t).curQueueItem)!=null&&Y.media_item&&"artists"in e(t).curQueueItem.media_item&&e(t).curQueueItem.media_item.artists.length?(d(),k(ue,{key:4,style:q(`font-size: ${_.value};cursor:pointer;`),onClick:$[6]||($[6]=B=>v(e(t).curQueueItem.media_item.artists[0]))},{default:p(()=>[W(w(e(t).curQueueItem.media_item.artists[0].name),1)]),_:1},8,["style"])):Q("",!0),((ie=e(t).selectedPlayer)==null?void 0:ie.active_source)!=((Se=e(t).selectedPlayer)==null?void 0:Se.player_id)?(d(),k(ue,{key:5,style:q(`font-size: ${_.value}`)},{default:p(()=>{var B;return[W(w(b.$t("external_source_active",[(B=e(t).selectedPlayer)==null?void 0:B.active_source])),1)]}),_:1},8,["style"])):e(t).activePlayerQueue&&e(t).activePlayerQueue.items==0?(d(),k(ue,{key:6,style:q(`font-size: ${_.value}`)},{default:p(()=>[W(w(b.$t("queue_empty")),1)]),_:1},8,["style"])):Q("",!0),V("div",oo,[r(Nt)])])])):Q("",!0),e(t).showQueueItems?(d(),P("div",io,[r(We,{modelValue:n.value,"onUpdate:modelValue":$[7]||($[7]=B=>n.value=B),"hide-slider":"",density:"compact"},{default:p(()=>[r(de,{value:0},{default:p(()=>[W(w(b.$t("queue"))+" ",1),r(Ae,{color:"grey",content:c.value.length,inline:""},null,8,["content"])]),_:1}),r(de,{value:1},{default:p(()=>[W(w(b.$t("played"))+" ",1),r(Ae,{color:"grey",content:f.value.length,inline:""},null,8,["content"])]),_:1})]),_:1},8,["modelValue"]),r(Il,{items:c.value,onLoad:R,"empty-text":"",style:{"max-height":"95%",height:"100%","overflow-y":"hidden"}},{default:p(()=>[r(Nl,{height:70,items:n.value==0?c.value:f.value,style:{height:"100%"}},{default:p(({item:B})=>[r(Vt,{link:"","show-menu-btn":!0,onClick:Be(ne=>h(ne,B),["stop"]),onMenu:Be(ne=>h(ne,B),["stop"])},{prepend:p(()=>[V("div",so,[r(ke,{size:"50",item:B},null,8,["item"])])]),title:p(()=>[W(w(B.name),1)]),subtitle:p(()=>[W(w(e(Pe)(B.duration))+" ",1),B.media_item&&"album"in B.media_item&&B.media_item.album?(d(),P("span",no," | "+w(B.media_item.album.name),1)):Q("",!0)]),_:2},1032,["onClick","onMenu"])]),_:1},8,["items"])]),_:1},8,["items"])])):Q("",!0)]),V("div",uo,[V("div",ro,[r(Et,{style:{position:"absolute","margin-left":"3%",right:"auto"}}),r(Rt,{"responsive-volume-size":!0,style:{position:"absolute","margin-left":"auto",right:"5%"}})]),V("div",co,[r(qe,{"is-progress-bar":!1,color:b.$vuetify.theme.current.dark?o.colorPalette.lightColor:o.colorPalette.darkColor},null,8,["color"])]),V("div",mo,[r(Wa,{class:"media-controls-item","max-height":"35px",item:(he=e(t).curQueueItem)==null?void 0:he.media_item},null,8,["item"]),b.$vuetify.display.mdAndUp?(d(),k(zt,{key:0,class:"media-controls-item","max-height":"30px"})):Q("",!0),r(At,{class:"media-controls-item","max-height":"45px"}),r(Mt,{class:"media-controls-item","max-height":"100px"}),r(Wt,{class:"media-controls-item","max-height":"45px"}),b.$vuetify.display.mdAndUp?(d(),k(Bt,{key:1,class:"media-controls-item","max-height":"35px"})):Q("",!0),r(qt,{class:"media-controls-item","max-height":"30px"})])])]}),_:1},8,["color"])]),_:1},8,["modelValue"]))}});const yo=j(vo,[["__scopeId","data-v-acdd1c2a"]]),po={key:0},fo={key:1},_o={key:2},ho={class:"d-flex justify-center",style:{width:"100%"}},go={key:0},bo={key:1},Po={key:2,class:"line-clamp-1"},ko={key:3,class:"line-clamp-1"},Co={key:4,class:"line-clamp-1"},wo={key:5,class:"line-clamp-1"},Vo=M({__name:"PlayerTrackDetails",props:{showOnlyArtist:{type:Boolean,default:!1},showQualityDetailsBtn:{type:Boolean,default:!0},colorPalette:{},primaryColor:{default:""}},setup(l){const a=l,s=I(()=>{var o,u;return(u=(o=t.activePlayerQueue)==null?void 0:o.current_item)==null?void 0:u.streamdetails});return(o,u)=>(d(),k(ae,{style:{height:"auto",width:"fit-content",margin:"0px",padding:"0px"},lines:"two"},{prepend:p(()=>{var i;return[V("div",{class:"media-thumb player-media-thumb",style:q(`height: ${e(z)({breakpoint:"phone"})?50:64}px; width: ${e(z)({breakpoint:"phone"})?50:64}px; `)},[r(yo,{"show-fullscreen":e(t).showFullscreenPlayer,"color-palette":o.colorPalette},null,8,["show-fullscreen","color-palette"]),r(ke,{item:((i=e(t).curQueueItem)==null?void 0:i.media_item)||e(t).curQueueItem,fallback:e(lt),style:{cursor:"pointer"},onClick:u[0]||(u[0]=n=>e(t).showFullscreenPlayer=!0)},null,8,["item","fallback"])],4)]}),title:p(()=>{var i,n;return[V("div",{style:q({cursor:"pointer",color:o.primaryColor})},[e(t).curQueueItem&&e(t).curQueueItem.media_item?(d(),P("div",{key:0,onClick:u[1]||(u[1]=c=>e(t).showFullscreenPlayer=!0)},[W(w(e(t).curQueueItem.media_item.name)+" ",1),"version"in e(t).curQueueItem.media_item&&e(t).curQueueItem.media_item.version?(d(),P("span",po,"("+w(e(t).curQueueItem.media_item.version)+")",1)):Q("",!0)])):e(t).curQueueItem?(d(),P("div",fo,w(e(t).curQueueItem.name),1)):(i=e(t).activePlayerQueue)!=null&&i.display_name?(d(),P("div",_o,w((n=e(t).activePlayerQueue)==null?void 0:n.display_name),1)):(d(),P("div",{key:3,onClick:u[2]||(u[2]=c=>e(t).showPlayersMenu=!0)},w(o.$t("no_player")),1))],4)]}),append:p(()=>{var i,n,c;return[(i=s.value)!=null&&i.audio_format.content_type&&!e(z)({breakpoint:"phone"})&&o.showQualityDetailsBtn?(d(),k(Ll,E({key:0,disabled:!e(t).activePlayerQueue||!((n=e(t).activePlayerQueue)!=null&&n.active)||((c=e(t).activePlayerQueue)==null?void 0:c.items)==0,class:"player-track-content-type",style:o.$vuetify.theme.current.dark?"color: #000; background: #fff; margin-left: 15px;":"color: #fff; background: #000; margin-left: 15px;",label:"",ripple:!1},a),{default:p(()=>[V("div",ho,w(s.value.audio_format.content_type.toUpperCase()),1)]),_:1},16,["disabled","style"])):Q("",!0)]}),subtitle:p(()=>{var i,n,c,f,m,_,v,y,h;return[V("div",{style:q({cursor:"pointer",color:o.primaryColor}),class:"line-clamp-1",onClick:u[3]||(u[3]=g=>e(t).showFullscreenPlayer=!0)},[e(t).curQueueItem&&((i=e(t).curQueueItem.media_item)==null?void 0:i.media_type)==e(se).TRACK&&"album"in e(t).curQueueItem.media_item&&e(t).curQueueItem.media_item.album&&!a.showOnlyArtist?(d(),P("div",go,w(e(rl)(e(t).curQueueItem.media_item.artists))+" • "+w(e(t).curQueueItem.media_item.album.name),1)):e(t).curQueueItem&&e(t).curQueueItem.media_item&&"artists"in e(t).curQueueItem.media_item&&e(t).curQueueItem.media_item.artists.length>0?(d(),P("div",bo,w(e(t).curQueueItem.media_item.artists[0].name),1)):(c=(n=e(t).curQueueItem)==null?void 0:n.streamdetails)!=null&&c.stream_title?(d(),P("div",Po,w((m=(f=e(t).curQueueItem)==null?void 0:f.streamdetails)==null?void 0:m.stream_title),1)):e(t).curQueueItem&&((_=e(t).curQueueItem.media_item)!=null&&_.metadata.description)?(d(),P("div",ko,w(e(t).curQueueItem.media_item.metadata.description),1)):e(t).activePlayerQueue&&e(t).activePlayerQueue.items==0?(d(),P("div",Co,w(o.$t("queue_empty")),1)):((v=e(t).selectedPlayer)==null?void 0:v.active_source)!=((y=e(t).selectedPlayer)==null?void 0:y.player_id)?(d(),P("div",wo,w(o.$t("external_source_active",[(h=e(t).selectedPlayer)==null?void 0:h.active_source])),1)):Q("",!0)],4)]}),_:1}))}});const $o=M({__name:"PlayerExtendedControls",props:{queue:{default:()=>({isVisible:!0,showQueueDialog:!1})},player:{default:()=>({isVisible:!0})},volume:{default:()=>({isVisible:!0,volumeSize:"150px",responsiveVolumeSize:!1})}},setup(l){const a=l;return(s,o)=>(d(),P(N,null,[a.player&&a.player.isVisible?(d(),k(Et,{key:0,color:a.player.color},null,8,["color"])):Q("",!0),a.queue&&a.queue.isVisible?(d(),k(qt,{key:1,color:a.queue.color},null,8,["color"])):Q("",!0),a.volume&&a.volume.isVisible?(d(),k(Rt,{key:2,color:a.volume.color,"volume-size":a.volume.volumeSize,"responsive-volume-size":a.volume.responsiveVolumeSize},null,8,["color","volume-size","responsive-volume-size"])):Q("",!0)],64))}}),Qo={style:{width:"100%"}},Io={class:"mediacontrols-bottom-right"},xo=M({__name:"Player",props:{useFloatingPlayer:{type:Boolean}},setup(l){at();const a=T({0:"",1:"",2:"",3:"",4:"",5:"",lightColor:"",darkColor:""}),s=new Image;s.src=$e.theme.current.value.dark?lt:Yt,s.crossOrigin="Anonymous",s.addEventListener("load",function(){a.value=dl(s)});const o=I(()=>$e.theme.current.value.dark?a.value&&a.value.darkColor?a.value.darkColor+"26":"CCCCCC26":a.value&&a.value.lightColor?a.value.lightColor+"26":"CCCCCC26");return ee(()=>{var u;return(u=t.curQueueItem)==null?void 0:u.queue_item_id},()=>{var u;(u=t.curQueueItem)!=null&&u.media_item?s.src=Ge(t.curQueueItem.media_item,Ke.THUMB)||"":t.curQueueItem?s.src=Ge(t.curQueueItem,Ke.THUMB)||"":s.src=""}),(u,i)=>{const n=ut("breakpoint");return d(),P(N,null,[V("div",{class:re(`${u.useFloatingPlayer?"mediacontrols-bg-2":"mediacontrols-bg-1"}`),style:q(`background: ${o.value};`)},null,6),e(z)("bp3")?Ve((d(),k(qe,{key:0,color:u.$vuetify.theme.current.dark?a.value.lightColor||"#fff":a.value.darkColor||"#000","is-progress-bar":!0},null,8,["color"])),[[n,{breakpoint:"bp3",condition:"lt"}]]):Q("",!0),V("div",{class:"mediacontrols",style:q(`padding: ${e(z)({breakpoint:"phone"})?3:10}px ${e(z)({breakpoint:"phone"}),10}px;`)},[V("div",{class:re(`mediacontrols-left-${e(z)("bp3")?"1":"2"}`)},[r(Vo,{"show-quality-details-btn":!!e(z)("bp8"),"show-only-artist":!e(z)("bp7"),"color-palette":a.value,"primary-color":u.$vuetify.theme.current.dark?"#fff":"#000"},null,8,["show-quality-details-btn","show-only-artist","color-palette","primary-color"])],2),V("div",{class:re(`mediacontrols-bottom-center-${e(z)("bp3")?"1":"2"}`)},[V("div",Qo,[r(tt,{"visible-components":{repeat:{isVisible:e(z)("bp3")},shuffle:{isVisible:e(z)("bp3")},play:{isVisible:!0,icon:{staticWidth:"50px",staticHeight:"50px"}},previous:{isVisible:e(z)("bp3")},next:{isVisible:e(z)("bp3")}}},null,8,["visible-components"]),Ve(r(qe,{color:u.$vuetify.theme.current.dark?a.value.lightColor||"#fff":a.value.darkColor||"#000","is-progress-bar":!1},null,8,["color"]),[[n,{breakpoint:"mobile",condition:"gt"}]])])],2),V("div",Io,[V("div",null,[r($o,{queue:{isVisible:e(z)("bp3"),color:u.$vuetify.theme.current.dark?"#fff":"#000"},player:{isVisible:!0,color:u.$vuetify.theme.current.dark?"#fff":"#000"},volume:{isVisible:!0,color:u.$vuetify.theme.current.dark?"#fff":"#000"}},null,8,["queue","player","volume"]),r(tt,{style:{"padding-right":"5px"},"visible-components":{repeat:{isVisible:!1},shuffle:{isVisible:!1},play:{isVisible:e(z)({breakpoint:"bp3",condition:"lt"}),withCircle:!1,icon:{staticWidth:"48px",staticHeight:"48px",color:u.$vuetify.theme.current.dark?"#fff":"#000"}},previous:{isVisible:!1},next:{isVisible:!1}}},null,8,["visible-components"])])])],4)],64)}}});const So=j(xo,[["__scopeId","data-v-30d32c2a"]]);const To=K({app:Boolean,color:String,height:{type:[Number,String],default:"auto"},...vt(),...ce(),...pt(),...kt(),...ft(),..._e({tag:"footer"}),...xe()},"VFooter"),Bo=J()({name:"VFooter",props:To(),setup(l,a){let{slots:s}=a;const{themeClasses:o}=He(l),{backgroundColorClasses:u,backgroundColorStyles:i}=Ne(U(l,"color")),{borderClasses:n}=_t(l),{elevationClasses:c}=gt(l),{roundedClasses:f}=bt(l),m=we(32),{resizeRef:_}=Vl(g=>{g.length&&(m.value=g[0].target.clientHeight)}),v=I(()=>l.height==="auto"?m.value:parseInt(l.height,10)),{layoutItemStyles:y,layoutIsReady:h}=Ct({id:l.name,order:I(()=>parseInt(l.order,10)),position:I(()=>"bottom"),layoutSize:v,elementSize:I(()=>l.height==="auto"?void 0:v.value),active:I(()=>l.app),absolute:U(l,"absolute")});return Z(()=>r(l.tag,{ref:_,class:["v-footer",o.value,u.value,n.value,c.value,f.value,l.class],style:[i.value,l.app?y.value:{height:ye(l.height)},l.style]},s)),l.app?h:{}}}),zo=M({__name:"Footer",setup(l){const a=I(()=>t.navigationMenuStyle=="horizontal"),s=I(()=>t.navigationMenuStyle!="horizontal"?0:t.isInStandaloneMode?100:80),o=I(()=>a.value?s.value+5:0);return(u,i)=>(d(),P(N,null,[a.value?(d(),P("div",{key:0,class:re(u.$vuetify.theme.current.dark?"gradient-dark":"gradient-light"),style:q(`
      position: fixed;
      width: 100%;
      height: ${s.value+(e(z)("bp3")?100:70)}px;
      bottom: 0px;
      z-index: 999;
    `)},null,6)):Q("",!0),e(t).navigationMenuStyle=="horizontal"?(d(),k(wa,{key:1,height:s.value},null,8,["height"])):Q("",!0),r(Bo,{bottom:"",fixed:"",class:re(`d-flex flex-column ${a.value?"mediacontrols-player-float":"mediacontrols-player-default"}`),style:q(`bottom: ${o.value}px;`),elevation:"10",app:""},{default:p(()=>[r(So,{"use-floating-player":a.value},null,8,["use-floating-player"])]),_:1},8,["class","style"])],64))}});const Mo={key:0,class:"text-body-2",style:{"line-height":"1em"}},Ao={key:1,class:"text-body-2",style:{"line-height":"1em"}},Wo={key:2,class:"text-body-2",style:{"line-height":"1em"}},qo=M({__name:"PlayerSelect",setup(l){const a=T(void 0),s=I(()=>{var _,v;const m=[];for(const y in(_=C)==null?void 0:_.players){const h=(v=C)==null?void 0:v.players[y];n(h,!0)&&m.push(h)}return m.slice().sort((y,h)=>{var g;return y.display_name.toUpperCase()>((g=h.display_name)==null?void 0:g.toUpperCase())?1:-1})});ee(()=>t.showPlayersMenu,m=>{m||(a.value=void 0)}),ee(()=>t.selectedPlayer,m=>{m&&localStorage.setItem("mass.LastPlayerId",m.player_id)}),ee(()=>C.players,m=>{m&&c()},{deep:!0}),ee(()=>C.state,m=>{m.value!=ct.CONNECTED&&(t.selectedPlayerId=void 0)},{deep:!0});const o=T(),u=T();Ie(()=>{var m,_,v;o.value=(v=(_=(m=cl())==null?void 0:m.vnode)==null?void 0:_.el)==null?void 0:v.getRootNode(),c()});const i=function(m){u.value!=m&&(u.value=m,setTimeout(()=>{var v;const _=(v=o.value)==null?void 0:v.getElementById(m);_==null||_.scrollIntoView({behavior:"smooth"})},0))},n=function(m,_=!0,v=!1,y=!1){return!(!m.enabled||!m.available&&!_||m.synced_to&&!v||m.hidden&&!y)},c=function(){if(t.selectedPlayer&&n(t.selectedPlayer,!1,!1,!1))return;const m=f();m&&(t.selectedPlayerId=m.player_id,console.log("Selected new default player: ",m.display_name))},f=function(){const m=localStorage.getItem("mass.LastPlayerId");if(m&&m in C.players&&n(C.players[m],!1,!1,!1)&&C.players[m].powered)return C.players[m]};return(m,_)=>(d(),k(Dt,{modelValue:e(t).showPlayersMenu,"onUpdate:modelValue":_[1]||(_[1]=v=>e(t).showPlayersMenu=v),location:"right",app:"",clipped:"",temporary:"",touchless:"",width:"290",style:{"z-index":"9999"}},{default:p(()=>[r($t,{class:"title"},{default:p(()=>[V("b",null,w(m.$t("players")),1)]),_:1}),r(Rl,{modelValue:a.value,"onUpdate:modelValue":_[0]||(_[0]=v=>a.value=v),focusable:"",variant:"accordion",flat:""},{default:p(()=>[(d(!0),P(N,null,X(s.value,v=>(d(),k(Hl,{id:v.player_id,key:v.player_id,disabled:!v.available,flat:"",class:"playerrow"},{default:p(()=>[r(Fl,{"expand-icon":"mdi-chevron-down","collapse-icon":"mdi-chevron-up",onClick:y=>{e(t).selectedPlayerId=v.player_id,i(v.player_id)}},{default:p(()=>[r(ae,{class:"playerrow-list-item"},{prepend:p(()=>[r(F,{size:"45",icon:v.type==e(me).PLAYER&&v.group_childs.length?"mdi-speaker-multiple":v.icon,color:"primary"},null,8,["icon"])]),title:p(()=>[V("div",null,[V("b",null,w(e(Fe)(e(dt)(v),20)),1)])]),subtitle:p(()=>[v.powered?v.active_source!=v.player_id&&e(C).queues[v.active_source]?(d(),P("div",Ao,w(m.$t("state."+v.state))+" ("+w(e(C).queues[v.active_source].display_name)+") ",1)):(d(),P("div",Wo,w(m.$t("state."+v.state)),1)):(d(),P("div",Mo,w(m.$t("state.off")),1))]),_:2},1024)]),_:2},1032,["onClick"]),r(Dl,null,{default:p(()=>[r(Lt,{player:v},null,8,["player"])]),_:2},1024)]),_:2},1032,["id","disabled"]))),128))]),_:1},8,["modelValue"])]),_:1},8,["modelValue"]))}});const Eo=j(qo,[["__scopeId","data-v-2ab27364"]]);function Lo(l={}){const{immediate:a=!1,onNeedRefresh:s,onOfflineReady:o,onRegistered:u,onRegisteredSW:i,onRegisterError:n}=l;let c,f,m;const _=async(y=!0)=>{await f,await(m==null?void 0:m())};async function v(){if("serviceWorker"in navigator){if(c=await ml(()=>import("./workbox-window.prod.es5-c46a1faa.js"),[],import.meta.url).then(({Workbox:y})=>new y("./sw.js",{scope:"./",type:"classic"})).catch(y=>{n==null||n(y)}),!c)return;m=async()=>{await(c==null?void 0:c.messageSkipWaiting())};{let y=!1;const h=()=>{y=!0,c==null||c.addEventListener("controlling",g=>{g.isUpdate&&window.location.reload()}),s==null||s()};c.addEventListener("installed",g=>{typeof g.isUpdate>"u"?typeof g.isExternal<"u"?g.isExternal?h():!y&&(o==null||o()):g.isExternal?window.location.reload():!y&&(o==null||o()):g.isUpdate||o==null||o()}),c.addEventListener("waiting",h),c.addEventListener("externalwaiting",h)}c.register({immediate:a}).then(y=>{i?i("./sw.js",y):u==null||u(y)}).catch(y=>{n==null||n(y)})}}return f=v(),_}function Ro(l={}){const{immediate:a=!0,onNeedRefresh:s,onOfflineReady:o,onRegistered:u,onRegisteredSW:i,onRegisterError:n}=l,c=T(!1),f=T(!1);return{updateServiceWorker:Lo({immediate:a,onNeedRefresh(){c.value=!0,s==null||s()},onOfflineReady(){f.value=!0,o==null||o()},onRegistered:u,onRegisteredSW:i,onRegisterError:n}),offlineReady:f,needRefresh:c}}const Ho={key:0,class:"pwa-toast",role:"alert"},Fo={class:"message"},Do={key:0},Uo={key:1},No=M({__name:"ReloadPrompt",setup(l){const{offlineReady:a,needRefresh:s,updateServiceWorker:o}=Ro(),u=async()=>{a.value=!1,s.value=!1};return(i,n)=>e(a)||e(s)?(d(),P("div",Ho,[V("div",Fo,[e(a)?(d(),P("span",Do," App ready to work offline ")):(d(),P("span",Uo," New content available, click on reload button to update. "))]),e(s)?(d(),P("button",{key:0,onClick:n[0]||(n[0]=c=>e(o)())},"Reload")):Q("",!0),V("button",{onClick:u},"Close")])):Q("",!0)}});const Yo=K({...ce(),...Sl({fullHeight:!0}),...xe()},"VApp"),Oo=J()({name:"VApp",props:Yo(),setup(l,a){let{slots:s}=a;const o=He(l),{layoutClasses:u,getLayoutItem:i,items:n,layoutRef:c}=Tl(l),{rtlClasses:f}=nt();return Z(()=>r("div",{ref:c,class:["v-application",o.themeClasses.value,u.value,f.value,l.class],style:[l.style]},[r("div",{class:"v-application__wrap"},[r(vl,null,{default:()=>{var m;return[r(N,null,[(m=s.default)==null?void 0:m.call(s)])]}})])])),{getLayoutItem:i,items:n,theme:o}}}),yi=M({__name:"Default",setup(l){return(a,s)=>(d(),k(Oo,null,{default:p(()=>[r(Eo),e(C).state.value==e(ct).CONNECTED?(d(),k(aa,{key:0})):(d(),k(ql,{key:1},{default:p(()=>[r($l,{indeterminate:"",size:"64"})]),_:1})),e(t).isInStandaloneMode?(d(),k(No,{key:2})):Q("",!0),r(zo)]),_:1}))}});export{yi as default};
