import{C as te}from"./Container-62927d7c.js";import{d as g,o as ie,n as R,c as s,e as c,w as n,a3 as ae,u as m,an as se,X as $,l as ne,m as oe,A as le,R as re,Q as ue,E as de,ad as j,f as d,M as D,g as u,i as w,t as r,ao as me,j as q,Y as k,ag as Q,a2 as ce,F as A,h as S,W as U,r as X,ap as pe,b as _,s as h,a6 as f,a1 as _e,z as ye,am as ve}from"./index-abd7b0d3.js";import{M as K,s as we,c as fe,i as he}from"./ItemContextMenu.vue_vue_type_style_index_0_scoped_7aadaa8c_lang-8ee75bda.js";import{V as J}from"./VCard-61a799ef.js";import{c as ge,d as be,b as ke}from"./VMenu-1534bcb0.js";import{V as Z,A as qe,B as V,w as I,s as Ce,z as Pe}from"./VListItem-623fa258.js";import{_ as C}from"./_plugin-vue_export-helper-c27b6911.js";import{V as Ie,T as Ve}from"./Toolbar-6ade126e.js";import{V as x}from"./VToolbar-9761d31e.js";/* empty css              */import"./eventbus-3394fed7.js";import"./VChip-13179554.js";import"./VList-856decd1.js";import"./VCardText-199b0fb3.js";const ee=g({__name:"Carousel",setup(p){return ie(()=>{document.documentElement.style.setProperty("--swiper-navigation-color","primary")}),(e,o)=>{const i=R("swiper");return s(),c(i,{"slides-per-view":m(se)(e.$vuetify.display.width)+.5,"space-between":24,"free-mode":!0,navigation:!m($)({breakpoint:"mobile"})},{default:n(()=>[ae(e.$slots,"default")]),_:3},8,["slides-per-view","navigation"])}}}),$e=ne({disabled:Boolean,modelValue:{type:Boolean,default:null},...ge()},"VHover"),Re=oe()({name:"VHover",props:$e(),emits:{"update:modelValue":p=>!0},setup(p,e){let{slots:o}=e;const i=le(p,"modelValue"),{runOpenDelay:t,runCloseDelay:l}=be(p,a=>!p.disabled&&(i.value=a));return()=>{var a;return(a=o.default)==null?void 0:a.call(o,{isHovering:i.value,props:{onMouseenter:t,onMouseleave:l}})}}}),De={key:0},Ae={key:1},Se={key:2},He=g({__name:"PanelviewItemCompact",props:{item:{},size:{default:200}},emits:["menu","click"],setup(p,{emit:e}){const o=p,i=e,t=function(a){i("menu",a,o.item)},l=function(a){i("click",a,o.item)};return(a,y)=>{const v=re("hold");return s(),c(Re,null,{default:n(({isHovering:b,props:P})=>[ue((s(),c(J,de(P,{class:{"on-hover":b},elevation:b?3:0,onClick:l,onContextmenu:j(t,["right","prevent"])}),{default:n(()=>[d(K,{item:a.item},null,8,["item"]),d(ke,{"model-value":b||a.$vuetify.display.mobile,style:{height:"35%",top:"65%","border-radius":"0"},contained:"",flat:"",scrim:a.$vuetify.theme.current.dark?"rgba(0,0,0,.95)":"rgba(255,255,255,.95)"},{default:n(()=>[d(Z,{variant:"text",slim:"",tile:"",density:"compact",class:"panel-item-details"},{default:n(()=>[d(qe,null,{default:n(()=>[a.item.media_type==m(D).FOLDER?(s(),u("span",De,[w("span",null,r(m(me)(a.item,a.$t)),1)])):(s(),u("span",Ae,r(a.item.name),1)),"version"in a.item&&a.item.version?(s(),u("span",Se," - "+r(a.item.version),1)):q("",!0)]),_:1}),"artists"in a.item&&a.item.artists?(s(),c(V,{key:0,class:"line-clamp-1"},{default:n(()=>[k(r(m(Q)(a.item.artists,1)),1)]),_:1})):"owner"in a.item&&a.item.owner?(s(),c(V,{key:1,class:"line-clamp-1"},{default:n(()=>[k(r(a.item.owner),1)]),_:1})):(s(),c(V,{key:2,class:"line-clamp-1"},{default:n(()=>[k(r(a.$t(a.item.media_type)),1)]),_:1}))]),_:1})]),_:2},1032,["model-value","scrim"])]),_:2},1040,["class","elevation"])),[[v,t]])]),_:1})}}});const Le=C(He,[["__scopeId","data-v-966847b1"]]),Me={key:0,class:"widget-row"},Ee={class:"mr-3"},Be={key:1,class:"mr-3"},ze=g({__name:"HomeWidgetRow",props:{widgetRow:{}},setup(p){const e=function(i,t){const l=Array.isArray(t)?t:[t];we(l,void 0,i.clientX,i.clientY)},o=function(i,t){if(!fe(t)){e(i,t);return}t.media_type==D.FOLDER?U.push({name:"browse",query:{path:t.path}}):["artist","album","playlist"].includes(t.media_type)?U.push({name:t.media_type,params:{itemId:t.item_id,provider:t.provider}}):e(i,t)};return(i,t)=>{const l=R("swiper-slide");return i.widgetRow.items.length?(s(),u("div",Me,[d(x,{class:"header",color:"transparent",style:ce(i.widgetRow.path?"cursor: pointer; width: fit-content;":"width: fit-content;"),onClick:t[0]||(t[0]=a=>i.widgetRow.path?i.$router.replace(i.widgetRow.path):"")},{prepend:n(()=>[d(I,{icon:i.widgetRow.icon},null,8,["icon"])]),title:n(()=>[i.widgetRow.count?(s(),c(Ie,{key:0,inline:"",color:"grey",content:i.widgetRow.count},{default:n(()=>[w("span",Ee,r(i.$t(i.widgetRow.label)),1)]),_:1},8,["content"])):(s(),u("span",Be,r(i.$t(i.widgetRow.label)),1))]),_:1},8,["style"]),d(ee,null,{default:n(()=>[(s(!0),u(A,null,S(i.widgetRow.items,a=>(s(),c(l,{key:a.uri},{default:n(()=>[d(Le,{item:a,onMenu:e,onClick:o},null,8,["item"])]),_:2},1024))),128))]),_:1})])):q("",!0)}}});const Ne=C(ze,[["__scopeId","data-v-025ee5cb"]]),Te=g({__name:"HomeWidgetRows",setup(p){const e=X({recently_played:{label:"recently_played",icon:"mdi-motion-play",items:[]},artists:{label:"artists",icon:"mdi-account-music",path:"/artists",items:[]},albums:{label:"albums",icon:"mdi-album",path:"/albums",items:[]},playlists:{label:"playlists",icon:"mdi-playlist-music",path:"/playlists",items:[]},tracks:{label:"tracks",icon:"mdi-file-music",path:"/tracks",items:[]},radios:{label:"radios",icon:"mdi-radio",path:"/radios",items:[]},browse:{label:"browse",icon:"mdi-folder",path:"/browse",items:[]}});return pe(async()=>{e.value.recently_played.items=await _.getRecentlyPlayedItems(10);const o=await _.getLibraryArtists(void 0,void 0,20,void 0,"RANDOM()");e.value.artists.items=o.items,e.value.artists.count=o.total;const i=await _.getLibraryAlbums(void 0,void 0,20,void 0,"timestamp_added DESC");e.value.albums.items=i.items,e.value.albums.count=i.total;const t=await _.getLibraryPlaylists(void 0,void 0,20,void 0,"timestamp_added DESC");e.value.playlists.items=t.items,e.value.playlists.count=t.total;const l=await _.getLibraryRadios(void 0,void 0,20,void 0,"timestamp_added DESC");e.value.radios.items=l.items,e.value.radios.count=l.total;const a=await _.getLibraryTracks(void 0,void 0,20,void 0,"timestamp_added DESC");e.value.tracks.items=a.items,e.value.tracks.count=a.total}),(o,i)=>(s(!0),u(A,null,S(e.value,t=>(s(),u("div",{key:t.label},[d(Ne,{"widget-row":t},null,8,["widget-row"])]))),128))}}),Fe={class:"media-thumb player-media-thumb"},Oe={style:{cursor:"pointer"}},We={key:0},Ye={key:0},Ge={key:1},Ue={key:2},je={style:{cursor:"pointer"},class:"line-clamp-1"},Qe={key:0},Xe={key:1},Ke={key:2,class:"line-clamp-1"},Je={key:3,class:"line-clamp-1"},Ze={key:4,class:"line-clamp-1"},xe={key:5,class:"line-clamp-1"},et=g({__name:"PanelviewPlayerCard",props:{queue:{}},setup(p){return(e,o)=>(s(),c(J,{class:_e(["panel-item",{"panel-item-selected":m(h).selectedPlayerId==e.queue.queue_id,"panel-item-idle":e.queue.state==m(f).PAUSED}])},{default:n(()=>[d(Z,{class:"panel-item-details",flat:""},{prepend:n(()=>{var i;return[w("div",Fe,[d(K,{size:"60",item:((i=e.queue.current_item)==null?void 0:i.media_item)||e.queue.current_item,fallback:m(he),style:{cursor:"pointer"}},null,8,["item","fallback"])])]}),title:n(()=>{var i,t,l,a,y,v;return[w("div",Oe,[(i=e.queue.current_item)!=null&&i.media_item?(s(),u("div",We,[k(r((t=e.queue.current_item)==null?void 0:t.media_item.name)+" ",1),"version"in((l=e.queue.current_item)==null?void 0:l.media_item)&&((a=e.queue.current_item)!=null&&a.media_item.version)?(s(),u("span",Ye,"("+r((y=e.queue.current_item)==null?void 0:y.media_item.version)+")",1)):q("",!0)])):e.queue.current_item?(s(),u("div",Ge,r((v=e.queue.current_item)==null?void 0:v.name),1)):(s(),u("div",Ue,r(e.queue.display_name),1))])]}),subtitle:n(()=>{var i,t,l,a,y,v,b,P,H,L,M,E,B,z,N,T,F,O,W,Y,G;return[w("div",je,[(i=e.queue.current_item)!=null&&i.media_item&&((l=(t=e.queue.current_item)==null?void 0:t.media_item)==null?void 0:l.media_type)==m(D).TRACK&&"album"in((a=e.queue.current_item)==null?void 0:a.media_item)&&((y=e.queue.current_item)!=null&&y.media_item.album)?(s(),u("div",Qe,r(m(Q)((v=e.queue.current_item)==null?void 0:v.media_item.artists))+" â€¢ "+r((b=e.queue.current_item)==null?void 0:b.media_item.album.name),1)):(P=e.queue.current_item)!=null&&P.media_item&&"artists"in((H=e.queue.current_item)==null?void 0:H.media_item)&&((L=e.queue.current_item)==null?void 0:L.media_item.artists.length)>0?(s(),u("div",Xe,r((M=e.queue.current_item)==null?void 0:M.media_item.artists[0].name),1)):(B=(E=e.queue.current_item)==null?void 0:E.streamdetails)!=null&&B.stream_title?(s(),u("div",Ke,r((N=(z=e.queue.current_item)==null?void 0:z.streamdetails)==null?void 0:N.stream_title),1)):(F=(T=e.queue.current_item)==null?void 0:T.media_item)!=null&&F.metadata.description?(s(),u("div",Je,r((O=e.queue.current_item)==null?void 0:O.media_item.metadata.description),1)):e.queue.items==0?(s(),u("div",Ze,r(e.$t("queue_empty")),1)):((W=m(h).selectedPlayer)==null?void 0:W.active_source)!=((Y=m(h).selectedPlayer)==null?void 0:Y.player_id)?(s(),u("div",xe,r(e.$t("external_source_active",[(G=m(h).selectedPlayer)==null?void 0:G.active_source])),1)):q("",!0)])]}),default:n(()=>[w("h6",null,r(e.queue.display_name),1)]),append:n(()=>[d(Ce,{icon:"",variant:"text",onClick:o[0]||(o[0]=j(i=>m(_).queueCommandPlayPause(e.queue.queue_id),["stop"]))},{default:n(()=>[e.queue.state==m(f).PLAYING?(s(),c(I,{key:0,size:m($)({breakpoint:"phone"})?"24":"32"},{default:n(()=>[k("mdi-pause-circle-outline")]),_:1},8,["size"])):(s(),c(I,{key:1,size:m($)({breakpoint:"phone"})?"24":"32"},{default:n(()=>[k("mdi-play-circle-outline")]),_:1},8,["size"]))]),_:1})]),_:1})]),_:1},8,["class"]))}});const tt=C(et,[["__scopeId","data-v-bd08efe7"]]),it={key:0,class:"widget-row"},at={class:"mr-3"},st=g({__name:"HomeCurrentlyPlayingRow",setup(p){const e={[f.PLAYING]:1,[f.PAUSED]:2,[f.IDLE]:2},o=ye(()=>Object.values(_.queues).filter(t=>t.active&&t.items>0&&t.queue_id in _.players&&_.players[t.queue_id].powered&&[f.PLAYING,f.PAUSED].includes(_.players[t.queue_id].state)).sort((t,l)=>t.display_name.localeCompare(l.display_name)).sort((t,l)=>e[t.state]-e[l.state]));function i(t){t&&t.queue_id in _.players&&(h.selectedPlayerId==t.queue_id?h.showFullscreenPlayer=!0:h.selectedPlayerId=t.queue_id)}return(t,l)=>{const a=R("swiper-slide");return o.value.length?(s(),u("div",it,[d(x,{class:"header",color:"transparent",style:{width:"fit-content"}},{prepend:n(()=>[d(I,{icon:"mdi-play-circle-outline"})]),title:n(()=>[w("span",at,r(t.$t("currently_playing")),1)]),_:1}),d(ee,null,{default:n(()=>[(s(!0),u(A,null,S(o.value,y=>(s(),c(a,{key:y.queue_id,style:{"min-width":"300px","max-width":"500px"}},{default:n(()=>[d(tt,{queue:y,onClick:v=>i(y)},null,8,["queue","onClick"])]),_:2},1024))),128))]),_:1})])):q("",!0)}}});const nt=C(st,[["__scopeId","data-v-5e4e2af0"]]),ot=g({__name:"HomeView",setup(p){const e=X(localStorage.getItem("frontend.settings.hide_settings")=="true");return(o,i)=>(s(),u("div",null,[d(Ve,{title:"Music Assistant","menu-items":e.value?[]:[{label:"settings.settings",icon:"mdi-cog-outline",action:()=>{o.$router.push({path:"settings"})}}]},null,8,["menu-items"]),d(te,{variant:"panel"},{default:n(()=>[(s(),c(ve,null,{fallback:n(()=>[d(Pe,{indeterminate:""})]),default:n(()=>[w("div",null,[d(nt),d(Te)])]),_:1}))]),_:1})]))}});const bt=C(ot,[["__scopeId","data-v-bd1d26ba"]]);export{bt as default};
