import{C as te}from"./Container-45dc8812.js";import{d as b,o as ae,n as A,c as s,e as p,w as n,a2 as ie,u as l,am as se,W as R,l as ne,m as oe,A as le,Q as re,O as ue,E as de,ac as j,f as m,M as k,g as u,i as f,t as r,an as me,j as P,X as q,af as K,a1 as ce,F as D,h as L,V as G,r as Q,ao as pe,ap as _e,b as _,s as g,a5 as h,a0 as ye,z as ve,al as we}from"./index-0c8861ae.js";import{M as X,s as fe,c as he,i as ge}from"./ItemContextMenu.vue_vue_type_style_index_0_scoped_369a0b53_lang-eaf2a063.js";import{V as J}from"./VCard-89641e47.js";import{c as be,d as ke,b as qe}from"./VMenu-986db18d.js";import{V as Z,A as Pe,B as $,w as V,s as Ce,z as Ie}from"./VListItem-fd2b5b2a.js";import{_ as C}from"./_plugin-vue_export-helper-c27b6911.js";import{V as Ve,T as $e}from"./Toolbar-7b246600.js";import{V as x}from"./VToolbar-f1ae04de.js";/* empty css              */import"./eventbus-aecaceee.js";import"./VChip-0fae0204.js";import"./VList-b6d79911.js";import"./VCardText-70fe48ee.js";const ee=b({__name:"Carousel",setup(y){return ae(()=>{document.documentElement.style.setProperty("--swiper-navigation-color","primary")}),(t,d)=>{const e=A("swiper");return s(),p(e,{"slides-per-view":l(se)(t.$vuetify.display.width)+.5,"space-between":24,"free-mode":!0,navigation:!l(R)({breakpoint:"mobile"})},{default:n(()=>[ie(t.$slots,"default")]),_:3},8,["slides-per-view","navigation"])}}}),Re=ne({disabled:Boolean,modelValue:{type:Boolean,default:null},...be()},"VHover"),Ae=oe()({name:"VHover",props:Re(),emits:{"update:modelValue":y=>!0},setup(y,t){let{slots:d}=t;const e=le(y,"modelValue"),{runOpenDelay:a,runCloseDelay:o}=ke(y,i=>!y.disabled&&(e.value=i));return()=>{var i;return(i=d.default)==null?void 0:i.call(d,{isHovering:e.value,props:{onMouseenter:a,onMouseleave:o}})}}}),De={key:0},Le={key:1},He={key:2},Me=b({__name:"PanelviewItemCompact",props:{item:{},size:{default:200},permanentOverlay:{type:Boolean,default:!1}},emits:["menu","click"],setup(y,{emit:t}){const d=y,e=t,a=function(i){e("menu",i,d.item)},o=function(i){e("click",i,d.item)};return(i,c)=>{const v=re("hold");return s(),p(Ae,null,{default:n(({isHovering:w,props:I})=>[ue((s(),p(J,de(I,{class:{"on-hover":w},elevation:w?3:0,onClick:o,onContextmenu:j(a,["right","prevent"])}),{default:n(()=>[m(X,{item:i.item},null,8,["item"]),m(qe,{"model-value":w||i.$vuetify.display.mobile||i.permanentOverlay,style:{height:"35%",top:"65%","border-radius":"0"},contained:"",flat:"",scrim:i.$vuetify.theme.current.dark?"rgba(0,0,0,.95)":"rgba(255,255,255,.95)"},{default:n(()=>[m(Z,{variant:"text",slim:"",tile:"",density:"compact",class:"panel-item-details"},{default:n(()=>[m(Pe,null,{default:n(()=>[i.item.media_type==l(k).FOLDER?(s(),u("span",De,[f("span",null,r(l(me)(i.item,i.$t)),1)])):(s(),u("span",Le,r(i.item.name),1)),"version"in i.item&&i.item.version?(s(),u("span",He," - "+r(i.item.version),1)):P("",!0)]),_:1}),"artists"in i.item&&i.item.artists?(s(),p($,{key:0,class:"line-clamp-1"},{default:n(()=>[q(r(l(K)(i.item.artists,1)),1)]),_:1})):"owner"in i.item&&i.item.owner?(s(),p($,{key:1,class:"line-clamp-1"},{default:n(()=>[q(r(i.item.owner),1)]),_:1})):(s(),p($,{key:2,class:"line-clamp-1"},{default:n(()=>[q(r(i.$t(i.item.media_type)),1)]),_:1}))]),_:1})]),_:2},1032,["model-value","scrim"])]),_:2},1040,["class","elevation"])),[[v,a]])]),_:1})}}});const Be=C(Me,[["__scopeId","data-v-3964cf0e"]]),Se={key:0,class:"widget-row"},ze={class:"mr-3"},Oe={key:1,class:"mr-3"},Te=b({__name:"HomeWidgetRow",props:{widgetRow:{}},setup(y){const t=function(e,a){const o=Array.isArray(a)?a:[a];fe(o,void 0,e.clientX,e.clientY)},d=function(e,a){if(!he(a)){t(e,a);return}a.media_type==k.FOLDER?G.push({name:"browse",query:{path:a.path}}):["artist","album","playlist"].includes(a.media_type)?G.push({name:a.media_type,params:{itemId:a.item_id,provider:a.provider}}):t(e,a)};return(e,a)=>{const o=A("swiper-slide");return e.widgetRow.items.length?(s(),u("div",Se,[m(x,{class:"header",color:"transparent",style:ce(e.widgetRow.path?"cursor: pointer; width: fit-content;":"width: fit-content;"),onClick:a[0]||(a[0]=i=>e.widgetRow.path?e.$router.push(e.widgetRow.path):"")},{prepend:n(()=>[m(V,{icon:e.widgetRow.icon},null,8,["icon"])]),title:n(()=>[e.widgetRow.count?(s(),p(Ve,{key:0,inline:"",color:"grey",content:e.widgetRow.count},{default:n(()=>[f("span",ze,r(e.$t(e.widgetRow.label)),1)]),_:1},8,["content"])):(s(),u("span",Oe,r(e.$t(e.widgetRow.label)),1))]),_:1},8,["style"]),m(ee,null,{default:n(()=>[(s(!0),u(D,null,L(e.widgetRow.items,i=>(s(),p(o,{key:i.uri},{default:n(()=>[m(Be,{item:i,"permanent-overlay":![l(k).ALBUM,l(k).TRACK,l(k).RADIO].includes(i.media_type),onMenu:t,onClick:d},null,8,["item","permanent-overlay"])]),_:2},1024))),128))]),_:1})])):P("",!0)}}});const Ee=C(Te,[["__scopeId","data-v-1a72a491"]]),Fe=b({__name:"HomeWidgetRows",async setup(y){let t,d;const e=Q({recently_played:{label:"recently_played",icon:"mdi-motion-play",items:[]},artists:{label:"artists",icon:"mdi-account-music",path:"/artists",items:[]},albums:{label:"albums",icon:"mdi-album",path:"/albums",items:[]},playlists:{label:"playlists",icon:"mdi-playlist-music",path:"/playlists",items:[]},tracks:{label:"tracks",icon:"mdi-file-music",path:"/tracks",items:[]},radios:{label:"radios",icon:"mdi-radio",path:"/radios",items:[]},browse:{label:"browse",icon:"mdi-folder",path:"/browse",items:[]}}),a=async function(){e.value.recently_played.items=await _.getRecentlyPlayedItems(10);const o=await _.getLibraryArtists(void 0,void 0,20,void 0,"random");e.value.artists.items=o.items,e.value.artists.count=o.total;const i=await _.getLibraryAlbums(void 0,void 0,20,void 0,"timestamp_added_desc");e.value.albums.items=i.items,e.value.albums.count=i.total;const c=await _.getLibraryPlaylists(void 0,void 0,20,void 0,"timestamp_added_desc");e.value.playlists.items=c.items,e.value.playlists.count=c.total;const v=await _.getLibraryRadios(void 0,void 0,20,void 0,"timestamp_added_desc");e.value.radios.items=v.items,e.value.radios.count=v.total;const w=await _.getLibraryTracks(void 0,void 0,20,void 0,"timestamp_added_desc");e.value.tracks.items=w.items,e.value.tracks.count=w.total};return[t,d]=pe(()=>a()),await t,d(),_e(()=>{a()}),(o,i)=>(s(!0),u(D,null,L(e.value,c=>(s(),u("div",{key:c.label},[m(Ee,{"widget-row":c},null,8,["widget-row"])]))),128))}}),Ne={class:"media-thumb player-media-thumb"},We={style:{cursor:"pointer"}},Ue={key:0},Ye={key:0},Ge={key:1},je={key:2},Ke={style:{cursor:"pointer"},class:"line-clamp-1"},Qe={key:0},Xe={key:1},Je={key:2,class:"line-clamp-1"},Ze={key:3,class:"line-clamp-1"},xe={key:4,class:"line-clamp-1"},et={key:5,class:"line-clamp-1"},tt=b({__name:"PanelviewPlayerCard",props:{queue:{}},setup(y){return(t,d)=>(s(),p(J,{class:ye(["panel-item",{"panel-item-selected":l(g).activePlayerId==t.queue.queue_id,"panel-item-idle":t.queue.state==l(h).PAUSED}])},{default:n(()=>[m(Z,{class:"panel-item-details",flat:""},{prepend:n(()=>{var e;return[f("div",Ne,[m(X,{size:"60",item:((e=t.queue.current_item)==null?void 0:e.media_item)||t.queue.current_item,fallback:l(ge),style:{cursor:"pointer"}},null,8,["item","fallback"])])]}),title:n(()=>{var e,a,o,i,c,v;return[f("div",We,[(e=t.queue.current_item)!=null&&e.media_item?(s(),u("div",Ue,[q(r((a=t.queue.current_item)==null?void 0:a.media_item.name)+" ",1),"version"in((o=t.queue.current_item)==null?void 0:o.media_item)&&((i=t.queue.current_item)!=null&&i.media_item.version)?(s(),u("span",Ye,"("+r((c=t.queue.current_item)==null?void 0:c.media_item.version)+")",1)):P("",!0)])):t.queue.current_item?(s(),u("div",Ge,r((v=t.queue.current_item)==null?void 0:v.name),1)):(s(),u("div",je,r(t.queue.display_name),1))])]}),subtitle:n(()=>{var e,a,o,i,c,v,w,I,H,M,B,S,z,O,T,E,F,N,W,U,Y;return[f("div",Ke,[(e=t.queue.current_item)!=null&&e.media_item&&((o=(a=t.queue.current_item)==null?void 0:a.media_item)==null?void 0:o.media_type)==l(k).TRACK&&"album"in((i=t.queue.current_item)==null?void 0:i.media_item)&&((c=t.queue.current_item)!=null&&c.media_item.album)?(s(),u("div",Qe,r(l(K)((v=t.queue.current_item)==null?void 0:v.media_item.artists))+" â€¢ "+r((w=t.queue.current_item)==null?void 0:w.media_item.album.name),1)):(I=t.queue.current_item)!=null&&I.media_item&&"artists"in((H=t.queue.current_item)==null?void 0:H.media_item)&&((M=t.queue.current_item)==null?void 0:M.media_item.artists.length)>0?(s(),u("div",Xe,r((B=t.queue.current_item)==null?void 0:B.media_item.artists[0].name),1)):(z=(S=t.queue.current_item)==null?void 0:S.streamdetails)!=null&&z.stream_title?(s(),u("div",Je,r((T=(O=t.queue.current_item)==null?void 0:O.streamdetails)==null?void 0:T.stream_title),1)):(F=(E=t.queue.current_item)==null?void 0:E.media_item)!=null&&F.metadata.description?(s(),u("div",Ze,r((N=t.queue.current_item)==null?void 0:N.media_item.metadata.description),1)):t.queue.items==0?(s(),u("div",xe,r(t.$t("queue_empty")),1)):((W=l(g).activePlayer)==null?void 0:W.active_source)!=((U=l(g).activePlayer)==null?void 0:U.player_id)?(s(),u("div",et,r(t.$t("external_source_active",[(Y=l(g).activePlayer)==null?void 0:Y.active_source])),1)):P("",!0)])]}),default:n(()=>[f("h6",null,r(t.queue.display_name),1)]),append:n(()=>[m(Ce,{icon:"",variant:"text",onClick:d[0]||(d[0]=j(e=>l(_).queueCommandPlayPause(t.queue.queue_id),["stop"]))},{default:n(()=>[t.queue.state==l(h).PLAYING?(s(),p(V,{key:0,size:l(R)({breakpoint:"phone"})?"24":"32"},{default:n(()=>[q("mdi-pause-circle-outline")]),_:1},8,["size"])):(s(),p(V,{key:1,size:l(R)({breakpoint:"phone"})?"24":"32"},{default:n(()=>[q("mdi-play-circle-outline")]),_:1},8,["size"]))]),_:1})]),_:1})]),_:1},8,["class"]))}});const at=C(tt,[["__scopeId","data-v-9931ca8f"]]),it={key:0,class:"widget-row"},st={class:"mr-3"},nt=b({__name:"HomeCurrentlyPlayingRow",setup(y){const t={[h.PLAYING]:1,[h.PAUSED]:2,[h.IDLE]:2},d=ve(()=>Object.values(_.queues).filter(a=>a.active&&a.items>0&&a.queue_id in _.players&&_.players[a.queue_id].powered&&[h.PLAYING,h.PAUSED].includes(_.players[a.queue_id].state)).sort((a,o)=>a.display_name.localeCompare(o.display_name)).sort((a,o)=>t[a.state]-t[o.state]));function e(a){a&&a.queue_id in _.players&&(g.activePlayerId==a.queue_id?g.showFullscreenPlayer=!0:g.activePlayerId=a.queue_id)}return(a,o)=>{const i=A("swiper-slide");return d.value.length?(s(),u("div",it,[m(x,{class:"header",color:"transparent",style:{width:"fit-content"}},{prepend:n(()=>[m(V,{icon:"mdi-play-circle-outline"})]),title:n(()=>[f("span",st,r(a.$t("currently_playing")),1)]),_:1}),m(ee,null,{default:n(()=>[(s(!0),u(D,null,L(d.value,c=>(s(),p(i,{key:c.queue_id,style:{"min-width":"300px","max-width":"500px"}},{default:n(()=>[m(at,{queue:c,onClick:v=>e(c)},null,8,["queue","onClick"])]),_:2},1024))),128))]),_:1})])):P("",!0)}}});const ot=C(nt,[["__scopeId","data-v-aa7254dd"]]),lt=b({__name:"HomeView",setup(y){const t=Q(localStorage.getItem("frontend.settings.hide_settings")=="true");return(d,e)=>(s(),u("div",null,[m($e,{title:"Music Assistant","menu-items":t.value?[]:[{label:"settings.settings",icon:"mdi-cog-outline",action:()=>{d.$router.push({path:"settings"})}}]},null,8,["menu-items"]),l(_).setUpCompleted.value?(s(),p(te,{key:0,variant:"panel"},{default:n(()=>[(s(),p(we,null,{fallback:n(()=>[m(Ie,{indeterminate:""})]),default:n(()=>[f("div",null,[m(ot),m(Fe)])]),_:1}))]),_:1})):P("",!0)]))}});const kt=C(lt,[["__scopeId","data-v-c8c7d6ad"]]);export{kt as default};
