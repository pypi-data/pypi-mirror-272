import{J as be,f as p,l as $,m as N,z as h,aR as J,aZ as le,A as ee,aU as X,L as C,r as H,N as _,O as Se,a_ as Ie,y as ne,S as ke,am as se,aF as ue,u as Me,a$ as we,a as Pe,o as ie,ar as Q,U as re,ay as ae,b0 as Re,v as oe,H as Te,I as xe,F as ce,E as Be,a6 as Ae,au as te,at as de,aM as Z,b1 as Ce,aO as _e,C as j}from"./index-1ade6d75.js";import{w as $e,m as U,N as Fe,$ as De,r as Oe,c as W,M as ze,e as Ee,a as ve,k as Le,u as fe,y as me}from"./VListItem-36c0aa4e.js";import{i as He}from"./VMenu-707b430f.js";function Ne(e){const{t:n}=be();function s(t){let{name:l}=t;const a={prepend:"prependAction",prependInner:"prependAction",append:"appendAction",appendInner:"appendAction",clear:"clear"}[l],u=e[`onClick:${l}`],o=u&&a?n(`$vuetify.input.${a}`,e.label??""):void 0;return p($e,{icon:e[`${l}Icon`],"aria-label":o,onClick:u},null)}return{InputIcon:s}}const Ue=$({active:Boolean,color:String,messages:{type:[Array,String],default:()=>[]},...U(),...Fe({transition:{component:De,leaveAbsolute:!0,group:!0}})},"VMessages"),We=N()({name:"VMessages",props:Ue(),setup(e,n){let{slots:s}=n;const t=h(()=>J(e.messages)),{textColorClasses:l,textColorStyles:a}=Oe(h(()=>e.color));return W(()=>p(ze,{transition:e.transition,tag:"div",class:["v-messages",l.value,e.class],style:[a.value,e.style],role:"alert","aria-live":"polite"},{default:()=>[e.active&&t.value.map((u,o)=>p("div",{class:"v-messages__message",key:`${o}-${t.value}`},[s.message?s.message({message:u}):u]))]})),{}}}),qe=$({focused:Boolean,"onUpdate:focused":X()},"focus");function oa(e){let n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:le();const s=ee(e,"focused"),t=h(()=>({[`${n}--focused`]:s.value}));function l(){s.value=!0}function a(){s.value=!1}return{focusClasses:t,isFocused:s,focus:l,blur:a}}const ge=Symbol.for("vuetify:form"),ca=$({disabled:Boolean,fastFail:Boolean,readonly:Boolean,modelValue:{type:Boolean,default:null},validateOn:{type:String,default:"input"}},"form");function da(e){const n=ee(e,"modelValue"),s=h(()=>e.disabled),t=h(()=>e.readonly),l=C(!1),a=H([]),u=H([]);async function o(){const d=[];let c=!0;u.value=[],l.value=!0;for(const f of a.value){const r=await f.validate();if(r.length>0&&(c=!1,d.push({id:f.id,errorMessages:r})),!c&&e.fastFail)break}return u.value=d,l.value=!1,{valid:c,errors:u.value}}function v(){a.value.forEach(d=>d.reset())}function S(){a.value.forEach(d=>d.resetValidation())}return _(a,()=>{let d=0,c=0;const f=[];for(const r of a.value)r.isValid===!1?(c++,f.push({id:r.id,errorMessages:r.errorMessages})):r.isValid===!0&&d++;u.value=f,n.value=c>0?!1:d===a.value.length?!0:null},{deep:!0,flush:"post"}),Se(ge,{register:d=>{let{id:c,vm:f,validate:r,reset:V,resetValidation:I}=d;a.value.some(g=>g.id===c),a.value.push({id:c,validate:r,reset:V,resetValidation:I,vm:Ie(f),isValid:null,errorMessages:[]})},unregister:d=>{a.value=a.value.filter(c=>c.id!==d)},update:(d,c,f)=>{const r=a.value.find(V=>V.id===d);r&&(r.isValid=c,r.errorMessages=f)},isDisabled:s,isReadonly:t,isValidating:l,isValid:n,items:a,validateOn:ne(e,"validateOn")}),{errors:u,isDisabled:s,isReadonly:t,isValidating:l,isValid:n,items:a,validate:o,reset:v,resetValidation:S}}function Ke(){return ke(ge,null)}const je=$({disabled:{type:Boolean,default:null},error:Boolean,errorMessages:{type:[Array,String],default:()=>[]},maxErrors:{type:[Number,String],default:1},name:String,label:String,readonly:{type:Boolean,default:null},rules:{type:Array,default:()=>[]},modelValue:null,validateOn:String,validationValue:null,...qe()},"validation");function Je(e){let n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:le(),s=arguments.length>2&&arguments[2]!==void 0?arguments[2]:se();const t=ee(e,"modelValue"),l=h(()=>e.validationValue===void 0?t.value:e.validationValue),a=Ke(),u=H([]),o=C(!0),v=h(()=>!!(J(t.value===""?null:t.value).length||J(l.value===""?null:l.value).length)),S=h(()=>!!(e.disabled??(a==null?void 0:a.isDisabled.value))),d=h(()=>!!(e.readonly??(a==null?void 0:a.isReadonly.value))),c=h(()=>{var m;return(m=e.errorMessages)!=null&&m.length?J(e.errorMessages).concat(u.value).slice(0,Math.max(0,+e.maxErrors)):u.value}),f=h(()=>{let m=(e.validateOn??(a==null?void 0:a.validateOn.value))||"input";m==="lazy"&&(m="input lazy");const k=new Set((m==null?void 0:m.split(" "))??[]);return{blur:k.has("blur")||k.has("input"),input:k.has("input"),submit:k.has("submit"),lazy:k.has("lazy")}}),r=h(()=>{var m;return e.error||(m=e.errorMessages)!=null&&m.length?!1:e.rules.length?o.value?u.value.length||f.value.lazy?null:!0:!u.value.length:!0}),V=C(!1),I=h(()=>({[`${n}--error`]:r.value===!1,[`${n}--dirty`]:v.value,[`${n}--disabled`]:S.value,[`${n}--readonly`]:d.value})),g=ue("validation"),b=h(()=>e.name??Me(s));we(()=>{a==null||a.register({id:b.value,vm:g,validate:M,reset:P,resetValidation:D})}),Pe(()=>{a==null||a.unregister(b.value)}),ie(async()=>{f.value.lazy||await M(!0),a==null||a.update(b.value,r.value,c.value)}),Q(()=>f.value.input,()=>{_(l,()=>{if(l.value!=null)M();else if(e.focused){const m=_(()=>e.focused,k=>{k||M(),m()})}})}),Q(()=>f.value.blur,()=>{_(()=>e.focused,m=>{m||M()})}),_([r,c],()=>{a==null||a.update(b.value,r.value,c.value)});async function P(){t.value=null,await re(),await D()}async function D(){o.value=!0,f.value.lazy?u.value=[]:await M(!0)}async function M(){let m=arguments.length>0&&arguments[0]!==void 0?arguments[0]:!1;const k=[];V.value=!0;for(const w of e.rules){if(k.length>=+(e.maxErrors??1))break;const R=await(typeof w=="function"?w:()=>w)(l.value);if(R!==!0){if(R!==!1&&typeof R!="string"){console.warn(`${R} is not a valid value. Rule functions must return boolean true or a string.`);continue}k.push(R||"")}}return u.value=k,V.value=!1,o.value=m,u.value}return{errorMessages:c,isDirty:v,isDisabled:S,isReadonly:d,isPristine:o,isValid:r,isValidating:V,reset:P,resetValidation:D,validate:M,validationClasses:I}}const Xe=$({id:String,appendIcon:ae,centerAffix:{type:Boolean,default:!0},prependIcon:ae,hideDetails:[Boolean,String],hideSpinButtons:Boolean,hint:String,persistentHint:Boolean,messages:{type:[Array,String],default:()=>[]},direction:{type:String,default:"horizontal",validator:e=>["horizontal","vertical"].includes(e)},"onClick:prepend":X(),"onClick:append":X(),...U(),...Ee(),...Re(ve(),["maxWidth","minWidth","width"]),...oe(),...je()},"VInput"),va=N()({name:"VInput",props:{...Xe()},emits:{"update:modelValue":e=>!0},setup(e,n){let{attrs:s,slots:t,emit:l}=n;const{densityClasses:a}=Le(e),{dimensionStyles:u}=fe(e),{themeClasses:o}=Te(e),{rtlClasses:v}=xe(),{InputIcon:S}=Ne(e),d=se(),c=h(()=>e.id||`input-${d}`),f=h(()=>`${c.value}-messages`),{errorMessages:r,isDirty:V,isDisabled:I,isReadonly:g,isPristine:b,isValid:P,isValidating:D,reset:M,resetValidation:m,validate:k,validationClasses:w}=Je(e,"v-input",c),F=h(()=>({id:c,messagesId:f,isDirty:V,isDisabled:I,isReadonly:g,isPristine:b,isValid:P,isValidating:D,reset:M,resetValidation:m,validate:k})),R=h(()=>{var T;return(T=e.errorMessages)!=null&&T.length||!b.value&&r.value.length?r.value:e.hint&&(e.persistentHint||e.focused)?e.hint:e.messages});return W(()=>{var z,B,K,E;const T=!!(t.prepend||e.prependIcon),O=!!(t.append||e.appendIcon),q=R.value.length>0,Y=!e.hideDetails||e.hideDetails==="auto"&&(q||!!t.details);return p("div",{class:["v-input",`v-input--${e.direction}`,{"v-input--center-affix":e.centerAffix,"v-input--hide-spin-buttons":e.hideSpinButtons},a.value,o.value,v.value,w.value,e.class],style:[u.value,e.style]},[T&&p("div",{key:"prepend",class:"v-input__prepend"},[(z=t.prepend)==null?void 0:z.call(t,F.value),e.prependIcon&&p(S,{key:"prepend-icon",name:"prepend"},null)]),t.default&&p("div",{class:"v-input__control"},[(B=t.default)==null?void 0:B.call(t,F.value)]),O&&p("div",{key:"append",class:"v-input__append"},[e.appendIcon&&p(S,{key:"append-icon",name:"append"},null),(K=t.append)==null?void 0:K.call(t,F.value)]),Y&&p("div",{class:"v-input__details"},[p(We,{id:f.value,active:q,messages:R.value},{message:t.message}),(E=t.details)==null?void 0:E.call(t,F.value)])])}),{reset:M,resetValidation:m,validate:k,isValid:P,errorMessages:r}}});const Ye=$({text:String,onClick:X(),...U(),...oe()},"VLabel"),fa=N()({name:"VLabel",props:Ye(),setup(e,n){let{slots:s}=n;return W(()=>{var t;return p("label",{class:["v-label",{"v-label--clickable":!!e.onClick},e.class],style:e.style,onClick:e.onClick},[e.text,(t=s.default)==null?void 0:t.call(s)])}),{}}});const Ze=$({renderless:Boolean,...U()},"VVirtualScrollItem"),Ge=N()({name:"VVirtualScrollItem",inheritAttrs:!1,props:Ze(),emits:{"update:height":e=>!0},setup(e,n){let{attrs:s,emit:t,slots:l}=n;const{resizeRef:a,contentRect:u}=me(void 0,"border");_(()=>{var o;return(o=u.value)==null?void 0:o.height},o=>{o!=null&&t("update:height",o)}),W(()=>{var o,v;return e.renderless?p(ce,null,[(o=l.default)==null?void 0:o.call(l,{itemRef:a})]):p("div",Be({ref:a,class:["v-virtual-scroll__item",e.class],style:e.style},s),[(v=l.default)==null?void 0:v.call(l)])})}}),Qe=-1,ea=1,G=100,aa=$({itemHeight:{type:[Number,String],default:null},height:[Number,String]},"virtual");function ta(e,n){const s=Ae(),t=C(0);te(()=>{t.value=parseFloat(e.itemHeight||0)});const l=C(0),a=C(Math.ceil((parseInt(e.height)||s.height.value)/(t.value||16))||1),u=C(0),o=C(0),v=H(),S=H();let d=0;const{resizeRef:c,contentRect:f}=me();te(()=>{c.value=v.value});const r=h(()=>{var i;return v.value===document.documentElement?s.height.value:((i=f.value)==null?void 0:i.height)||parseInt(e.height)||0}),V=h(()=>!!(v.value&&S.value&&r.value&&t.value));let I=Array.from({length:n.value.length}),g=Array.from({length:n.value.length});const b=C(0);let P=-1;function D(i){return I[i]||t.value}const M=Ce(()=>{const i=performance.now();g[0]=0;const y=n.value.length;for(let x=1;x<=y-1;x++)g[x]=(g[x-1]||0)+D(x-1);b.value=Math.max(b.value,performance.now()-i)},b),m=_(V,i=>{i&&(m(),d=S.value.offsetTop,M.immediate(),B(),~P&&re(()=>{_e&&window.requestAnimationFrame(()=>{E(P),P=-1})}))});de(()=>{M.clear()});function k(i,y){const x=I[i],A=t.value;t.value=A?Math.min(t.value,y):y,(x!==y||A!==t.value)&&(I[i]=y,M())}function w(i){return i=Z(i,0,n.value.length-1),g[i]||0}function F(i){return la(g,i)}let R=0,T=0,O=0;_(r,(i,y)=>{y&&(B(),i<y&&requestAnimationFrame(()=>{T=0,B()}))});function q(){if(!v.value||!S.value)return;const i=v.value.scrollTop,y=performance.now();y-O>500?(T=Math.sign(i-R),d=S.value.offsetTop):T=i-R,R=i,O=y,B()}function Y(){!v.value||!S.value||(T=0,O=0,B())}let z=-1;function B(){cancelAnimationFrame(z),z=requestAnimationFrame(K)}function K(){if(!v.value||!r.value)return;const i=R-d,y=Math.sign(T),x=Math.max(0,i-G),A=Z(F(x),0,n.value.length),ye=i+r.value+G,L=Z(F(ye)+1,A+1,n.value.length);if((y!==Qe||A<l.value)&&(y!==ea||L>a.value)){const pe=w(l.value)-w(A),Ve=w(L)-w(a.value);Math.max(pe,Ve)>G?(l.value=A,a.value=L):(A<=0&&(l.value=A),L>=n.value.length&&(a.value=L))}u.value=w(l.value),o.value=w(n.value.length)-w(a.value)}function E(i){const y=w(i);!v.value||i&&!y?P=i:v.value.scrollTop=y}const he=h(()=>n.value.slice(l.value,a.value).map((i,y)=>({raw:i,index:y+l.value})));return _(n,()=>{I=Array.from({length:n.value.length}),g=Array.from({length:n.value.length}),M.immediate(),B()},{deep:!0}),{containerRef:v,markerRef:S,computedItems:he,paddingTop:u,paddingBottom:o,scrollToIndex:E,handleScroll:q,handleScrollend:Y,handleItemResize:k}}function la(e,n){let s=e.length-1,t=0,l=0,a=null,u=-1;if(e[s]<n)return s;for(;t<=s;)if(l=t+s>>1,a=e[l],a>n)s=l-1;else if(a<n)u=l,t=l+1;else return a===n?l:t;return u}const na=$({items:{type:Array,default:()=>[]},renderless:Boolean,...aa(),...U(),...ve()},"VVirtualScroll"),ma=N()({name:"VVirtualScroll",props:na(),setup(e,n){let{slots:s}=n;const t=ue("VVirtualScroll"),{dimensionStyles:l}=fe(e),{containerRef:a,markerRef:u,handleScroll:o,handleScrollend:v,handleItemResize:S,scrollToIndex:d,paddingTop:c,paddingBottom:f,computedItems:r}=ta(e,ne(e,"items"));return Q(()=>e.renderless,()=>{function V(){var b,P;const g=(arguments.length>0&&arguments[0]!==void 0?arguments[0]:!1)?"addEventListener":"removeEventListener";a.value===document.documentElement?(document[g]("scroll",o,{passive:!0}),document[g]("scrollend",v)):((b=a.value)==null||b[g]("scroll",o,{passive:!0}),(P=a.value)==null||P[g]("scrollend",v))}ie(()=>{a.value=He(t.vnode.el,!0),V(!0)}),de(V)}),W(()=>{const V=r.value.map(I=>p(Ge,{key:I.index,renderless:e.renderless,"onUpdate:height":g=>S(I.index,g)},{default:g=>{var b;return(b=s.default)==null?void 0:b.call(s,{item:I.raw,index:I.index,...g})}}));return e.renderless?p(ce,null,[p("div",{ref:u,class:"v-virtual-scroll__spacer",style:{paddingTop:j(c.value)}},null),V,p("div",{class:"v-virtual-scroll__spacer",style:{paddingBottom:j(f.value)}},null)]):p("div",{ref:a,class:["v-virtual-scroll",e.class],onScrollPassive:o,onScrollend:v,style:[l.value,e.style]},[p("div",{ref:u,class:"v-virtual-scroll__container",style:{paddingTop:j(c.value),paddingBottom:j(f.value)}},[V])])}),{scrollToIndex:d}}});export{ma as V,va as a,fa as b,qe as c,Ke as d,ca as e,da as f,Ne as g,Xe as m,oa as u};
