import{C as te}from"./Container-3f082c46.js";import{d as b,o as ae,n as A,c as s,e as p,w as n,a0 as ie,u as m,W as R,l as se,m as ne,A as oe,Q as le,O as re,E as ue,a7 as j,f as u,M as k,g as r,i as f,t as l,j as P,X as q,_ as de,F as D,h as L,V as G,r as K,ae as me,af as ce,b as y,s as g,a2 as h,Z as pe,z as _e,ad as ye}from"./index-0272dc54.js";import{p as ve,M as Q,k as we,c as X,s as fe,m as he,i as ge}from"./utils-a32c3776.js";import{V as Z}from"./VCard-88cdf1d8.js";import{c as be,d as ke,b as qe}from"./VMenu-30df3a7b.js";import{V as J,A as Pe,B as $,w as V,s as Ce,z as Ie}from"./VListItem-a3b7f8b7.js";import{_ as C}from"./_plugin-vue_export-helper-c27b6911.js";import{V as Ve,T as $e}from"./Toolbar-b074e682.js";import{V as x}from"./VToolbar-3145d715.js";/* empty css              */import"./eventbus-e44cf169.js";import"./VChip-e0012620.js";import"./VList-21f55857.js";import"./VCardText-41d932c2.js";const ee=b({__name:"Carousel",setup(_){return ae(()=>{document.documentElement.style.setProperty("--swiper-navigation-color","primary")}),(t,d)=>{const e=A("swiper");return s(),p(e,{"slides-per-view":m(ve)(t.$vuetify.display.width)+.5,"space-between":24,"free-mode":!0,navigation:!m(R)({breakpoint:"mobile"})},{default:n(()=>[ie(t.$slots,"default")]),_:3},8,["slides-per-view","navigation"])}}}),Re=se({disabled:Boolean,modelValue:{type:Boolean,default:null},...be()},"VHover"),Ae=ne()({name:"VHover",props:Re(),emits:{"update:modelValue":_=>!0},setup(_,t){let{slots:d}=t;const e=oe(_,"modelValue"),{runOpenDelay:a,runCloseDelay:o}=ke(_,i=>!_.disabled&&(e.value=i));return()=>{var i;return(i=d.default)==null?void 0:i.call(d,{isHovering:e.value,props:{onMouseenter:a,onMouseleave:o}})}}}),De={key:0},Le={key:1},He={key:2},Me=b({__name:"PanelviewItemCompact",props:{item:{},size:{default:200},permanentOverlay:{type:Boolean,default:!1}},emits:["menu","click"],setup(_,{emit:t}){const d=_,e=t,a=function(i){e("menu",i,d.item)},o=function(i){e("click",i,d.item)};return(i,c)=>{const v=le("hold");return s(),p(Ae,null,{default:n(({isHovering:w,props:I})=>[re((s(),p(Z,ue(I,{class:{"on-hover":w},elevation:w?3:0,onClick:o,onContextmenu:j(a,["right","prevent"])}),{default:n(()=>[u(Q,{item:i.item},null,8,["item"]),u(qe,{"model-value":w||i.$vuetify.display.mobile||i.permanentOverlay,style:{height:"35%",top:"65%","border-radius":"0"},contained:"",flat:"",scrim:i.$vuetify.theme.current.dark?"rgba(0,0,0,.95)":"rgba(255,255,255,.95)"},{default:n(()=>[u(J,{variant:"text",slim:"",tile:"",density:"compact",class:"panel-item-details"},{default:n(()=>[u(Pe,null,{default:n(()=>[i.item.media_type==m(k).FOLDER?(s(),r("span",De,[f("span",null,l(m(we)(i.item,i.$t)),1)])):(s(),r("span",Le,l(i.item.name),1)),"version"in i.item&&i.item.version?(s(),r("span",He," - "+l(i.item.version),1)):P("",!0)]),_:1}),"artists"in i.item&&i.item.artists?(s(),p($,{key:0,class:"line-clamp-1"},{default:n(()=>[q(l(m(X)(i.item.artists,1)),1)]),_:1})):"owner"in i.item&&i.item.owner?(s(),p($,{key:1,class:"line-clamp-1"},{default:n(()=>[q(l(i.item.owner),1)]),_:1})):(s(),p($,{key:2,class:"line-clamp-1"},{default:n(()=>[q(l(i.$t(i.item.media_type)),1)]),_:1}))]),_:1})]),_:2},1032,["model-value","scrim"])]),_:2},1040,["class","elevation"])),[[v,a]])]),_:1})}}});const Be=C(Me,[["__scopeId","data-v-3964cf0e"]]),Se={key:0,class:"widget-row"},ze={class:"mr-3"},Oe={key:1,class:"mr-3"},Te=b({__name:"HomeWidgetRow",props:{widgetRow:{}},setup(_){const t=function(e,a){const o=Array.isArray(a)?a:[a];fe(o,void 0,e.clientX,e.clientY)},d=function(e,a){if(!he(a)){t(e,a);return}a.media_type==k.FOLDER?G.push({name:"browse",query:{path:a.path}}):["artist","album","playlist"].includes(a.media_type)?G.push({name:a.media_type,params:{itemId:a.item_id,provider:a.provider}}):t(e,a)};return(e,a)=>{const o=A("swiper-slide");return e.widgetRow.items.length?(s(),r("div",Se,[u(x,{class:"header",color:"transparent",style:de(e.widgetRow.path?"cursor: pointer; width: fit-content;":"width: fit-content;"),onClick:a[0]||(a[0]=i=>e.widgetRow.path?e.$router.push(e.widgetRow.path):"")},{prepend:n(()=>[u(V,{icon:e.widgetRow.icon},null,8,["icon"])]),title:n(()=>[e.widgetRow.count?(s(),p(Ve,{key:0,inline:"",color:"grey",content:e.widgetRow.count},{default:n(()=>[f("span",ze,l(e.$t(e.widgetRow.label)),1)]),_:1},8,["content"])):(s(),r("span",Oe,l(e.$t(e.widgetRow.label)),1))]),_:1},8,["style"]),u(ee,null,{default:n(()=>[(s(!0),r(D,null,L(e.widgetRow.items,i=>(s(),p(o,{key:i.uri},{default:n(()=>[u(Be,{item:i,"permanent-overlay":![m(k).ALBUM,m(k).TRACK,m(k).RADIO].includes(i.media_type),onMenu:t,onClick:d},null,8,["item","permanent-overlay"])]),_:2},1024))),128))]),_:1})])):P("",!0)}}});const Ee=C(Te,[["__scopeId","data-v-1a72a491"]]),Fe=b({__name:"HomeWidgetRows",async setup(_){let t,d;const e=K({recently_played:{label:"recently_played",icon:"mdi-motion-play",items:[]},artists:{label:"artists",icon:"mdi-account-music",path:"/artists",items:[]},albums:{label:"albums",icon:"mdi-album",path:"/albums",items:[]},playlists:{label:"playlists",icon:"mdi-playlist-music",path:"/playlists",items:[]},tracks:{label:"tracks",icon:"mdi-file-music",path:"/tracks",items:[]},radios:{label:"radios",icon:"mdi-radio",path:"/radios",items:[]},browse:{label:"browse",icon:"mdi-folder",path:"/browse",items:[]}}),a=async function(){e.value.recently_played.items=await y.getRecentlyPlayedItems(10);const o=await y.getLibraryArtists(void 0,void 0,20,void 0,"random");e.value.artists.items=o.items,e.value.artists.count=o.total;const i=await y.getLibraryAlbums(void 0,void 0,20,void 0,"timestamp_added_desc");e.value.albums.items=i.items,e.value.albums.count=i.total;const c=await y.getLibraryPlaylists(void 0,void 0,20,void 0,"timestamp_added_desc");e.value.playlists.items=c.items,e.value.playlists.count=c.total;const v=await y.getLibraryRadios(void 0,void 0,20,void 0,"timestamp_added_desc");e.value.radios.items=v.items,e.value.radios.count=v.total;const w=await y.getLibraryTracks(void 0,void 0,20,void 0,"timestamp_added_desc");e.value.tracks.items=w.items,e.value.tracks.count=w.total};return[t,d]=me(()=>a()),await t,d(),ce(()=>{a()}),(o,i)=>(s(!0),r(D,null,L(e.value,c=>(s(),r("div",{key:c.label},[u(Ee,{"widget-row":c},null,8,["widget-row"])]))),128))}}),Ne={class:"media-thumb player-media-thumb"},We={style:{cursor:"pointer"}},Ue={key:0},Ye={key:0},Ge={key:1},je={key:2},Ke={style:{cursor:"pointer"},class:"line-clamp-1"},Qe={key:0},Xe={key:1},Ze={key:2,class:"line-clamp-1"},Je={key:3,class:"line-clamp-1"},xe={key:4,class:"line-clamp-1"},et={key:5,class:"line-clamp-1"},tt=b({__name:"PanelviewPlayerCard",props:{queue:{}},setup(_){return(t,d)=>(s(),p(Z,{class:pe(["panel-item",{"panel-item-selected":m(g).selectedPlayerId==t.queue.queue_id,"panel-item-idle":t.queue.state==m(h).PAUSED}])},{default:n(()=>[u(J,{class:"panel-item-details",flat:""},{prepend:n(()=>{var e;return[f("div",Ne,[u(Q,{size:"60",item:((e=t.queue.current_item)==null?void 0:e.media_item)||t.queue.current_item,fallback:m(ge),style:{cursor:"pointer"}},null,8,["item","fallback"])])]}),title:n(()=>{var e,a,o,i,c,v;return[f("div",We,[(e=t.queue.current_item)!=null&&e.media_item?(s(),r("div",Ue,[q(l((a=t.queue.current_item)==null?void 0:a.media_item.name)+" ",1),"version"in((o=t.queue.current_item)==null?void 0:o.media_item)&&((i=t.queue.current_item)!=null&&i.media_item.version)?(s(),r("span",Ye,"("+l((c=t.queue.current_item)==null?void 0:c.media_item.version)+")",1)):P("",!0)])):t.queue.current_item?(s(),r("div",Ge,l((v=t.queue.current_item)==null?void 0:v.name),1)):(s(),r("div",je,l(t.queue.display_name),1))])]}),subtitle:n(()=>{var e,a,o,i,c,v,w,I,H,M,B,S,z,O,T,E,F,N,W,U,Y;return[f("div",Ke,[(e=t.queue.current_item)!=null&&e.media_item&&((o=(a=t.queue.current_item)==null?void 0:a.media_item)==null?void 0:o.media_type)==m(k).TRACK&&"album"in((i=t.queue.current_item)==null?void 0:i.media_item)&&((c=t.queue.current_item)!=null&&c.media_item.album)?(s(),r("div",Qe,l(m(X)((v=t.queue.current_item)==null?void 0:v.media_item.artists))+" â€¢ "+l((w=t.queue.current_item)==null?void 0:w.media_item.album.name),1)):(I=t.queue.current_item)!=null&&I.media_item&&"artists"in((H=t.queue.current_item)==null?void 0:H.media_item)&&((M=t.queue.current_item)==null?void 0:M.media_item.artists.length)>0?(s(),r("div",Xe,l((B=t.queue.current_item)==null?void 0:B.media_item.artists[0].name),1)):(z=(S=t.queue.current_item)==null?void 0:S.streamdetails)!=null&&z.stream_title?(s(),r("div",Ze,l((T=(O=t.queue.current_item)==null?void 0:O.streamdetails)==null?void 0:T.stream_title),1)):(F=(E=t.queue.current_item)==null?void 0:E.media_item)!=null&&F.metadata.description?(s(),r("div",Je,l((N=t.queue.current_item)==null?void 0:N.media_item.metadata.description),1)):t.queue.items==0?(s(),r("div",xe,l(t.$t("queue_empty")),1)):((W=m(g).selectedPlayer)==null?void 0:W.active_source)!=((U=m(g).selectedPlayer)==null?void 0:U.player_id)?(s(),r("div",et,l(t.$t("external_source_active",[(Y=m(g).selectedPlayer)==null?void 0:Y.active_source])),1)):P("",!0)])]}),default:n(()=>[f("h6",null,l(t.queue.display_name),1)]),append:n(()=>[u(Ce,{icon:"",variant:"text",onClick:d[0]||(d[0]=j(e=>m(y).queueCommandPlayPause(t.queue.queue_id),["stop"]))},{default:n(()=>[t.queue.state==m(h).PLAYING?(s(),p(V,{key:0,size:m(R)({breakpoint:"phone"})?"24":"32"},{default:n(()=>[q("mdi-pause-circle-outline")]),_:1},8,["size"])):(s(),p(V,{key:1,size:m(R)({breakpoint:"phone"})?"24":"32"},{default:n(()=>[q("mdi-play-circle-outline")]),_:1},8,["size"]))]),_:1})]),_:1})]),_:1},8,["class"]))}});const at=C(tt,[["__scopeId","data-v-bd08efe7"]]),it={key:0,class:"widget-row"},st={class:"mr-3"},nt=b({__name:"HomeCurrentlyPlayingRow",setup(_){const t={[h.PLAYING]:1,[h.PAUSED]:2,[h.IDLE]:2},d=_e(()=>Object.values(y.queues).filter(a=>a.active&&a.items>0&&a.queue_id in y.players&&y.players[a.queue_id].powered&&[h.PLAYING,h.PAUSED].includes(y.players[a.queue_id].state)).sort((a,o)=>a.display_name.localeCompare(o.display_name)).sort((a,o)=>t[a.state]-t[o.state]));function e(a){a&&a.queue_id in y.players&&(g.selectedPlayerId==a.queue_id?g.showFullscreenPlayer=!0:g.selectedPlayerId=a.queue_id)}return(a,o)=>{const i=A("swiper-slide");return d.value.length?(s(),r("div",it,[u(x,{class:"header",color:"transparent",style:{width:"fit-content"}},{prepend:n(()=>[u(V,{icon:"mdi-play-circle-outline"})]),title:n(()=>[f("span",st,l(a.$t("currently_playing")),1)]),_:1}),u(ee,null,{default:n(()=>[(s(!0),r(D,null,L(d.value,c=>(s(),p(i,{key:c.queue_id,style:{"min-width":"300px","max-width":"500px"}},{default:n(()=>[u(at,{queue:c,onClick:v=>e(c)},null,8,["queue","onClick"])]),_:2},1024))),128))]),_:1})])):P("",!0)}}});const ot=C(nt,[["__scopeId","data-v-5e4e2af0"]]),lt=b({__name:"HomeView",setup(_){const t=K(localStorage.getItem("frontend.settings.hide_settings")=="true");return(d,e)=>(s(),r("div",null,[u($e,{title:"Music Assistant","menu-items":t.value?[]:[{label:"settings.settings",icon:"mdi-cog-outline",action:()=>{d.$router.push({path:"settings"})}}]},null,8,["menu-items"]),u(te,{variant:"panel"},{default:n(()=>[(s(),p(ye,null,{fallback:n(()=>[u(Ie,{indeterminate:""})]),default:n(()=>[f("div",null,[u(ot),u(Fe)])]),_:1}))]),_:1})]))}});const kt=C(lt,[["__scopeId","data-v-c96a83cb"]]);export{kt as default};
