import{_ as Ft,g as Dt,V as Ut}from"./DrawerNavigation.vue_vue_type_style_index_0_scoped_cdf8fb82_lang-c66aa12a.js";import{_ as K}from"./_plugin-vue_export-helper-c27b6911.js";import{M as Ce,_ as Nt,f as ke,l as Yt,g as ye,t as Re,a as at,b as Ot,d as Xt,i as ot,c as Gt,e as jt,h as Kt,j as je}from"./utils-2d720fc5.js";import{e as Ve,_ as ze}from"./eventbus-c99d57ba.js";import{d as z,r as T,o as Te,a as He,b as w,M as se,P as Ke,c as d,e as P,w as p,f as r,u as e,g as k,h as X,F as U,$ as Pe,i as $,t as V,j as Q,s as t,p as Jt,k as Zt,l as J,m as Z,n as el,K as tl,q as ll,v as Be,x as it,y as D,z as I,A as Fe,B as st,C as pe,D as nt,E as A,G as ut,H as De,I as rt,J as al,L as $e,N as te,O as ol,Q as Qe,R as dt,S as ct,T as il,U as sl,V as nl,W as we,X as B,Y as W,Z as We,_ as de,a0 as q,a1 as qe,a2 as O,a3 as ul,a4 as ve,a5 as rl,a6 as dl,a7 as cl,a8 as Me,a9 as Ie,aa as Je,ab as ml,ac as mt,ad as vl,ae as yl}from"./index-1ade6d75.js";import{T as pl,V as xe}from"./Toolbar-5b1de6c4.js";import{V as fe,a as _e,u as Ue}from"./VList-1f0ef080.js";import{V as Ne,a as re}from"./VCard-880c9ffc.js";import{V as vt}from"./VDialog-8cb81023.js";import{V as oe,m as me,a as fl,b as he,u as _l,c as ee,d as yt,e as pt,f as ft,g as _t,h as hl,i as ht,j as Ye,k as gt,l as bt,n as Pt,o as kt,p as gl,q as bl,r as Pl,s as Se,t as kl,v as wl,M as Cl,w as H,x as Vl,y as $l,z as Ql}from"./VListItem-36c0aa4e.js";import{V as Il,a as xl}from"./VInfiniteScroll-b9f6a02b.js";import{u as Sl,m as wt,a as Ct,b as Tl,c as Bl}from"./layout-23dadcc1.js";import{f as zl,a as Ml,s as Wl,m as ql,u as Al,V as Oe,b as El}from"./VMenu-707b430f.js";import{m as Ll,V as Ze,a as Rl}from"./VChip-2299aeec.js";import{V as Vt,a as Hl,b as Fl,c as Dl,d as Ul}from"./VExpansionPanels-9a2f5ff6.js";import{B as le}from"./Button-bfd0a979.js";import{L as $t}from"./ListItem-d34b27e3.js";import{V as Nl}from"./VToolbar-122ad565.js";import{V as Qt}from"./VCardText-496e7429.js";import{V as Yl}from"./VVirtualScroll-9d344e9f.js";const Ol=K(Ft,[["__scopeId","data-v-cdf8fb82"]]),Xe=l=>(Jt("data-v-d3dbeb83"),l=l(),Zt(),l),Xl=Xe(()=>$("br",null,null,-1)),Gl={class:"media-thumb"},jl=Xe(()=>$("div",{style:{height:"30px"}},null,-1)),Kl=Xe(()=>$("div",{style:{height:"30px"}},null,-1)),Jl={style:{"margin-left":"-10px","padding-right":"5px"}},Zl=z({__name:"AddToPlaylistDialog",setup(l){const a=T(!1),s=T([]),o=T([]),u=T(),i=T([]);Te(()=>{Ve.on("playlistdialog",async _=>{a.value=!0,i.value=_.items,u.value=_.parentItem,await n()}),He(()=>{Ve.off("playlistdialog")})});const n=async function(){s.value=[],o.value=[];const _=await w.getLibraryPlaylists(),v=i.value.length?i.value[0]:void 0;for(const y of _.items){if(!y.provider_mappings.filter(g=>g.available).length||!y.is_editable||u.value&&u.value.media_type===se.PLAYLIST&&y.item_id===u.value.item_id)continue;const b=w.providers[y.provider_mappings[0].provider_instance];(b.domain=="builtin"||b.is_streaming_provider||v!=null&&v.provider_mappings.filter(g=>g.provider_instance==b.instance_id).length)&&s.value.push(y)}for(const y of Object.values(w.providers))y.supported_features.includes(Ke.PLAYLIST_CREATE)&&y.supported_features.includes(Ke.PLAYLIST_TRACKS_EDIT)&&(y.domain=="builtin"||y.is_streaming_provider||v!=null&&v.provider_mappings.filter(b=>b.provider_instance==y.instance_id).length)&&o.value.push(y.instance_id)},c=function(_){if(i.value[0].media_type===se.TRACK)w.addPlaylistTracks(_.item_id,i.value.map(y=>y.uri));else if(i.value[0].media_type===se.ALBUM){var v=[];w.getAlbumTracks(i.value[0].item_id,i.value[0].provider).then(y=>{v=y,w.addPlaylistTracks(_.item_id,v.map(b=>b.uri))})}m()},f=async function(_){const v=prompt(Pe("new_playlist_name"));if(!v)return;const y=await w.createPlaylist(v,_);c(y)},m=function(){a.value=!1};return(_,v)=>(d(),P(vt,{modelValue:a.value,"onUpdate:modelValue":[v[0]||(v[0]=y=>a.value=y),v[1]||(v[1]=y=>{e(t).dialogActive=y})],fullscreen:"",transition:"dialog-bottom-transition"},{default:p(()=>[r(Ne,null,{default:p(()=>[r(pl,{icon:"mdi-playlist-plus",title:e(Pe)("add_playlist"),"menu-items":[{label:"close",icon:"mdi-close",action:m}]},null,8,["title","menu-items"]),r(fe),Xl,r(_e,null,{default:p(()=>[(d(!0),k(U,null,X(s.value,y=>(d(),k("div",{key:y.item_id},[r(oe,{onClick:b=>c(y)},{prepend:p(()=>[$("div",Gl,[r(Ce,{item:y,size:50},null,8,["item"])])]),title:p(()=>[$("div",null,V(y.name),1)]),subtitle:p(()=>[$("div",null,V(y.owner),1)]),append:p(()=>[y.provider_mappings?(d(),P(ze,{key:0,domain:y.provider_mappings[0].provider_domain,size:20},null,8,["domain"])):Q("",!0)]),_:2},1032,["onClick"])]))),128)),jl,r(fe),Kl,(d(!0),k(U,null,X(o.value,y=>(d(),k("div",{key:y},[r(oe,{onClick:b=>f(y)},{prepend:p(()=>[$("div",Jl,[r(ze,{domain:e(w).providers[y].domain,size:50},null,8,["domain"])])]),title:p(()=>[$("div",null,V(e(Pe)("new_playlist")),1)]),subtitle:p(()=>[$("div",null,V(e(Pe)("create_playlist_on",[e(w).providers[y].name])),1)]),append:p(()=>[r(ze,{domain:e(w).providers[y].domain,size:20},null,8,["domain"])]),_:2},1032,["onClick"])]))),128))]),_:1})]),_:1})]),_:1},8,["modelValue"]))}});const ea=K(Zl,[["__scopeId","data-v-d3dbeb83"]]),ta=K(Nt,[["__scopeId","data-v-369a0b53"]]);const la=J({scrollable:Boolean,...me(),...fl(),...he({tag:"main"})},"VMain"),aa=Z()({name:"VMain",props:la(),setup(l,a){let{slots:s}=a;const{dimensionStyles:o}=_l(l),{mainStyles:u,layoutIsReady:i}=Sl(),{ssrBootStyles:n}=Ue();return ee(()=>r(l.tag,{class:["v-main",{"v-main--scrollable":l.scrollable},l.class],style:[u.value,n.value,o.value,l.style]},{default:()=>{var c,f;return[l.scrollable?r("div",{class:"v-main__scroller"},[(c=s.default)==null?void 0:c.call(s)]):(f=s.default)==null?void 0:f.call(s)]}})),i}}),oa=z({__name:"View",setup(l){return(a,s)=>{const o=el("router-view");return d(),P(aa,{id:"cont",class:"overflow-y-auto",style:{height:"0px"}},{default:p(()=>{var u,i,n;return[e(t).navigationMenuStyle=="vertical"?(d(),P(Ol,{key:0})):Q("",!0),r(o,null,{default:p(({Component:c})=>[(d(),P(tl,{max:5,include:["HomeView","Search"]},[(d(),P(ll(c)))],1024))]),_:1}),r(ea),r(ta),r(Il,{"model-value":e(t).activeAlert!==void 0,color:((u=e(t).activeAlert)==null?void 0:u.type)||"grey",text:(i=e(t).activeAlert)==null?void 0:i.message,"close-on-content-click":"",position:"sticky",timeout:(n=e(t).activeAlert)!=null&&n.persistent?-1:5e3,"onUpdate:modelValue":s[0]||(s[0]=()=>e(t).activeAlert=void 0)},null,8,["model-value","color","text","timeout"])]}),_:1})}}});const ia=J({baseColor:String,bgColor:String,color:String,grow:Boolean,mode:{type:String,validator:l=>!l||["horizontal","shift"].includes(l)},height:{type:[Number,String],default:56},active:{type:Boolean,default:!0},...yt(),...me(),...pt(),...ft(),..._t(),...wt({name:"bottom-navigation"}),...he({tag:"header"}),...hl({selectedClass:"v-btn--selected"}),...Be()},"VBottomNavigation"),sa=Z()({name:"VBottomNavigation",props:ia(),emits:{"update:active":l=>!0,"update:modelValue":l=>!0},setup(l,a){let{slots:s}=a;const{themeClasses:o}=it(),{borderClasses:u}=ht(l),{backgroundColorClasses:i,backgroundColorStyles:n}=Ye(D(l,"bgColor")),{densityClasses:c}=gt(l),{elevationClasses:f}=bt(l),{roundedClasses:m}=Pt(l),{ssrBootStyles:_}=Ue(),v=I(()=>Number(l.height)-(l.density==="comfortable"?8:0)-(l.density==="compact"?16:0)),y=Fe(l,"active",l.active),{layoutItemStyles:b,layoutIsReady:g}=Ct({id:l.name,order:I(()=>parseInt(l.order,10)),position:I(()=>"bottom"),layoutSize:I(()=>y.value?v.value:0),elementSize:v,active:y,absolute:D(l,"absolute")});return kt(l,gl),st({VBtn:{baseColor:D(l,"baseColor"),color:D(l,"color"),density:D(l,"density"),stacked:I(()=>l.mode!=="horizontal"),variant:"text"}},{scoped:!0}),ee(()=>r(l.tag,{class:["v-bottom-navigation",{"v-bottom-navigation--active":y.value,"v-bottom-navigation--grow":l.grow,"v-bottom-navigation--shift":l.mode==="shift"},o.value,i.value,u.value,c.value,f.value,m.value,l.class],style:[n.value,b.value,{height:pe(v.value)},_.value,l.style]},{default:()=>[s.default&&r("div",{class:"v-bottom-navigation__content"},[s.default()])]})),g}});const Ge=Symbol.for("vuetify:v-tabs"),na=J({fixed:Boolean,sliderColor:String,hideSlider:Boolean,direction:{type:String,default:"horizontal"},...nt(bl({selectedClass:"v-tab--selected",variant:"text"}),["active","block","flat","location","position","symbol"])},"VTab"),ce=Z()({name:"VTab",props:na(),setup(l,a){let{slots:s,attrs:o}=a;const{textColorClasses:u,textColorStyles:i}=Pl(l,"sliderColor"),n=T(),c=T(),f=I(()=>l.direction==="horizontal"),m=I(()=>{var v,y;return((y=(v=n.value)==null?void 0:v.group)==null?void 0:y.isSelected.value)??!1});function _(v){var b,g;let{value:y}=v;if(y){const F=(g=(b=n.value)==null?void 0:b.$el.parentElement)==null?void 0:g.querySelector(".v-tab--selected .v-tab__slider"),L=c.value;if(!F||!L)return;const E=getComputedStyle(F).color,N=F.getBoundingClientRect(),C=L.getBoundingClientRect(),h=f.value?"x":"y",x=f.value?"X":"Y",M=f.value?"right":"bottom",R=f.value?"width":"height",G=N[h],j=C[h],Y=G>j?N[M]-C[M]:N[h]-C[h],ie=Math.sign(Y)>0?f.value?"right":"bottom":Math.sign(Y)<0?f.value?"left":"top":"center",ge=(Math.abs(Y)+(Math.sign(Y)<0?N[R]:C[R]))/Math.max(N[R],C[R])||0,be=N[R]/C[R]||0,S=1.5;Ml(L,{backgroundColor:[E,"currentcolor"],transform:[`translate${x}(${Y}px) scale${x}(${be})`,`translate${x}(${Y/S}px) scale${x}(${(ge-1)/S+1})`,"none"],transformOrigin:Array(3).fill(ie)},{duration:225,easing:Wl})}}return ee(()=>{const v=Se.filterProps(l);return r(Se,A({symbol:Ge,ref:n,class:["v-tab",l.class],style:l.style,tabindex:m.value?0:-1,role:"tab","aria-selected":String(m.value),active:!1},v,o,{block:l.fixed,maxWidth:l.fixed?300:void 0,"onGroup:selected":_}),{...s,default:()=>{var y;return r(U,null,[((y=s.default)==null?void 0:y.call(s))??l.text,!l.hideSlider&&r("div",{ref:c,class:["v-tab__slider",u.value],style:i.value},null)])}})}),zl({},n)}});const ua=l=>{const{touchstartX:a,touchendX:s,touchstartY:o,touchendY:u}=l,i=.5,n=16;l.offsetX=s-a,l.offsetY=u-o,Math.abs(l.offsetY)<i*Math.abs(l.offsetX)&&(l.left&&s<a-n&&l.left(l),l.right&&s>a+n&&l.right(l)),Math.abs(l.offsetX)<i*Math.abs(l.offsetY)&&(l.up&&u<o-n&&l.up(l),l.down&&u>o+n&&l.down(l))};function ra(l,a){var o;const s=l.changedTouches[0];a.touchstartX=s.clientX,a.touchstartY=s.clientY,(o=a.start)==null||o.call(a,{originalEvent:l,...a})}function da(l,a){var o;const s=l.changedTouches[0];a.touchendX=s.clientX,a.touchendY=s.clientY,(o=a.end)==null||o.call(a,{originalEvent:l,...a}),ua(a)}function ca(l,a){var o;const s=l.changedTouches[0];a.touchmoveX=s.clientX,a.touchmoveY=s.clientY,(o=a.move)==null||o.call(a,{originalEvent:l,...a})}function ma(){let l=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};const a={touchstartX:0,touchstartY:0,touchendX:0,touchendY:0,touchmoveX:0,touchmoveY:0,offsetX:0,offsetY:0,left:l.left,right:l.right,up:l.up,down:l.down,start:l.start,move:l.move,end:l.end};return{touchstart:s=>ra(s,a),touchend:s=>da(s,a),touchmove:s=>ca(s,a)}}function va(l,a){var c;const s=a.value,o=s!=null&&s.parent?l.parentElement:l,u=(s==null?void 0:s.options)??{passive:!0},i=(c=a.instance)==null?void 0:c.$.uid;if(!o||!i)return;const n=ma(a.value);o._touchHandlers=o._touchHandlers??Object.create(null),o._touchHandlers[i]=n,ut(n).forEach(f=>{o.addEventListener(f,n[f],u)})}function ya(l,a){var i,n;const s=(i=a.value)!=null&&i.parent?l.parentElement:l,o=(n=a.instance)==null?void 0:n.$.uid;if(!(s!=null&&s._touchHandlers)||!o)return;const u=s._touchHandlers[o];ut(u).forEach(c=>{s.removeEventListener(c,u[c])}),delete s._touchHandlers[o]}const It={mounted:va,unmounted:ya},pa=It,xt=Symbol.for("vuetify:v-window"),St=Symbol.for("vuetify:v-window-group"),Tt=J({continuous:Boolean,nextIcon:{type:[Boolean,String,Function,Object],default:"$next"},prevIcon:{type:[Boolean,String,Function,Object],default:"$prev"},reverse:Boolean,showArrows:{type:[Boolean,String],validator:l=>typeof l=="boolean"||l==="hover"},touch:{type:[Object,Boolean],default:void 0},direction:{type:String,default:"horizontal"},modelValue:null,disabled:Boolean,selectedClass:{type:String,default:"v-window-item--active"},mandatory:{type:[Boolean,String],default:"force"},...me(),...he(),...Be()},"VWindow"),et=Z()({name:"VWindow",directives:{Touch:It},props:Tt(),emits:{"update:modelValue":l=>!0},setup(l,a){let{slots:s}=a;const{themeClasses:o}=De(l),{isRtl:u}=rt(),{t:i}=al(),n=kt(l,St),c=T(),f=I(()=>u.value?!l.reverse:l.reverse),m=$e(!1),_=I(()=>{const h=l.direction==="vertical"?"y":"x",M=(f.value?!m.value:m.value)?"-reverse":"";return`v-window-${h}${M}-transition`}),v=$e(0),y=T(void 0),b=I(()=>n.items.value.findIndex(h=>n.selected.value.includes(h.id)));te(b,(h,x)=>{const M=n.items.value.length,R=M-1;M<=2?m.value=h<x:h===R&&x===0?m.value=!0:h===0&&x===R?m.value=!1:m.value=h<x}),ol(xt,{transition:_,isReversed:m,transitionCount:v,transitionHeight:y,rootRef:c});const g=I(()=>l.continuous||b.value!==0),F=I(()=>l.continuous||b.value!==n.items.value.length-1);function L(){g.value&&n.prev()}function E(){F.value&&n.next()}const N=I(()=>{const h=[],x={icon:u.value?l.nextIcon:l.prevIcon,class:`v-window__${f.value?"right":"left"}`,onClick:n.prev,"aria-label":i("$vuetify.carousel.prev")};h.push(g.value?s.prev?s.prev({props:x}):r(Se,x,null):r("div",null,null));const M={icon:u.value?l.prevIcon:l.nextIcon,class:`v-window__${f.value?"left":"right"}`,onClick:n.next,"aria-label":i("$vuetify.carousel.next")};return h.push(F.value?s.next?s.next({props:M}):r(Se,M,null):r("div",null,null)),h}),C=I(()=>l.touch===!1?l.touch:{...{left:()=>{f.value?L():E()},right:()=>{f.value?E():L()},start:x=>{let{originalEvent:M}=x;M.stopPropagation()}},...l.touch===!0?{}:l.touch});return ee(()=>Qe(r(l.tag,{ref:c,class:["v-window",{"v-window--show-arrows-on-hover":l.showArrows==="hover"},o.value,l.class],style:l.style},{default:()=>{var h,x;return[r("div",{class:"v-window__container",style:{height:y.value}},[(h=s.default)==null?void 0:h.call(s,{group:n}),l.showArrows!==!1&&r("div",{class:"v-window__controls"},[N.value])]),(x=s.additional)==null?void 0:x.call(s,{group:n})]}}),[[dt("touch"),C.value]])),{group:n}}}),fa=J({...nt(Tt(),["continuous","nextIcon","prevIcon","showArrows","touch","mandatory"])},"VTabsWindow"),_a=Z()({name:"VTabsWindow",props:fa(),emits:{"update:modelValue":l=>!0},setup(l,a){let{slots:s}=a;const o=ct(Ge,null),u=Fe(l,"modelValue"),i=I({get(){var n;return u.value!=null||!o?u.value:(n=o.items.value.find(c=>o.selected.value.includes(c.id)))==null?void 0:n.value},set(n){u.value=n}});return ee(()=>{const n=et.filterProps(l);return r(et,A({_as:"VTabsWindow"},n,{modelValue:i.value,"onUpdate:modelValue":c=>i.value=c,class:"v-tabs-window",mandatory:!1,touch:!1}),s)}),{}}}),Bt=J({reverseTransition:{type:[Boolean,String],default:void 0},transition:{type:[Boolean,String],default:void 0},...me(),...kl(),...ql()},"VWindowItem"),tt=Z()({name:"VWindowItem",directives:{Touch:pa},props:Bt(),emits:{"group:selected":l=>!0},setup(l,a){let{slots:s}=a;const o=ct(xt),u=wl(l,St),{isBooted:i}=Ue();if(!o||!u)throw new Error("[Vuetify] VWindowItem must be used inside VWindow");const n=$e(!1),c=I(()=>i.value&&(o.isReversed.value?l.reverseTransition!==!1:l.transition!==!1));function f(){!n.value||!o||(n.value=!1,o.transitionCount.value>0&&(o.transitionCount.value-=1,o.transitionCount.value===0&&(o.transitionHeight.value=void 0)))}function m(){var g;n.value||!o||(n.value=!0,o.transitionCount.value===0&&(o.transitionHeight.value=pe((g=o.rootRef.value)==null?void 0:g.clientHeight)),o.transitionCount.value+=1)}function _(){f()}function v(g){n.value&&sl(()=>{!c.value||!n.value||!o||(o.transitionHeight.value=pe(g.clientHeight))})}const y=I(()=>{const g=o.isReversed.value?l.reverseTransition:l.transition;return c.value?{name:typeof g!="string"?o.transition.value:g,onBeforeEnter:m,onAfterEnter:f,onEnterCancelled:_,onBeforeLeave:m,onAfterLeave:f,onLeaveCancelled:_,onEnter:v}:!1}),{hasContent:b}=Al(l,u.isSelected);return ee(()=>r(Cl,{transition:y.value,disabled:!i.value},{default:()=>{var g;return[Qe(r("div",{class:["v-window-item",u.selectedClass.value,l.class],style:l.style},[b.value&&((g=s.default)==null?void 0:g.call(s))]),[[il,u.isSelected.value]])]}})),{groupItem:u}}}),ha=J({...Bt()},"VTabsWindowItem"),ga=Z()({name:"VTabsWindowItem",props:ha(),setup(l,a){let{slots:s}=a;return ee(()=>{const o=tt.filterProps(l);return r(tt,A({_as:"VTabsWindowItem"},o,{class:["v-tabs-window-item",l.class],style:l.style}),s)}),{}}});function ba(l){return l?l.map(a=>nl(a)?a:{text:a,value:a}):[]}const Pa=J({alignTabs:{type:String,default:"start"},color:String,fixedTabs:Boolean,items:{type:Array,default:()=>[]},stacked:Boolean,bgColor:String,grow:Boolean,height:{type:[Number,String],default:void 0},hideSlider:Boolean,sliderColor:String,...Ll({mandatory:"force",selectedClass:"v-tab-item--selected"}),...pt(),...he()},"VTabs"),Ae=Z()({name:"VTabs",props:Pa(),emits:{"update:modelValue":l=>!0},setup(l,a){let{slots:s}=a;const o=Fe(l,"modelValue"),u=I(()=>ba(l.items)),{densityClasses:i}=gt(l),{backgroundColorClasses:n,backgroundColorStyles:c}=Ye(D(l,"bgColor"));return st({VTab:{color:D(l,"color"),direction:D(l,"direction"),stacked:D(l,"stacked"),fixed:D(l,"fixedTabs"),sliderColor:D(l,"sliderColor"),hideSlider:D(l,"hideSlider")}}),ee(()=>{const f=Ze.filterProps(l),m=!!(s.window||l.items.length>0);return r(U,null,[r(Ze,A(f,{modelValue:o.value,"onUpdate:modelValue":_=>o.value=_,class:["v-tabs",`v-tabs--${l.direction}`,`v-tabs--align-tabs-${l.alignTabs}`,{"v-tabs--fixed-tabs":l.fixedTabs,"v-tabs--grow":l.grow,"v-tabs--stacked":l.stacked},i.value,n.value,l.class],style:[{"--v-tabs-height":pe(l.height)},c.value,l.style],role:"tablist",symbol:Ge}),{default:()=>{var _;return[((_=s.default)==null?void 0:_.call(s))??u.value.map(v=>{var y;return((y=s.tab)==null?void 0:y.call(s,{item:v}))??r(ce,A(v,{key:v.text,value:v.value}),{default:()=>{var b;return(b=s[`tab.${v.value}`])==null?void 0:b.call(s,{item:v})}})})]}}),m&&r(_a,{modelValue:o.value,"onUpdate:modelValue":_=>o.value=_,key:"tabs-window"},{default:()=>{var _;return[u.value.map(v=>{var y;return((y=s.item)==null?void 0:y.call(s,{item:v}))??r(ga,{value:v.value},{default:()=>{var b;return(b=s[`item.${v.value}`])==null?void 0:b.call(s,{item:v})}})}),(_=s.window)==null?void 0:_.call(s)]}})])}),{}}}),ka={class:"menuButton"},wa={class:"menuButton"},Ca={class:"menuButton"},Va=z({__name:"BottomNavigation",props:{height:{}},setup(l){const a=Dt(),s=I(()=>{for(const o of a)if(we.currentRoute.value.path.startsWith(o.path))return!B("tablet")&&o.isLibraryNode?"library":o.label;return""});return(o,u)=>(d(),P(sa,{height:o.height,grow:"",elevation:"15",style:{"border-top":"1px solid #20202035"}},{default:p(()=>[e(B)("tablet")?(d(),P(Ae,{key:0,stacked:"",grow:"","show-arrows":!1,"model-value":s.value,color:"accent","center-active":""},{default:p(()=>[(d(!0),k(U,null,X(e(a),i=>(d(),P(ce,{key:i.label,to:i.path,value:i.label},{default:p(()=>[r(H,{size:"xx-large"},{default:p(()=>[W(V(i.icon),1)]),_:2},1024),$("span",ka,V(o.$t(i.label)),1)]),_:2},1032,["to","value"]))),128))]),_:1},8,["model-value"])):(d(),P(Ae,{key:1,stacked:"",grow:"","show-arrows":!1,"model-value":s.value,color:"accent"},{default:p(()=>[(d(!0),k(U,null,X(e(a).filter(i=>!i.isLibraryNode),i=>(d(),P(ce,{key:i.label,to:i.path,value:i.label},{default:p(()=>[r(H,{size:"xx-large"},{default:p(()=>[W(V(i.icon),1)]),_:2},1024),$("span",wa,V(o.$t(i.label)),1)]),_:2},1032,["to","value"]))),128)),r(Oe,null,{activator:p(({props:i})=>[r(ce,A({key:"library"},i,{value:"library"}),{default:p(()=>[r(H,{size:"xx-large"},{default:p(()=>[W("mdi-bookshelf")]),_:1}),$("span",Ca,V(o.$t("library")),1)]),_:2},1040)]),default:p(()=>[r(_e,null,{default:p(()=>[(d(!0),k(U,null,X(e(a).filter(i=>i.isLibraryNode),i=>(d(),P(oe,{key:i.label,title:o.$t(i.label),"prepend-icon":i.icon,to:i.path},null,8,["title","prepend-icon","to"]))),128))]),_:1})]),_:1})]),_:1},8,["model-value"]))]),_:1},8,["height"]))}});const $a={style:{width:"100%"}},Qa={key:0,style:{display:"flex",flex:"1 1 auto","align-items":"center"}},Ia={style:{"z-index":"1"},class:"text-caption"},xa={key:1,style:{width:"100%","padding-bottom":"0px"}},Ee=z({__name:"PlayerTimeline",props:{isProgressBar:{type:Boolean,default:!1},color:{default:"accent"}},setup(l){const a=l,s=T(!1),o=T(!0),u=T(!1),i=T(0),n=T(0),c=I(()=>t.curQueueItem?s.value?`-${ke(t.curQueueItem.duration-m.value)}`:`${ke(m.value)}`:"0:00"),f=I(()=>{if(!t.curQueueItem)return"0:00";const b=t.curQueueItem.duration;return ke(b)}),m=I(()=>u.value?(n.value=i.value,i.value):t.activePlayerQueue?t.activePlayerQueue.elapsed_time:0);te(m,b=>{u.value||(i.value=b)});const _=function(){u.value=!0},v=()=>{u.value=!1,y(n.value)},y=b=>{var g;u.value||w.queueCommandSeek(((g=t.activePlayerQueue)==null?void 0:g.queue_id)||"",Math.round(b))};return(b,g)=>{var F,L;return d(),k("div",$a,[e(t).activePlayerQueue&&!b.isProgressBar?(d(),k("div",Qa,[$("div",{class:"text-caption",style:{cursor:"pointer","z-index":"1"},onClick:g[0]||(g[0]=E=>s.value?s.value=!1:s.value=!0)},V(c.value),1),r(Vt,{modelValue:i.value,"onUpdate:modelValue":g[1]||(g[1]=E=>i.value=E),disabled:!e(t).curQueueItem||((F=e(t).curQueueItem.media_item)==null?void 0:F.media_type)!=e(se).TRACK,color:a.color,style:{width:"100%"},min:0,max:e(t).curQueueItem&&e(t).curQueueItem.duration,"hide-details":"","track-size":2,"thumb-size":o.value?0:10,onTouchstart:g[2]||(g[2]=E=>o.value=!1),onTouchend:g[3]||(g[3]=E=>o.value=!0),onMouseenter:g[4]||(g[4]=E=>o.value=!1),onMouseleave:g[5]||(g[5]=E=>o.value=!0),onStart:_,onEnd:v},null,8,["modelValue","disabled","color","max","thumb-size"]),$("div",Ia,V(f.value),1)])):e(t).activePlayerQueue&&b.isProgressBar?(d(),k("div",xa,[r(Vl,{modelValue:i.value,"onUpdate:modelValue":g[6]||(g[6]=E=>i.value=E),disabled:!e(t).activePlayerQueue||!e(t).curQueueItem||((L=e(t).activePlayerQueue)==null?void 0:L.items)==0,height:"70",color:e(Yt)(a.color,.15),"bg-color":a.color,"bg-opacity":1,style:{position:"absolute","border-radius":"10px"},min:0,max:e(t).curQueueItem&&e(t).curQueueItem.duration},null,8,["modelValue","disabled","color","bg-color","max"])])):Q("",!0)])}}}),Sa=z({__name:"ResponsiveIcon",props:{width:{default:void 0},height:{default:void 0},staticWidth:{default:void 0},staticHeight:{default:void 0},maxWidth:{default:void 0},maxHeight:{default:void 0},minWidth:{default:"24px"},minHeight:{default:"24px"},icon:{default:void 0},type:{default:"icon"},color:{default:void 0},disabled:{type:Boolean},badge:{type:Boolean,default:void 0}},setup(l){const a=l,s=()=>{if(o.value){const i=o.value.offsetWidth,n=o.value.offsetHeight,c=Math.min(i,n);u.value.$el.style.fontSize=`${c}px`}},o=T(),u=T();return Te(()=>{s(),window.addEventListener("resize",s)}),He(()=>{window.removeEventListener("resize",s)}),(i,n)=>(d(),k("div",{ref_key:"responsiveIconHolder",ref:o,class:de([a.type=="btn"?"responsive-icon-holder-btn":"responsive-icon-holder",{disabled:i.disabled}]),style:q({width:a.staticWidth?a.staticWidth:a.width,height:a.staticWidth?a.staticWidth:a.height,maxHeight:a.staticHeight?a.staticHeight:a.maxHeight,maxWidth:a.staticWidth?a.staticWidth:a.maxWidth,minHeight:a.staticHeight?a.staticHeight:a.minHeight,minWidth:a.staticWidth?a.staticWidth:a.minWidth})},[r(xe,{"model-value":i.badge==!0,color:"error",dot:""},{default:p(()=>[i.type==="icon"?(d(),P(H,{key:0,ref_key:"responsiveIcon",ref:u,class:"responsive-icon",color:i.color?i.color:"",icon:a.icon?a.icon:"mdi-check",width:a.staticWidth?a.staticWidth:null,height:a.staticHeight?a.staticHeight:null},We({_:2},[X(i.$slots,(c,f)=>({name:f,fn:p(()=>[qe(i.$slots,f,{},void 0,!0)])}))]),1032,["color","icon","width","height"])):i.type==="btn"?(d(),P(H,{key:1,ref_key:"responsiveIcon",ref:u,class:"responsive-icon",style:{cursor:"pointer"},color:i.color?i.color:"",icon:a.icon?a.icon:"mdi-check",width:a.staticWidth?a.staticWidth:null,height:a.staticHeight?a.staticHeight:null,disabled:i.disabled},We({_:2},[X(i.$slots,(c,f)=>({name:f,fn:p(()=>[qe(i.$slots,f,{},void 0,!0)])}))]),1032,["color","icon","width","height","disabled"])):Q("",!0)]),_:3},8,["model-value"])],6))}});const ae=K(Sa,[["__scopeId","data-v-2c0644be"]]),zt=z({__name:"RepeatBtn",props:{isVisible:{type:Boolean,default:!0},icon:{default:void 0}},setup(l){const a=l;return(s,o)=>{var u,i,n,c,f,m,_,v,y,b;return a.isVisible?(d(),P(ae,A({key:0},a.icon,{disabled:!e(t).activePlayerQueue||!((u=e(t).activePlayerQueue)!=null&&u.active)||((i=e(t).activePlayerQueue)==null?void 0:i.items)==0,color:e(ye)((n=a.icon)==null?void 0:n.color,[[((c=e(t).activePlayerQueue)==null?void 0:c.repeat_mode)==e(O).OFF,null],[((f=e(t).activePlayerQueue)==null?void 0:f.repeat_mode)==e(O).ALL,"secondary"],[((m=e(t).activePlayerQueue)==null?void 0:m.repeat_mode)==e(O).ONE,"secondary"]]),icon:e(ye)((_=a.icon)==null?void 0:_.icon,[[((v=e(t).activePlayerQueue)==null?void 0:v.repeat_mode)==e(O).OFF,"mdi-repeat-off"],[((y=e(t).activePlayerQueue)==null?void 0:y.repeat_mode)==e(O).ALL,"mdi-repeat"],[((b=e(t).activePlayerQueue)==null?void 0:b.repeat_mode)==e(O).ONE,"mdi-repeat-once"],[!0,"mdi-repeat-off"]]),type:"btn",onClick:o[0]||(o[0]=g=>{var F,L,E,N;return e(w).queueCommandRepeat(((F=e(t).activePlayerQueue)==null?void 0:F.queue_id)||"",e(ye)(null,[[((L=e(t).activePlayerQueue)==null?void 0:L.repeat_mode)==e(O).OFF,e(O).ONE],[((E=e(t).activePlayerQueue)==null?void 0:E.repeat_mode)==e(O).ALL,e(O).OFF],[((N=e(t).activePlayerQueue)==null?void 0:N.repeat_mode)==e(O).ONE,e(O).ALL]]))})}),null,16,["disabled","color","icon"])):Q("",!0)}}}),Mt=z({__name:"ShuffleBtn",props:{isVisible:{type:Boolean,default:!0},icon:{default:void 0}},setup(l){const a=l;return(s,o)=>{var u,i,n,c,f,m,_;return a.isVisible?(d(),P(ae,A({key:0},a.icon,{disabled:!e(t).activePlayerQueue||!((u=e(t).activePlayerQueue)!=null&&u.active)||((i=e(t).activePlayerQueue)==null?void 0:i.items)==0,color:e(ye)((n=a.icon)==null?void 0:n.color,[[(c=e(t).activePlayerQueue)==null?void 0:c.shuffle_enabled,"secondary",""]]),icon:e(ye)((f=a.icon)==null?void 0:f.icon,[[(m=e(t).activePlayerQueue)==null?void 0:m.shuffle_enabled,"mdi-shuffle"],[((_=e(t).activePlayerQueue)==null?void 0:_.shuffle_enabled)==!1,"mdi-shuffle-disabled"],[!0,"mdi-shuffle"]]),type:"btn",onClick:o[0]||(o[0]=v=>{var y,b;return e(w).queueCommandShuffle(((y=e(t).activePlayerQueue)==null?void 0:y.queue_id)||"",!((b=e(t).activePlayerQueue)!=null&&b.shuffle_enabled))})}),null,16,["disabled","color","icon"])):Q("",!0)}}}),Wt=z({__name:"PlayBtn",props:{isVisible:{type:Boolean,default:!0},withCircle:{type:Boolean,default:!0},icon:{default:void 0}},setup(l){const a=l;return(s,o)=>{var u,i,n,c,f,m;return e(t).activePlayerQueue&&((u=e(t).activePlayerQueue)!=null&&u.active)&&a.isVisible?(d(),P(ae,A({key:0},a.icon,{disabled:e(t).activePlayerQueue&&!((i=e(t).activePlayerQueue)!=null&&i.active)&&((n=e(t).activePlayerQueue)==null?void 0:n.items)==0,icon:((c=e(t).activePlayerQueue)==null?void 0:c.state)=="playing"?a.withCircle?"mdi-pause-circle":"mdi-pause":a.withCircle?"mdi-play-circle":"mdi-play",type:"btn",onClick:o[0]||(o[0]=_=>e(w).queueCommandPlayPause(e(t).activePlayerQueue.queue_id))}),null,16,["disabled","icon"])):((f=e(t).selectedPlayer)==null?void 0:f.state)==e(ul).PLAYING&&a.isVisible?(d(),P(ae,A({key:1},a.icon,{icon:"mdi-stop",type:"btn",onClick:o[1]||(o[1]=_=>e(w).queueCommandStop(e(t).selectedPlayer.player_id))}),null,16)):a.isVisible?(d(),P(ae,A({key:2},a.icon,{disabled:((m=e(t).activePlayerQueue)==null?void 0:m.items)==0,icon:a.withCircle?"mdi-play-circle":"mdi-play",type:"btn",onClick:o[2]||(o[2]=_=>{var v;return e(w).queueCommandPlay(((v=e(t).activePlayerQueue)==null?void 0:v.queue_id)||e(t).selectedPlayer.player_id)})}),null,16,["disabled","icon"])):Q("",!0)}}}),qt=z({__name:"PreviousBtn",props:{isVisible:{type:Boolean,default:!0},icon:{default:void 0}},setup(l){const a=l;return(s,o)=>{var u,i;return a.isVisible?(d(),P(ae,A({key:0},a.icon,{disabled:!e(t).activePlayerQueue||!((u=e(t).activePlayerQueue)!=null&&u.active)||((i=e(t).activePlayerQueue)==null?void 0:i.items)==0,icon:"mdi-skip-previous-outline",type:"btn",onClick:o[0]||(o[0]=n=>e(w).queueCommandPrevious(e(t).activePlayerQueue.queue_id))}),null,16,["disabled"])):Q("",!0)}}}),At=z({__name:"NextBtn",props:{isVisible:{type:Boolean,default:!0},icon:{default:void 0}},setup(l){const a=l;return(s,o)=>{var u,i;return a.isVisible?(d(),P(ae,A({key:0},a.icon,{disabled:!e(t).activePlayerQueue||!((u=e(t).activePlayerQueue)!=null&&u.active)||((i=e(t).activePlayerQueue)==null?void 0:i.items)==0,icon:"mdi-skip-next-outline",type:"btn",onClick:o[0]||(o[0]=n=>e(w).queueCommandNext(e(t).activePlayerQueue.queue_id))}),null,16,["disabled"])):Q("",!0)}}}),Ta={key:0,style:{display:"inline-flex"}},Ba={key:0,class:"player-controls-elements"},za={key:1,class:"player-controls-elements"},Ma={key:2},Wa={key:3,class:"player-controls-elements"},qa={key:4,class:"player-controls-elements"},lt=z({__name:"PlayerControls",props:{visibleComponents:{default:()=>({repeat:{isVisible:!0},shuffle:{isVisible:!0},play:{isVisible:!0},previous:{isVisible:!0},next:{isVisible:!0}})}},setup(l){const a=l;return(s,o)=>{var u,i,n,c,f;return a.visibleComponents?(d(),k("div",Ta,[a.visibleComponents&&((u=a.visibleComponents.shuffle)!=null&&u.isVisible)?(d(),k("div",Ba,[r(Mt,{class:"media-controls-item",icon:a.visibleComponents.shuffle.icon},null,8,["icon"])])):Q("",!0),a.visibleComponents&&((i=a.visibleComponents.previous)!=null&&i.isVisible)?(d(),k("div",za,[r(qt,{class:"media-controls-item",icon:a.visibleComponents.previous.icon},null,8,["icon"])])):Q("",!0),a.visibleComponents&&((n=a.visibleComponents.play)!=null&&n.isVisible)?(d(),k("div",Ma,[r(Wt,{class:"media-controls-item","with-circle":a.visibleComponents.play.withCircle,icon:a.visibleComponents.play.icon},null,8,["with-circle","icon"])])):Q("",!0),a.visibleComponents&&((c=a.visibleComponents.next)!=null&&c.isVisible)?(d(),k("div",Wa,[r(At,{icon:a.visibleComponents.next.icon,"static-height":"24px","static-width":"24px"},null,8,["icon"])])):Q("",!0),a.visibleComponents&&((f=a.visibleComponents.repeat)!=null&&f.isVisible)?(d(),k("div",qa,[r(zt,{icon:a.visibleComponents.repeat.icon,"static-height":"24px","static-width":"24px"},null,8,["icon"])])):Q("",!0)])):Q("",!0)}}});const Aa=z({__name:"FavoriteBtn",props:{item:{default:void 0},isVisible:{type:Boolean,default:!0},icon:{default:void 0},disabled:{type:Boolean,default:!1}},setup(l){const a=l,s=function(){a.item&&w.toggleFavorite(a.item)};return(o,u)=>{var i;return o.isVisible?(d(),P(ae,A({key:0},a.icon,{disabled:o.disabled||!o.item,icon:(i=o.item)!=null&&i.favorite?"mdi-heart":"mdi-heart-outline",title:o.$t("tooltip.favorite"),type:"btn",onClick:s}),null,16,["disabled","icon","title"])):Q("",!0)}}}),Et=z({__name:"QueueBtn",props:{isVisible:{type:Boolean,default:!0},icon:{default:void 0}},setup(l){const a=l,s=function(){t.showFullscreenPlayer&&t.showQueueItems?t.showQueueItems=!1:t.showFullscreenPlayer&&!t.showQueueItems?t.showQueueItems=!0:(t.showQueueItems=!0,t.showFullscreenPlayer=!0)};return(o,u)=>{var i,n;return a.isVisible?(d(),P(ae,A({key:0},a.icon,{disabled:!e(t).activePlayerQueue||!((i=e(t).activePlayerQueue)!=null&&i.active)||((n=e(t).activePlayerQueue)==null?void 0:n.items)==0,icon:"mdi-playlist-play",type:"btn",badge:e(t).showFullscreenPlayer&&e(t).showQueueItems,onClick:s}),null,16,["disabled","badge"])):Q("",!0)}}}),Ea={key:2,class:"line-clamp-1 no_transform"},Lt=z({__name:"SpeakerBtn",props:{color:{},responsive:{type:Boolean}},setup(l){const a=l,s=I(()=>{var u;if(!t.selectedPlayer)return 0;let o=0;for(const i of t.selectedPlayer.group_childs){const n=(u=w)==null?void 0:u.players[i];n&&n.available&&n.powered&&o++}return o});return(o,u)=>(d(),P(le,{variant:"icon",ripple:!1,icon:!!(o.responsive&&!e(B)("bp6")),onClick:u[0]||(u[0]=i=>e(t).showPlayersMenu=!0)},{default:p(()=>{var i,n;return[(i=e(t).selectedPlayer)!=null&&i.group_childs.length?(d(),P(xe,{key:0,size:"small",content:s.value},{default:p(()=>[r(H,{color:a.color?o.color:"",size:24},{default:p(()=>[W("mdi-speaker-multiple")]),_:1},8,["color"])]),_:1},8,["content"])):(d(),P(H,{key:1,color:a.color?o.color:"",size:24},{default:p(()=>[W("mdi-speaker")]),_:1},8,["color"])),!o.responsive||e(B)("bp6")?(d(),k("span",Ea,V(e(Re)(((n=e(t).activePlayerQueue)==null?void 0:n.display_name)||o.$t("no_player"),e(B)("bp7")?16:8)),1)):Q("",!0)]}),_:1},8,["icon"]))}});const La={props:{width:String,height:String,style:String,isPowered:Boolean},emits:["update:model-value"],setup(l,a){const s=T(!0),o=I(()=>({class:"player-volume",hideDetails:!0,trackSize:2,thumbSize:s.value?0:10,step:2,elevation:0,disabled:!l.isPowered,style:`width: ${l.width}; height:${l.height}; display: inline-grid; ${l.style}`})),u=I(()=>({...o.value,...a}));return{isThumbHidden:s,playerVolumeProps:u,onWheel:({deltaY:n})=>{const c=u.value.step,f=a.attrs["model-value"],m=n<0?c:-c;a.emit("update:model-value",f+m)}}}};function Ra(l,a,s,o,u,i){return d(),P(Vt,A(o.playerVolumeProps,{onTouchstart:a[0]||(a[0]=n=>o.isThumbHidden=!1),onTouchend:a[1]||(a[1]=n=>o.isThumbHidden=!0),onMouseenter:a[2]||(a[2]=n=>o.isThumbHidden=!1),onMouseleave:a[3]||(a[3]=n=>o.isThumbHidden=!0),onWheel:o.onWheel,"onUpdate:modelValue":a[4]||(a[4]=n=>l.$emit("update:model-value",n))}),We({_:2},[X(l.$slots,(n,c)=>({name:c,fn:p(()=>[qe(l.$slots,c,{},void 0,!0)])}))]),1040,["onWheel"])}const Le=K(La,[["render",Ra],["__scopeId","data-v-a6e8aec7"]]),Ha={class:"text-center"},Fa={class:"text-caption"},Da={class:"text-center"},Ua={key:0,class:"text-caption"},Na={key:1,class:"text-caption"},Ya={key:0,class:"syncbtn"},Oa={key:1,class:"syncbtn"},Xa=z({__name:"VolumeControl",props:{player:{}},setup(l){const a=function(o){var i;const u=[];o.type!=ve.GROUP&&o.type!=ve.SYNC_GROUP&&u.push(o);for(const n of o.group_childs){const c=(i=w)==null?void 0:i.players[n];c&&c.available&&!u.includes(c)&&u.push(c)}return u.sort((n,c)=>n.display_name.toUpperCase()>c.display_name.toUpperCase()?1:-1),u},s=function(o,u){o.type==ve.GROUP||o.type==ve.SYNC_GROUP||o.group_childs.length>0?w.playerCommandGroupPower(o.player_id,u):w.playerCommandPower(o.player_id,u)};return(o,u)=>(d(),P(_e,{style:{overflow:"hidden"},lines:"two"},{default:p(()=>[o.player.group_childs.length>0?(d(),P(oe,{key:0},{prepend:p(()=>[$("div",{style:q(o.player.powered?"opacity: 0.75":"opacity: 0.5")},[$("div",Ha,[r(le,{icon:"",style:{height:"25px !important"},onClick:u[0]||(u[0]=i=>s(o.player,!o.player.powered))},{default:p(()=>[r(H,{size:25,icon:o.player.volume_muted?"mdi-volume-off":"mdi-power"},null,8,["icon"])]),_:1}),$("div",Fa,V(o.player.group_volume),1)])],4)]),default:p(()=>[$("div",{class:"volumesliderrow",style:q(o.player.powered?"opacity: 0.75":"opacity: 0.5")},[$("h6",null,V(e(at)(o.player,27)),1),r(Le,{class:"vc-slider",width:"100%",color:"secondary","is-powered":o.player.powered,"model-value":Math.round(o.player.group_volume),"onUpdate:modelValue":u[1]||(u[1]=i=>e(w).playerCommandGroupVolume(o.player.player_id,i))},null,8,["is-powered","model-value"])],4)]),_:1})):Q("",!0),o.player.group_childs.length>0?(d(),P(fe,{key:1,style:{"margin-top":"7px","margin-bottom":"7px"}})):Q("",!0),(d(!0),k(U,null,X(a(o.player),i=>(d(),P(oe,{key:i.player_id,style:q(i.powered?"opacity: 0.75":"opacity: 0.5")},{prepend:p(()=>[$("div",null,[$("div",Da,[r(le,{icon:"",style:{height:"25px !important"},onClick:n=>e(w).playerCommandPowerToggle(i.player_id)},{default:p(()=>[r(H,{size:25,icon:"mdi-power"})]),_:2},1032,["onClick"]),i.volume_muted?(d(),k("div",Ua,V(o.$t("muted")),1)):(d(),k("div",Na,V(i.volume_level),1))])])]),default:p(()=>[$("div",{class:"volumesliderrow",style:q(i.powered?"opacity: 0.75":"opacity: 0.5")},[$("h6",null,V(e(Re)(i.display_name,27)),1),r(Le,{class:"vc-slider",width:"100%",color:"secondary","is-powered":i.powered,"model-value":Math.round(i.volume_level),"onUpdate:modelValue":n=>e(w).playerCommandVolumeSet(i.player_id,n)},null,8,["is-powered","model-value","onUpdate:modelValue"])],4)]),append:p(()=>[$("div",{style:q(i.powered?"opacity: 0.75":"opacity: 0.5")},[!i.synced_to&&i.can_sync_with.length&&Object.values(e(w).players).filter(n=>!n.synced_to&&n.can_sync_with.includes(i.player_id)).length>0?(d(),k("div",Ya,[r(Oe,{location:"bottom end",style:{"z-index":"999999"}},{activator:p(({props:n})=>[r(le,A({icon:"",ref_for:!0},n),{default:p(()=>[r(H,null,{default:p(()=>[W("mdi-link-variant")]),_:1})]),_:2},1040)]),default:p(()=>[r(_e,null,{default:p(()=>[r(re,null,{default:p(()=>[W(V(o.$t("sync_player_to")),1)]),_:1}),(d(!0),k(U,null,X(Object.values(e(w).players).filter(n=>!n.synced_to&&n.can_sync_with.includes(i.player_id)),n=>(d(),P($t,{key:n.player_id,title:n.display_name,onClick:c=>e(w).playerCommandSync(i.player_id,n.player_id)},null,8,["title","onClick"]))),128)),r(fe)]),_:2},1024)]),_:2},1024)])):Q("",!0),i.synced_to?(d(),k("div",Oa,[r(le,{icon:"",onClick:n=>e(w).playerCommandUnSync(i.player_id)},{default:p(()=>[r(H,null,{default:p(()=>[W("mdi-link-variant-off")]),_:1})]),_:2},1032,["onClick"])])):Q("",!0)],4)]),_:2},1032,["style"]))),128))]),_:1}))}});const Rt=K(Xa,[["__scopeId","data-v-902945d8"]]),Ga={key:0},ja={key:0},Ka={class:"text-caption"},Ja={key:1},Za=z({__name:"VolumeBtn",props:{volumeSize:{default:"150px"},responsiveVolumeSize:{type:Boolean,default:!0},isVisible:{type:Boolean,default:!0},color:{default:""}},setup(l){const a=l,s=T(!1);return(o,u)=>a.isVisible&&e(t).selectedPlayer?(d(),k("div",Ga,[r(Oe,{modelValue:s.value,"onUpdate:modelValue":u[1]||(u[1]=i=>s.value=i),class:"volume-control-dialog","close-on-content-click":!1,scrim:o.$vuetify.theme.current.dark?"rgba(0,0,0,.75)":"rgba(0,0,0,.85)"},{activator:p(({props:i})=>{var n,c;return[e(B)("bp5")||!o.responsiveVolumeSize?(d(),k("div",ja,[r(Le,{style:"margin-right: 0px; margin-left: 0px;",width:o.volumeSize,"is-powered":!0,"model-value":e(t).selectedPlayer.group_childs.length>0?Math.round(((n=e(t).selectedPlayer)==null?void 0:n.group_volume)||0):Math.round(((c=e(t).selectedPlayer)==null?void 0:c.volume_level)||0),"onUpdate:modelValue":u[0]||(u[0]=f=>{var m,_;return e(t).selectedPlayer.group_childs.length>0?e(w).playerCommandGroupVolume(((m=e(t).selectedPlayer)==null?void 0:m.player_id)||"",f):e(w).playerCommandVolumeSet(((_=e(t).selectedPlayer)==null?void 0:_.player_id)||"",f)})},{prepend:p(()=>[r(le,A({variant:"icon",size:"48",ripple:!1},{...i}),{default:p(()=>{var f,m;return[r(H,{color:a.color?o.color:"",size:24,icon:"mdi-volume-high"},null,8,["color"]),$("div",Ka,V(e(t).selectedPlayer.group_childs.length>0?Math.round(((f=e(t).selectedPlayer)==null?void 0:f.group_volume)||0):Math.round(((m=e(t).selectedPlayer)==null?void 0:m.volume_level)||0)),1)]}),_:2},1040)]),_:2},1032,["width","model-value"])])):(d(),k("div",Ja,[r(le,A({...i},{size:"48",variant:"icon"}),{default:p(()=>{var f,m;return[r(H,{color:a.color?o.color:"",icon:"mdi-volume-high"},null,8,["color"]),$("div",{class:"text-caption",style:q({color:a.color?o.color:""})},V(e(t).selectedPlayer.group_childs.length>0?Math.round(((f=e(t).selectedPlayer)==null?void 0:f.group_volume)||0):Math.round(((m=e(t).selectedPlayer)==null?void 0:m.volume_level)||0)),5)]}),_:2},1040)]))]}),default:p(()=>[r(Ne,{"min-width":300},{default:p(()=>[r(_e,{style:{overflow:"hidden"},lines:"two"},{default:p(()=>{var i,n,c;return[r(oe,{density:"compact","two-line":"",title:(i=e(t).selectedPlayer)==null?void 0:i.display_name.substring(0,25),subtitle:(n=e(t).selectedPlayer)!=null&&n.powered?o.$t("state."+((c=e(t).selectedPlayer)==null?void 0:c.state)):o.$t("state.off")},{prepend:p(()=>[r(H,{size:"50",icon:e(t).selectedPlayer.icon,color:"primary"},null,8,["icon"])]),_:1},8,["title","subtitle"]),r(fe),e(t).selectedPlayer?(d(),P(Rt,{key:0,player:e(t).selectedPlayer},null,8,["player"])):Q("",!0)]}),_:1})]),_:1})]),_:1},8,["modelValue","scrim"])])):Q("",!0)}});const Ht=K(Za,[["__scopeId","data-v-2596bf36"]]),eo={class:"main"},to={key:0,class:"main-media-details"},lo={class:"main-media-details-image"},ao={class:"main-media-details-track-info"},oo={key:0},io={style:{margin:"auto","padding-top":"20px"}},so={key:1,class:"main-queue-items"},no={class:"media-thumb listitem-media-thumb"},uo={key:0},ro={class:"player-bottom"},co={style:{height:"50px"}},mo={class:"row",style:{"margin-left":"5%","margin-right":"5%"}},vo={class:"media-controls"},yo=z({__name:"PlayerFullscreen",props:{colorPalette:{}},setup(l){const{t:a}=rl(),{name:s}=dl(),o=T(!0),u=l,i=T([]),n=T(""),c=T(0),f=I(()=>t.activePlayerQueue?i.value.slice(t.activePlayerQueue.current_index):[]),m=I(()=>t.activePlayerQueue?i.value.slice(0,t.activePlayerQueue.current_index):[]),_=I(()=>{switch(s.value){case"xs":return"1.2em";case"sm":return"1.6em";case"md":return"2em";case"lg":return t.showQueueItems?"1.5em":"2.5em";case"xl":return t.showQueueItems?"1.6em":"3em";case"xxl":return t.showQueueItems?"1.7em":"3.2em";default:return"1.0em."}}),v=I(()=>{switch(s.value){case"xs":return"1.0em";case"sm":return"1.2em";case"md":return"1.7em";case"lg":return t.showQueueItems?"1.0em":"1.6em";case"xl":return t.showQueueItems?"1.2em":"2em";case"xxl":return t.showQueueItems?"1.2em":"2em";default:return"1.0em."}}),y=function(C){t.showFullscreenPlayer=!1,we.push({name:C.media_type,params:{itemId:C.item_id,provider:C.provider}})},b=function(C){t.globalSearchTerm=C,we.push({name:"search"}),t.showFullscreenPlayer=!1},g=function(C,h){var R,G,j,Y,ie,ne;const x=i.value.indexOf(h),M=[{label:"play_now",labelArgs:[],action:()=>{L(h,"play_now")},icon:"mdi-play-circle-outline",disabled:x<=(((R=t.activePlayerQueue)==null?void 0:R.index_in_buffer)||0)},{label:"play_next",labelArgs:[],action:()=>{L(h,"move_next")},icon:"mdi-skip-next-circle-outline",disabled:x<=(((G=t.activePlayerQueue)==null?void 0:G.index_in_buffer)||0)},{label:"queue_move_up",labelArgs:[],action:()=>{L(h,"up")},icon:"mdi-arrow-up",disabled:x<=(((j=t.activePlayerQueue)==null?void 0:j.index_in_buffer)||0)},{label:"queue_move_down",labelArgs:[],action:()=>{L(h,"down")},icon:"mdi-arrow-down",disabled:x<=(((Y=t.activePlayerQueue)==null?void 0:Y.index_in_buffer)||0)},{label:"queue_delete",labelArgs:[],action:()=>{L(h,"delete")},icon:"mdi-delete",disabled:x<=(((ie=t.activePlayerQueue)==null?void 0:ie.index_in_buffer)||0)}];((ne=h==null?void 0:h.media_item)==null?void 0:ne.media_type)==se.TRACK&&M.push({label:"show_info",labelArgs:[],action:()=>{y(h.media_item)},icon:"mdi-information-outline",disabled:!1}),Ve.emit("contextmenu",{items:M,posX:C.clientX,posY:C.clientY})},F=function(C){const h=[{label:"settings.player_settings",labelArgs:[],action:()=>{t.showFullscreenPlayer=!1,we.push(`/settings/editplayer/${t.activePlayerQueue.queue_id}`)},icon:"mdi-cog-outline"},{label:"queue_clear",labelArgs:[],action:()=>{w.queueCommandClear(t.activePlayerQueue.queue_id)},icon:"mdi-cancel"},{label:t.activePlayerQueue.shuffle_enabled?"shuffle_enabled":"shuffle_disabled",labelArgs:[],action:()=>{w.queueCommandShuffleToggle(t.activePlayerQueue.queue_id)},icon:t.activePlayerQueue.shuffle_enabled?"mdi-shuffle":"mdi-shuffle-disabled"},{label:"repeat_mode",labelArgs:[a(`repeatmode.${t.activePlayerQueue.repeat_mode}`)],action:()=>{w.queueCommandRepeatToggle(t.activePlayerQueue.queue_id)},icon:t.activePlayerQueue.shuffle_enabled?"mdi-repeat":"mdi-repeat-off"}];Ve.emit("contextmenu",{items:h,posX:C.clientX,posY:C.clientY})},L=function(C,h){var x,M,R,G,j;!C||!t.activePlayerQueue||(h=="play_now"?w.queueCommandPlayIndex((x=t.activePlayerQueue)==null?void 0:x.queue_id,C.queue_item_id):h=="move_next"?w.queueCommandMoveNext((M=t.activePlayerQueue)==null?void 0:M.queue_id,C.queue_item_id):h=="up"?w.queueCommandMoveUp((R=t.activePlayerQueue)==null?void 0:R.queue_id,C.queue_item_id):h=="down"?w.queueCommandMoveDown((G=t.activePlayerQueue)==null?void 0:G.queue_id,C.queue_item_id):h=="delete"&&w.queueCommandDelete((j=t.activePlayerQueue)==null?void 0:j.queue_id,C.queue_item_id))},E=async function(){if(o.value=!0,i.value=[],t.activePlayerQueue){const C=await w.getPlayerQueueItems(t.activePlayerQueue.queue_id,(t.activePlayerQueue.current_index||0)+50,0);i.value=C.items}o.value=!1},N=function({done:C}){var h;if(!o.value){if(i.value.length==0){C("empty");return}if(!t.activePlayerQueue||t.activePlayerQueue.items==0){C("empty");return}if(i.value.length>=((h=t.activePlayerQueue)==null?void 0:h.items)){C("empty");return}C("loading"),w.getPlayerQueueItems(t.activePlayerQueue.queue_id,(t.activePlayerQueue.current_index||0)+50,0).then(x=>{i.value.push(...x.items),C("ok")})}};return Te(()=>{const C=w.subscribe(cl.QUEUE_ITEMS_UPDATED,E);He(C)}),te(()=>t.showQueueItems,C=>{C&&E()},{immediate:!0}),te(()=>u.colorPalette,C=>{!C.darkColor||!C.lightColor?n.value=Ie.theme.current.value.dark?"#000":"#fff":n.value=Ie.theme.current.value.dark?C.darkColor:C.lightColor}),(C,h)=>e(t).showPlayersMenu?Q("",!0):(d(),P(vt,{key:0,modelValue:e(t).showFullscreenPlayer,"onUpdate:modelValue":h[8]||(h[8]=x=>e(t).showFullscreenPlayer=x),fullscreen:"",scrim:!1,transition:"dialog-bottom-transition"},{default:p(()=>[r(Ne,{color:e(Xt)(n.value,77,40)},{default:p(()=>{var x,M,R,G,j,Y,ie,ne,ge,be;return[r(Nl,{class:"v-toolbar-default",color:"transparent"},{prepend:p(()=>[r(le,{icon:"",onClick:h[0]||(h[0]=S=>e(t).showFullscreenPlayer=!1)},{default:p(()=>[r(H,{icon:"mdi-chevron-down"})]),_:1})]),append:p(()=>[r(le,{icon:"",onClick:h[1]||(h[1]=S=>e(t).showFullscreenPlayer=!1)},{default:p(()=>[r(H,{icon:"mdi-dots-vertical",onClick:Me(F,["stop"])})]),_:1})]),_:1}),$("div",eo,[e(B)("bp7")||!e(t).showQueueItems?(d(),k("div",to,[$("div",lo,[r(Ce,{item:e(t).curQueueItem,thumbnail:!1,style:{"max-width":"100%",width:"auto"}},null,8,["item"])]),$("div",ao,[(x=e(t).curQueueItem)!=null&&x.media_item?(d(),k("div",{key:0,style:q(`font-size: ${_.value};cursor:pointer;`),onClick:h[2]||(h[2]=S=>y(e(t).curQueueItem.media_item))},[W(V(e(t).curQueueItem.media_item.name)+" ",1),"version"in e(t).curQueueItem.media_item&&e(t).curQueueItem.media_item.version?(d(),k("span",oo,"( "+V(e(t).curQueueItem.media_item.version)+")",1)):Q("",!0)],4)):(d(),P(Qt,{key:1,style:q(`font-size: ${_.value};cursor:pointer;`),onClick:h[3]||(h[3]=S=>e(t).showPlayersMenu=!0)},{default:p(()=>{var S;return[W(V(((S=e(t).selectedPlayer)==null?void 0:S.display_name)||C.$t("no_player")),1)]}),_:1},8,["style"])),((R=(M=e(t).curQueueItem)==null?void 0:M.media_item)==null?void 0:R.media_type)==e(se).RADIO&&((j=(G=e(t).curQueueItem)==null?void 0:G.streamdetails)!=null&&j.stream_title)?(d(),P(re,{key:2,class:"text-h6 text-md-h5 text-lg-h4",onClick:h[4]||(h[4]=S=>b(e(t).curQueueItem.streamdetails.stream_title))},{default:p(()=>[W(V(e(t).curQueueItem.streamdetails.stream_title),1)]),_:1})):Q("",!0),(Y=e(t).curQueueItem)!=null&&Y.media_item&&"album"in e(t).curQueueItem.media_item&&e(t).curQueueItem.media_item.album?(d(),P(re,{key:3,style:q(`font-size: ${v.value};cursor:pointer;`),onClick:h[5]||(h[5]=S=>y(e(t).curQueueItem.media_item.album))},{default:p(()=>[W(V(e(t).curQueueItem.media_item.album.name),1)]),_:1},8,["style"])):Q("",!0),(ie=e(t).curQueueItem)!=null&&ie.media_item&&"artists"in e(t).curQueueItem.media_item&&e(t).curQueueItem.media_item.artists.length?(d(),P(re,{key:4,style:q(`font-size: ${v.value};cursor:pointer;`),onClick:h[6]||(h[6]=S=>y(e(t).curQueueItem.media_item.artists[0]))},{default:p(()=>[W(V(e(t).curQueueItem.media_item.artists[0].name),1)]),_:1},8,["style"])):Q("",!0),((ne=e(t).selectedPlayer)==null?void 0:ne.active_source)!=((ge=e(t).selectedPlayer)==null?void 0:ge.player_id)?(d(),P(re,{key:5,style:q(`font-size: ${v.value}`)},{default:p(()=>{var S;return[W(V(C.$t("external_source_active",[(S=e(t).selectedPlayer)==null?void 0:S.active_source])),1)]}),_:1},8,["style"])):e(t).activePlayerQueue&&e(t).activePlayerQueue.items==0?(d(),P(re,{key:6,style:q(`font-size: ${v.value}`)},{default:p(()=>[W(V(C.$t("queue_empty")),1)]),_:1},8,["style"])):Q("",!0),$("div",io,[r(Ot)])])])):Q("",!0),e(t).showQueueItems?(d(),k("div",so,[r(Ae,{modelValue:c.value,"onUpdate:modelValue":h[7]||(h[7]=S=>c.value=S),"hide-slider":"",density:"compact"},{default:p(()=>[r(ce,{value:0},{default:p(()=>{var S,ue;return[W(V(C.$t("queue"))+" ",1),r(xe,{color:"grey",content:(((S=e(t).activePlayerQueue)==null?void 0:S.items)||0)-(((ue=e(t).activePlayerQueue)==null?void 0:ue.current_index)||0),inline:""},null,8,["content"])]}),_:1}),r(ce,{value:1},{default:p(()=>{var S;return[W(V(C.$t("played"))+" ",1),r(xe,{color:"grey",content:(S=e(t).activePlayerQueue)==null?void 0:S.current_index,inline:""},null,8,["content"])]}),_:1})]),_:1},8,["modelValue"]),!o.value&&i.value.length?(d(),P(xl,{key:0,items:f.value,onLoad:N,"empty-text":"",height:"100%",margin:"50",style:{"overflow-y":"hidden"}},{default:p(()=>[r(Yl,{"item-height":70,height:"100%","max-height":"100%",items:c.value==0?f.value:m.value},{default:p(({item:S})=>[r($t,{link:"","show-menu-btn":!0,onClick:Me(ue=>g(ue,S),["stop"]),onMenu:Me(ue=>g(ue,S),["stop"])},{prepend:p(()=>[$("div",no,[r(Ce,{size:"50",item:S},null,8,["item"])])]),title:p(()=>[W(V(S.name),1)]),subtitle:p(()=>[W(V(e(ke)(S.duration))+" ",1),S.media_item&&"album"in S.media_item&&S.media_item.album?(d(),k("span",uo," | "+V(S.media_item.album.name),1)):Q("",!0)]),_:2},1032,["onClick","onMenu"])]),_:1},8,["items"])]),_:1},8,["items"])):Q("",!0)])):Q("",!0)]),$("div",ro,[$("div",co,[r(Lt,{style:{position:"absolute","margin-left":"3%",right:"auto"}}),r(Ht,{"responsive-volume-size":!0,style:{position:"absolute","margin-left":"auto",right:"5%"}})]),$("div",mo,[r(Ee,{"is-progress-bar":!1,color:C.$vuetify.theme.current.dark?u.colorPalette.lightColor:u.colorPalette.darkColor},null,8,["color"])]),$("div",vo,[r(Aa,{class:"media-controls-item","max-height":"35px",item:(be=e(t).curQueueItem)==null?void 0:be.media_item},null,8,["item"]),C.$vuetify.display.mdAndUp?(d(),P(Mt,{key:0,class:"media-controls-item","max-height":"30px"})):Q("",!0),r(qt,{class:"media-controls-item","max-height":"45px"}),r(Wt,{class:"media-controls-item","max-height":"100px"}),r(At,{class:"media-controls-item","max-height":"45px"}),C.$vuetify.display.mdAndUp?(d(),P(zt,{key:1,class:"media-controls-item","max-height":"35px"})):Q("",!0),r(Et,{class:"media-controls-item","max-height":"30px"})])])]}),_:1},8,["color"])]),_:1},8,["modelValue"]))}});const po=K(yo,[["__scopeId","data-v-971b699b"]]),fo={key:0},_o={key:1},ho={key:2},go={class:"d-flex justify-center",style:{width:"100%"}},bo={key:0},Po={key:1},ko={key:2,class:"line-clamp-1"},wo={key:3,class:"line-clamp-1"},Co={key:4,class:"line-clamp-1"},Vo={key:5,class:"line-clamp-1"},$o=z({__name:"PlayerTrackDetails",props:{showOnlyArtist:{type:Boolean,default:!1},showQualityDetailsBtn:{type:Boolean,default:!0},colorPalette:{},primaryColor:{default:""}},setup(l){const a=l,s=I(()=>{var o,u;return(u=(o=t.activePlayerQueue)==null?void 0:o.current_item)==null?void 0:u.streamdetails});return(o,u)=>(d(),P(oe,{style:{height:"auto",width:"fit-content",margin:"0px",padding:"0px"},lines:"two"},{prepend:p(()=>{var i;return[$("div",{class:"media-thumb player-media-thumb",style:q(`height: ${e(B)({breakpoint:"phone"})?50:64}px; width: ${e(B)({breakpoint:"phone"})?50:64}px; `)},[r(po,{"show-fullscreen":e(t).showFullscreenPlayer,"color-palette":o.colorPalette},null,8,["show-fullscreen","color-palette"]),r(Ce,{item:((i=e(t).curQueueItem)==null?void 0:i.media_item)||e(t).curQueueItem,fallback:e(ot),style:{cursor:"pointer"},onClick:u[0]||(u[0]=n=>e(t).showFullscreenPlayer=!0)},null,8,["item","fallback"])],4)]}),title:p(()=>{var i,n;return[$("div",{style:q({cursor:"pointer",color:o.primaryColor})},[e(t).curQueueItem&&e(t).curQueueItem.media_item?(d(),k("div",{key:0,onClick:u[1]||(u[1]=c=>e(t).showFullscreenPlayer=!0)},[W(V(e(t).curQueueItem.media_item.name)+" ",1),"version"in e(t).curQueueItem.media_item&&e(t).curQueueItem.media_item.version?(d(),k("span",fo,"("+V(e(t).curQueueItem.media_item.version)+")",1)):Q("",!0)])):e(t).curQueueItem?(d(),k("div",_o,V(e(t).curQueueItem.name),1)):(i=e(t).activePlayerQueue)!=null&&i.display_name?(d(),k("div",ho,V((n=e(t).activePlayerQueue)==null?void 0:n.display_name),1)):(d(),k("div",{key:3,onClick:u[2]||(u[2]=c=>e(t).showPlayersMenu=!0)},V(o.$t("no_player")),1))],4)]}),append:p(()=>{var i,n,c;return[(i=s.value)!=null&&i.audio_format.content_type&&!e(B)({breakpoint:"phone"})&&o.showQualityDetailsBtn?(d(),P(Rl,A({key:0,disabled:!e(t).activePlayerQueue||!((n=e(t).activePlayerQueue)!=null&&n.active)||((c=e(t).activePlayerQueue)==null?void 0:c.items)==0,class:"player-track-content-type",style:o.$vuetify.theme.current.dark?"color: #000; background: #fff; margin-left: 15px;":"color: #fff; background: #000; margin-left: 15px;",label:"",ripple:!1},a),{default:p(()=>[$("div",go,V(s.value.audio_format.content_type.toUpperCase()),1)]),_:1},16,["disabled","style"])):Q("",!0)]}),subtitle:p(()=>{var i,n,c,f,m,_,v,y,b;return[$("div",{style:q({cursor:"pointer",color:o.primaryColor}),class:"line-clamp-1",onClick:u[3]||(u[3]=g=>e(t).showFullscreenPlayer=!0)},[e(t).curQueueItem&&((i=e(t).curQueueItem.media_item)==null?void 0:i.media_type)==e(se).TRACK&&"album"in e(t).curQueueItem.media_item&&e(t).curQueueItem.media_item.album&&!a.showOnlyArtist?(d(),k("div",bo,V(e(Gt)(e(t).curQueueItem.media_item.artists))+"  "+V(e(t).curQueueItem.media_item.album.name),1)):e(t).curQueueItem&&e(t).curQueueItem.media_item&&"artists"in e(t).curQueueItem.media_item&&e(t).curQueueItem.media_item.artists.length>0?(d(),k("div",Po,V(e(t).curQueueItem.media_item.artists[0].name),1)):(c=(n=e(t).curQueueItem)==null?void 0:n.streamdetails)!=null&&c.stream_title?(d(),k("div",ko,V((m=(f=e(t).curQueueItem)==null?void 0:f.streamdetails)==null?void 0:m.stream_title),1)):e(t).curQueueItem&&((_=e(t).curQueueItem.media_item)!=null&&_.metadata.description)?(d(),k("div",wo,V(e(t).curQueueItem.media_item.metadata.description),1)):e(t).activePlayerQueue&&e(t).activePlayerQueue.items==0?(d(),k("div",Co,V(o.$t("queue_empty")),1)):((v=e(t).selectedPlayer)==null?void 0:v.active_source)!=((y=e(t).selectedPlayer)==null?void 0:y.player_id)?(d(),k("div",Vo,V(o.$t("external_source_active",[(b=e(t).selectedPlayer)==null?void 0:b.active_source])),1)):Q("",!0)],4)]}),_:1}))}});const Qo=z({__name:"PlayerExtendedControls",props:{queue:{default:()=>({isVisible:!0,showQueueDialog:!1})},player:{default:()=>({isVisible:!0})},volume:{default:()=>({isVisible:!0,volumeSize:"150px",responsiveVolumeSize:!1})}},setup(l){return(a,s)=>(d(),k(U,null,[a.player&&a.player.isVisible?(d(),P(Lt,{key:0,color:a.player.color,responsive:!0},null,8,["color"])):Q("",!0),a.queue&&a.queue.isVisible?(d(),P(Et,{key:1,color:a.queue.color,style:{"padding-left":"15px","padding-right":"20px"}},null,8,["color"])):Q("",!0),a.volume&&a.volume.isVisible?(d(),P(Ht,{key:2,color:a.volume.color,"volume-size":a.volume.volumeSize,"responsive-volume-size":a.volume.responsiveVolumeSize},null,8,["color","volume-size","responsive-volume-size"])):Q("",!0)],64))}}),Io={style:{width:"100%"}},xo={class:"mediacontrols-bottom-right"},So=z({__name:"Player",props:{useFloatingPlayer:{type:Boolean}},setup(l){it();const a=T({0:"",1:"",2:"",3:"",4:"",5:"",lightColor:"",darkColor:""}),s=new Image;s.src=Ie.theme.current.value.dark?ot:jt,s.crossOrigin="Anonymous",s.addEventListener("load",function(){a.value=Kt(s)});const o=I(()=>Ie.theme.current.value.dark?a.value&&a.value.darkColor?a.value.darkColor+"26":"CCCCCC26":a.value&&a.value.lightColor?a.value.lightColor+"26":"CCCCCC26");return te(()=>{var u;return(u=t.curQueueItem)==null?void 0:u.queue_item_id},()=>{var u;(u=t.curQueueItem)!=null&&u.media_item?s.src=je(t.curQueueItem.media_item,Je.THUMB)||"":t.curQueueItem?s.src=je(t.curQueueItem,Je.THUMB)||"":s.src=""}),(u,i)=>{const n=dt("breakpoint");return d(),k(U,null,[$("div",{class:de(`${u.useFloatingPlayer?"mediacontrols-bg-2":"mediacontrols-bg-1"}`),style:q(`background: ${o.value};`)},null,6),e(B)("bp3")?Qe((d(),P(Ee,{key:0,color:u.$vuetify.theme.current.dark?a.value.lightColor||"#fff":a.value.darkColor||"#000","is-progress-bar":!0},null,8,["color"])),[[n,{breakpoint:"bp3",condition:"lt"}]]):Q("",!0),$("div",{class:"mediacontrols",style:q(`padding: ${e(B)({breakpoint:"phone"})?3:10}px ${e(B)({breakpoint:"phone"}),10}px;`)},[$("div",{class:de(`mediacontrols-left-${e(B)("bp3")?"1":"2"}`)},[r($o,{"show-quality-details-btn":!!e(B)("bp8"),"show-only-artist":!e(B)("bp7"),"color-palette":a.value,"primary-color":u.$vuetify.theme.current.dark?"#fff":"#000"},null,8,["show-quality-details-btn","show-only-artist","color-palette","primary-color"])],2),$("div",{class:de(`mediacontrols-bottom-center-${e(B)("bp3")?"1":"2"}`)},[$("div",Io,[r(lt,{"visible-components":{repeat:{isVisible:e(B)("bp3")},shuffle:{isVisible:e(B)("bp3")},play:{isVisible:!0,icon:{staticWidth:"50px",staticHeight:"50px"}},previous:{isVisible:e(B)("bp3")},next:{isVisible:e(B)("bp3")}}},null,8,["visible-components"]),Qe(r(Ee,{color:u.$vuetify.theme.current.dark?a.value.lightColor||"#fff":a.value.darkColor||"#000","is-progress-bar":!1},null,8,["color"]),[[n,{breakpoint:"mobile",condition:"gt"}]])])],2),$("div",xo,[$("div",null,[r(Qo,{queue:{isVisible:e(B)("bp3"),color:u.$vuetify.theme.current.dark?"#fff":"#000"},player:{isVisible:!0,color:u.$vuetify.theme.current.dark?"#fff":"#000"},volume:{isVisible:!0,color:u.$vuetify.theme.current.dark?"#fff":"#000"}},null,8,["queue","player","volume"]),r(lt,{style:{"padding-right":"5px"},"visible-components":{repeat:{isVisible:!1},shuffle:{isVisible:!1},play:{isVisible:e(B)({breakpoint:"bp3",condition:"lt"}),withCircle:!1,icon:{staticWidth:"48px",staticHeight:"48px",color:u.$vuetify.theme.current.dark?"#fff":"#000"}},previous:{isVisible:!1},next:{isVisible:!1}}},null,8,["visible-components"])])])],4)],64)}}});const To=K(So,[["__scopeId","data-v-30d32c2a"]]);const Bo=J({app:Boolean,color:String,height:{type:[Number,String],default:"auto"},...yt(),...me(),...ft(),...wt(),..._t(),...he({tag:"footer"}),...Be()},"VFooter"),zo=Z()({name:"VFooter",props:Bo(),setup(l,a){let{slots:s}=a;const{themeClasses:o}=De(l),{backgroundColorClasses:u,backgroundColorStyles:i}=Ye(D(l,"color")),{borderClasses:n}=ht(l),{elevationClasses:c}=bt(l),{roundedClasses:f}=Pt(l),m=$e(32),{resizeRef:_}=$l(g=>{g.length&&(m.value=g[0].target.clientHeight)}),v=I(()=>l.height==="auto"?m.value:parseInt(l.height,10)),{layoutItemStyles:y,layoutIsReady:b}=Ct({id:l.name,order:I(()=>parseInt(l.order,10)),position:I(()=>"bottom"),layoutSize:v,elementSize:I(()=>l.height==="auto"?void 0:v.value),active:I(()=>l.app),absolute:D(l,"absolute")});return ee(()=>r(l.tag,{ref:_,class:["v-footer",o.value,u.value,n.value,c.value,f.value,l.class],style:[i.value,l.app?y.value:{height:pe(l.height)},l.style]},s)),l.app?b:{}}}),Mo=z({__name:"Footer",setup(l){const a=I(()=>t.navigationMenuStyle=="horizontal"),s=I(()=>t.navigationMenuStyle!="horizontal"?0:t.isInStandaloneMode?100:80),o=I(()=>a.value?s.value+5:0);return(u,i)=>(d(),k(U,null,[a.value?(d(),k("div",{key:0,class:de(u.$vuetify.theme.current.dark?"gradient-dark":"gradient-light"),style:q(`
      position: fixed;
      width: 100%;
      height: ${s.value+(e(B)("bp3")?100:70)}px;
      bottom: 0px;
      z-index: 999;
    `)},null,6)):Q("",!0),e(t).navigationMenuStyle=="horizontal"?(d(),P(Va,{key:1,height:s.value},null,8,["height"])):Q("",!0),r(zo,{bottom:"",fixed:"",class:de(`d-flex flex-column ${a.value?"mediacontrols-player-float":"mediacontrols-player-default"}`),style:q(`bottom: ${o.value}px;`),elevation:"10",app:""},{default:p(()=>[r(To,{"use-floating-player":a.value},null,8,["use-floating-player"])]),_:1},8,["class","style"])],64))}});const Wo={key:0,class:"text-body-2",style:{"line-height":"1em"}},qo={key:1,class:"text-body-2",style:{"line-height":"1em"}},Ao={key:2,class:"text-body-2",style:{"line-height":"1em"}},Eo=z({__name:"PlayerSelect",setup(l){const a=T(void 0),s=I(()=>{var _,v;const m=[];for(const y in(_=w)==null?void 0:_.players){const b=(v=w)==null?void 0:v.players[y];n(b,!0)&&m.push(b)}return m.slice().sort((y,b)=>{var g;return y.display_name.toUpperCase()>((g=b.display_name)==null?void 0:g.toUpperCase())?1:-1})});te(()=>t.showPlayersMenu,m=>{m||(a.value=void 0)}),te(()=>t.selectedPlayer,m=>{m&&localStorage.setItem("mass.LastPlayerId",m.player_id)}),te(()=>w.players,m=>{m&&c()},{deep:!0}),te(()=>w.state,m=>{m.value!=mt.CONNECTED&&(t.selectedPlayerId=void 0)},{deep:!0});const o=T(),u=T();Te(()=>{var m,_,v;o.value=(v=(_=(m=ml())==null?void 0:m.vnode)==null?void 0:_.el)==null?void 0:v.getRootNode(),c()});const i=function(m){u.value!=m&&(u.value=m,setTimeout(()=>{var v;const _=(v=o.value)==null?void 0:v.getElementById(m);_==null||_.scrollIntoView({behavior:"smooth"})},0))},n=function(m,_=!0,v=!1,y=!1){return!(!m.enabled||!m.available&&!_||m.synced_to&&!v||m.hidden&&!y)},c=function(){if(t.selectedPlayer&&n(t.selectedPlayer,!1,!1,!1))return;const m=f();m&&(t.selectedPlayerId=m.player_id,console.log("Selected new default player: ",m.display_name))},f=function(){const m=localStorage.getItem("mass.LastPlayerId");if(m&&m in w.players&&n(w.players[m],!1,!1,!1)&&w.players[m].powered)return w.players[m]};return(m,_)=>(d(),P(Ut,{modelValue:e(t).showPlayersMenu,"onUpdate:modelValue":_[1]||(_[1]=v=>e(t).showPlayersMenu=v),location:"right",app:"",clipped:"",temporary:"",touchless:"",width:"290",style:{"z-index":"9999"}},{default:p(()=>[r(Qt,{class:"title"},{default:p(()=>[$("b",null,V(m.$t("players")),1)]),_:1}),r(Hl,{modelValue:a.value,"onUpdate:modelValue":_[0]||(_[0]=v=>a.value=v),focusable:"",variant:"accordion",flat:""},{default:p(()=>[(d(!0),k(U,null,X(s.value,v=>(d(),P(Fl,{id:v.player_id,key:v.player_id,disabled:!v.available,flat:"",class:"playerrow"},{default:p(()=>[r(Dl,{"expand-icon":"mdi-chevron-down","collapse-icon":"mdi-chevron-up",onClick:y=>{e(t).selectedPlayerId=v.player_id,i(v.player_id)}},{default:p(()=>[r(oe,{class:"playerrow-list-item"},{prepend:p(()=>[r(H,{size:"45",icon:v.type==e(ve).PLAYER&&v.group_childs.length?"mdi-speaker-multiple":v.icon,color:"primary"},null,8,["icon"])]),title:p(()=>[$("div",null,[$("b",null,V(e(Re)(e(at)(v),20)),1)])]),subtitle:p(()=>[v.powered?v.active_source!=v.player_id&&e(w).queues[v.active_source]?(d(),k("div",qo,V(m.$t("state."+v.state))+" ("+V(e(w).queues[v.active_source].display_name)+") ",1)):(d(),k("div",Ao,V(m.$t("state."+v.state)),1)):(d(),k("div",Wo,V(m.$t("state.off")),1))]),_:2},1024)]),_:2},1032,["onClick"]),r(Ul,null,{default:p(()=>[r(Rt,{player:v},null,8,["player"])]),_:2},1024)]),_:2},1032,["id","disabled"]))),128))]),_:1},8,["modelValue"])]),_:1},8,["modelValue"]))}});const Lo=K(Eo,[["__scopeId","data-v-2ab27364"]]);function Ro(l={}){const{immediate:a=!1,onNeedRefresh:s,onOfflineReady:o,onRegistered:u,onRegisteredSW:i,onRegisterError:n}=l;let c,f,m;const _=async(y=!0)=>{await f,await(m==null?void 0:m())};async function v(){if("serviceWorker"in navigator){if(c=await vl(()=>import("./workbox-window.prod.es5-c46a1faa.js"),[],import.meta.url).then(({Workbox:y})=>new y("./sw.js",{scope:"./",type:"classic"})).catch(y=>{n==null||n(y)}),!c)return;m=async()=>{await(c==null?void 0:c.messageSkipWaiting())};{let y=!1;const b=()=>{y=!0,c==null||c.addEventListener("controlling",g=>{g.isUpdate&&window.location.reload()}),s==null||s()};c.addEventListener("installed",g=>{typeof g.isUpdate>"u"?typeof g.isExternal<"u"?g.isExternal?b():!y&&(o==null||o()):g.isExternal?window.location.reload():!y&&(o==null||o()):g.isUpdate||o==null||o()}),c.addEventListener("waiting",b),c.addEventListener("externalwaiting",b)}c.register({immediate:a}).then(y=>{i?i("./sw.js",y):u==null||u(y)}).catch(y=>{n==null||n(y)})}}return f=v(),_}function Ho(l={}){const{immediate:a=!0,onNeedRefresh:s,onOfflineReady:o,onRegistered:u,onRegisteredSW:i,onRegisterError:n}=l,c=T(!1),f=T(!1);return{updateServiceWorker:Ro({immediate:a,onNeedRefresh(){c.value=!0,s==null||s()},onOfflineReady(){f.value=!0,o==null||o()},onRegistered:u,onRegisteredSW:i,onRegisterError:n}),offlineReady:f,needRefresh:c}}const Fo={key:0,class:"pwa-toast",role:"alert"},Do={class:"message"},Uo={key:0},No={key:1},Yo=z({__name:"ReloadPrompt",setup(l){const{offlineReady:a,needRefresh:s,updateServiceWorker:o}=Ho(),u=async()=>{a.value=!1,s.value=!1};return(i,n)=>e(a)||e(s)?(d(),k("div",Fo,[$("div",Do,[e(a)?(d(),k("span",Uo," App ready to work offline ")):(d(),k("span",No," New content available, click on reload button to update. "))]),e(s)?(d(),k("button",{key:0,onClick:n[0]||(n[0]=c=>e(o)())},"Reload")):Q("",!0),$("button",{onClick:u},"Close")])):Q("",!0)}});const Oo=J({...me(),...Tl({fullHeight:!0}),...Be()},"VApp"),Xo=Z()({name:"VApp",props:Oo(),setup(l,a){let{slots:s}=a;const o=De(l),{layoutClasses:u,getLayoutItem:i,items:n,layoutRef:c}=Bl(l),{rtlClasses:f}=rt();return ee(()=>r("div",{ref:c,class:["v-application",o.themeClasses.value,u.value,f.value,l.class],style:[l.style]},[r("div",{class:"v-application__wrap"},[r(yl,null,{default:()=>{var m;return[r(U,null,[(m=s.default)==null?void 0:m.call(s)])]}})])])),{getLayoutItem:i,items:n,theme:o}}}),pi=z({__name:"Default",setup(l){return(a,s)=>(d(),P(Xo,null,{default:p(()=>[r(Lo),e(w).state.value==e(mt).CONNECTED?(d(),P(oa,{key:0})):(d(),P(El,{key:1},{default:p(()=>[r(Ql,{indeterminate:"",size:"64"})]),_:1})),e(t).isInStandaloneMode?(d(),P(Yo,{key:2})):Q("",!0),r(Mo)]),_:1}))}});export{pi as default};
