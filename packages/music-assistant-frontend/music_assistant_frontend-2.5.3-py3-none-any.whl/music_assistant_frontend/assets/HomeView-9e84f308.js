import{C as K}from"./Container-fdf4c1f5.js";import{d as h,o as X,n as I,c as a,e as p,w as s,R as J,u as m,ab as Z,E as C,g as r,f as n,i as v,t as l,Q as x,F as R,h as $,j as g,M as Y,D as U,r as G,ac as ee,b as c,H as P,_ as te,s as w,ad as ie,U as y,O as ae,z as se,aa as re}from"./index-2dd0c7d2.js";import{P as oe}from"./PanelviewItem-68416368.js";import{s as ne}from"./ItemContextMenu.vue_vue_type_style_index_0_scoped_7aadaa8c_lang-7ff19a96.js";import{b as le,M as ue,i as de}from"./helpers-4d7c5bf6.js";import{q as k,V as me,w as ce,v as _e}from"./VListItem-cb387084.js";import{V as pe}from"./VBadge-91055b8b.js";import{V as j}from"./VToolbar-6047eebf.js";import{_ as q}from"./_plugin-vue_export-helper-c27b6911.js";import{T as ye}from"./Toolbar-1720c469.js";import{V as ve}from"./VCard-907b4685.js";/* empty css              */import"./Button-69b906cf.js";import"./VTooltip-e62b61bd.js";import"./VCheckboxBtn-c3f9b6ff.js";import"./VLabel-1f522f96.js";import"./VMenu-97c1c955.js";import"./VSpacer-e11897c6.js";import"./eventbus-d154090d.js";import"./VList-d110868a.js";import"./VCardText-0ed41581.js";const Q=h({__name:"Carousel",setup(b){return X(()=>{document.documentElement.style.setProperty("--swiper-navigation-color","primary")}),(e,u)=>{const i=I("swiper");return a(),p(i,{"slides-per-view":m(Z)(e.$vuetify.display.width)+.5,"space-between":24,"free-mode":!0,navigation:!m(C)({breakpoint:"mobile"})},{default:s(()=>[J(e.$slots,"default")]),_:3},8,["slides-per-view","navigation"])}}}),we={key:0,class:"widget-row"},fe={class:"mr-3"},he={key:1,class:"mr-3"},be=h({__name:"HomeWidgetRow",props:{widgetRow:{}},setup(b){const e=function(i,t){const o=Array.isArray(t)?t:[t];ne(o,void 0,i.clientX,i.clientY)},u=function(i,t){if(!le(t)){e(i,t);return}t.media_type==Y.FOLDER?U.push({name:"browse",query:{path:t.path}}):["artist","album","playlist"].includes(t.media_type)?U.push({name:t.media_type,params:{itemId:t.item_id,provider:t.provider}}):e(i,t)};return(i,t)=>{const o=I("swiper-slide");return i.widgetRow.items.length?(a(),r("div",we,[n(j,{class:"header",color:"transparent",style:x(i.widgetRow.path?"cursor: pointer; width: fit-content;":"width: fit-content;"),onClick:t[0]||(t[0]=d=>i.widgetRow.path?i.$router.replace(i.widgetRow.path):"")},{prepend:s(()=>[n(k,{icon:i.widgetRow.icon},null,8,["icon"])]),title:s(()=>[i.widgetRow.count?(a(),p(pe,{key:0,inline:"",color:"grey",content:i.widgetRow.count},{default:s(()=>[v("span",fe,l(i.$t(i.widgetRow.label)),1)]),_:1},8,["content"])):(a(),r("span",he,l(i.$t(i.widgetRow.label)),1))]),_:1},8,["style"]),n(Q,null,{default:s(()=>[(a(!0),r(R,null,$(i.widgetRow.items,d=>(a(),p(o,{key:d.uri},{default:s(()=>[n(oe,{item:d,"show-checkboxes":!1,"show-track-number":!1,"is-selected":!1,onMenu:e,onClick:u},null,8,["item"])]),_:2},1024))),128))]),_:1})])):g("",!0)}}});const ge=q(be,[["__scopeId","data-v-2bafe44a"]]),ke=h({__name:"HomeWidgetRows",setup(b){const e=G({recently_played:{label:"recently_played",icon:"mdi-motion-play",items:[]},artists:{label:"artists",icon:"mdi-account-music",path:"/artists",items:[]},albums:{label:"albums",icon:"mdi-album",path:"/albums",items:[]},playlists:{label:"playlists",icon:"mdi-playlist-music",path:"/playlists",items:[]},tracks:{label:"tracks",icon:"mdi-file-music",path:"/tracks",items:[]},radios:{label:"radios",icon:"mdi-radio",path:"/radios",items:[]},browse:{label:"browse",icon:"mdi-folder",path:"/browse",items:[]}});return ee(async()=>{e.value.recently_played.items=await c.getRecentlyPlayedItems(10);const u=await c.getLibraryArtists(void 0,void 0,20,void 0,"RANDOM()");e.value.artists.items=u.items,e.value.artists.count=u.total;const i=await c.getLibraryAlbums(void 0,void 0,20,void 0,"timestamp_added DESC");e.value.albums.items=i.items,e.value.albums.count=i.total;const t=await c.getLibraryPlaylists(void 0,void 0,20,void 0,"timestamp_added DESC");e.value.playlists.items=t.items,e.value.playlists.count=t.total;const o=await c.getLibraryRadios(void 0,void 0,20,void 0,"timestamp_added DESC");e.value.radios.items=o.items,e.value.radios.count=o.total;const d=await c.getLibraryTracks(void 0,void 0,20,void 0,"timestamp_added DESC");e.value.tracks.items=d.items,e.value.tracks.count=d.total}),(u,i)=>(a(!0),r(R,null,$(e.value,t=>(a(),r("div",{key:t.label},[n(ge,{"widget-row":t},null,8,["widget-row"])]))),128))}}),qe={class:"media-thumb player-media-thumb"},Pe={style:{cursor:"pointer"}},Ce={key:0},Ie={key:0},Re={key:1},$e={key:2},Ve={style:{cursor:"pointer"},class:"line-clamp-1"},Ae={key:0},Se={key:1},De={key:2,class:"line-clamp-1"},Ee={key:3,class:"line-clamp-1"},He={key:4,class:"line-clamp-1"},Le={key:5,class:"line-clamp-1"},Me=h({__name:"PanelviewPlayerCard",props:{queue:{}},setup(b){return(e,u)=>(a(),p(ve,{class:ae(["panel-item",{"panel-item-selected":m(w).selectedPlayerId==e.queue.queue_id,"panel-item-idle":e.queue.state==m(y).PAUSED}])},{default:s(()=>[n(me,{class:"panel-item-details",flat:""},{prepend:s(()=>{var i;return[v("div",qe,[n(ue,{size:"60",item:((i=e.queue.current_item)==null?void 0:i.media_item)||e.queue.current_item,fallback:m(de),style:{cursor:"pointer"}},null,8,["item","fallback"])])]}),title:s(()=>{var i,t,o,d,_,f;return[v("div",Pe,[(i=e.queue.current_item)!=null&&i.media_item?(a(),r("div",Ce,[P(l((t=e.queue.current_item)==null?void 0:t.media_item.name)+" ",1),"version"in((o=e.queue.current_item)==null?void 0:o.media_item)&&((d=e.queue.current_item)!=null&&d.media_item.version)?(a(),r("span",Ie,"("+l((_=e.queue.current_item)==null?void 0:_.media_item.version)+")",1)):g("",!0)])):e.queue.current_item?(a(),r("div",Re,l((f=e.queue.current_item)==null?void 0:f.name),1)):(a(),r("div",$e,l(e.queue.display_name),1))])]}),subtitle:s(()=>{var i,t,o,d,_,f,V,A,S,D,E,H,L,M,z,N,T,B,F,O,W;return[v("div",Ve,[(i=e.queue.current_item)!=null&&i.media_item&&((o=(t=e.queue.current_item)==null?void 0:t.media_item)==null?void 0:o.media_type)==m(Y).TRACK&&"album"in((d=e.queue.current_item)==null?void 0:d.media_item)&&((_=e.queue.current_item)!=null&&_.media_item.album)?(a(),r("div",Ae,l(m(te)((f=e.queue.current_item)==null?void 0:f.media_item.artists))+" â€¢ "+l((V=e.queue.current_item)==null?void 0:V.media_item.album.name),1)):(A=e.queue.current_item)!=null&&A.media_item&&"artists"in((S=e.queue.current_item)==null?void 0:S.media_item)&&((D=e.queue.current_item)==null?void 0:D.media_item.artists.length)>0?(a(),r("div",Se,l((E=e.queue.current_item)==null?void 0:E.media_item.artists[0].name),1)):(L=(H=e.queue.current_item)==null?void 0:H.streamdetails)!=null&&L.stream_title?(a(),r("div",De,l((z=(M=e.queue.current_item)==null?void 0:M.streamdetails)==null?void 0:z.stream_title),1)):(T=(N=e.queue.current_item)==null?void 0:N.media_item)!=null&&T.metadata.description?(a(),r("div",Ee,l((B=e.queue.current_item)==null?void 0:B.media_item.metadata.description),1)):e.queue.items==0?(a(),r("div",He,l(e.$t("queue_empty")),1)):((F=m(w).selectedPlayer)==null?void 0:F.active_source)!=((O=m(w).selectedPlayer)==null?void 0:O.player_id)?(a(),r("div",Le,l(e.$t("external_source_active",[(W=m(w).selectedPlayer)==null?void 0:W.active_source])),1)):g("",!0)])]}),default:s(()=>[v("h6",null,l(e.queue.display_name),1)]),append:s(()=>[n(ce,{icon:"",variant:"text",onClick:u[0]||(u[0]=ie(i=>m(c).queueCommandPlayPause(e.queue.queue_id),["stop"]))},{default:s(()=>[e.queue.state==m(y).PLAYING?(a(),p(k,{key:0,size:m(C)({breakpoint:"phone"})?"24":"32"},{default:s(()=>[P("mdi-pause-circle-outline")]),_:1},8,["size"])):(a(),p(k,{key:1,size:m(C)({breakpoint:"phone"})?"24":"32"},{default:s(()=>[P("mdi-play-circle-outline")]),_:1},8,["size"]))]),_:1})]),_:1})]),_:1},8,["class"]))}});const ze=q(Me,[["__scopeId","data-v-bd08efe7"]]),Ne={key:0,class:"widget-row"},Te={class:"mr-3"},Be=h({__name:"HomeCurrentlyPlayingRow",setup(b){const e={[y.PLAYING]:1,[y.PAUSED]:2,[y.IDLE]:2},u=se(()=>Object.values(c.queues).filter(t=>t.active&&t.items>0&&t.queue_id in c.players&&c.players[t.queue_id].powered&&[y.PLAYING,y.PAUSED].includes(c.players[t.queue_id].state)).sort((t,o)=>t.display_name.localeCompare(o.display_name)).sort((t,o)=>e[t.state]-e[o.state]));function i(t){t&&t.queue_id in c.players&&(w.selectedPlayerId==t.queue_id?w.showFullscreenPlayer=!0:w.selectedPlayerId=t.queue_id)}return(t,o)=>{const d=I("swiper-slide");return u.value.length?(a(),r("div",Ne,[n(j,{class:"header",color:"transparent",style:{width:"fit-content"}},{prepend:s(()=>[n(k,{icon:"mdi-play-circle-outline"})]),title:s(()=>[v("span",Te,l(t.$t("currently_playing")),1)]),_:1}),n(Q,null,{default:s(()=>[(a(!0),r(R,null,$(u.value,_=>(a(),p(d,{key:_.queue_id,style:{"min-width":"300px","max-width":"500px"}},{default:s(()=>[n(ze,{queue:_,onClick:f=>i(_)},null,8,["queue","onClick"])]),_:2},1024))),128))]),_:1})])):g("",!0)}}});const Fe=q(Be,[["__scopeId","data-v-5e4e2af0"]]),Oe=h({__name:"HomeView",setup(b){const e=G(localStorage.getItem("frontend.settings.hide_settings")=="true");return(u,i)=>(a(),r("div",null,[n(ye,{title:"Music Assistant","menu-items":e.value?[]:[{label:"settings.settings",icon:"mdi-cog-outline",action:()=>{u.$router.push({path:"settings"})}}]},null,8,["menu-items"]),n(K,{variant:"panel"},{default:s(()=>[(a(),p(re,null,{fallback:s(()=>[n(_e,{indeterminate:""})]),default:s(()=>[v("div",null,[n(Fe),n(ke)])]),_:1}))]),_:1})]))}});const dt=q(Oe,[["__scopeId","data-v-bd1d26ba"]]);export{dt as default};
