"use strict";(self.webpackChunknearbeach=self.webpackChunknearbeach||[]).push([[6890],{3744:(t,a)=>{a.Z=(t,a)=>{const o=t.__vccOpts||t;for(const[t,s]of a)o[t]=s;return o}},7045:(t,a,o)=>{o.d(a,{Z:()=>f});var s=o(6252),e=o(3577);const r=["src"],i={class:"organisation-name"},n=["href"],l={class:"organisation-link"},c=["href"],u={class:"organisation-email"},d=["href"];var h=o(989),g=o(6542),m=o(5808);const p={name:"ListOrganisations",components:{Icon:g.JO},props:{organisationResults:{type:Array,default:()=>[]}},computed:{...(0,h.Se)({rootUrl:"getRootUrl",staticUrl:"getStaticUrl"})},mixins:[m.Z],methods:{getProfilePicture(t){const a=t.fields.organisation_profile_picture;return""===a||null===a?`${this.staticUrl}NearBeach/images/placeholder/product_tour.svg`:`${this.rootUrl}private/${a}`}}},f=(0,o(3744).Z)(p,[["render",function(t,a,o,h,g,m){const p=(0,s.up)("Icon");return(0,s.wg)(!0),(0,s.iD)(s.HY,null,(0,s.Ko)(o.organisationResults,(a=>((0,s.wg)(),(0,s.iD)("div",{key:a.id,class:"organisation-details"},[(0,s._)("img",{src:m.getProfilePicture(a),alt:"Stakeholder Logo",class:"organisation-image"},null,8,r),(0,s._)("div",i,[(0,s._)("a",{href:`${t.rootUrl}organisation_information/${a.pk}/`},(0,e.toDisplayString)(a.fields.organisation_name),9,n)]),(0,s._)("div",l,[(0,s.Wm)(p,{icon:t.icons.linkOut},null,8,["icon"]),(0,s.Uk)(" Website: "),(0,s._)("a",{href:a.fields.organisation_website,target:"_blank",rel:"noopener noreferrer"},(0,e.toDisplayString)(a.fields.organisation_website),9,c)]),(0,s._)("div",u,[(0,s.Wm)(p,{icon:t.icons.mailIcon},null,8,["icon"]),(0,s.Uk)(" Email: "),(0,s._)("a",{href:`mailto:${a.fields.organisation_email}`},(0,e.toDisplayString)(a.fields.organisation_email),9,d)])])))),128)}]])},5106:(t,a,o)=>{o.r(a),o.d(a,{default:()=>_});var s=o(6252),e=o(9963);const r={class:"card"},i={class:"card-body"},n=(0,s._)("h1",null,"Search Organisations",-1),l=(0,s._)("br",null,null,-1),c={class:"form-group"},u=(0,s._)("label",null,"Search:",-1),d=(0,s._)("hr",null,null,-1),h={key:0,class:"alert alert-warning"},g=(0,s._)("hr",null,null,-1),m={class:"row submit-row"},p={class:"col-md-12"},f=["href"],Z={name:"SearchOrganisations",components:{ListOrganisations:o(7045).Z},props:{organisationResults:{type:Array,default:()=>[]},rootUrl:{type:String,default:"/"},staticUrl:{type:String,default:"/"}},data(){return{localOrganisationResults:this.organisationResults,searchModel:"",searchTimeout:""}},methods:{getSearchResults(){const t=new FormData;t.set("search",this.searchModel),this.axios.post(`${this.rootUrl}search/organisation/data/`,t).then((t=>{this.localOrganisationResults=t.data})).catch((t=>{}))}},watch:{searchModel(){""!==this.searchTimeout&&clearTimeout(this.searchTimeout),this.searchModel.length>=3&&(this.searchTimeout=setTimeout((()=>{this.getSearchResults()}),500))}},mounted(){this.$store.commit({type:"updateUrl",rootUrl:this.rootUrl,staticUrl:this.staticUrl})}},_=(0,o(3744).Z)(Z,[["render",function(t,a,o,Z,_,U){const k=(0,s.up)("list-organisations");return(0,s.wg)(),(0,s.iD)("div",r,[(0,s._)("div",i,[(0,s.kq)(" HEADING "),n,l,(0,s.kq)(" SEARCH FIELD "),(0,s._)("div",c,[u,(0,s.wy)((0,s._)("input",{type:"text",class:"form-control search-organisation","onUpdate:modelValue":a[0]||(a[0]=t=>_.searchModel=t)},null,512),[[e.vModelText,_.searchModel]])]),(0,s.kq)(" LIST OUT SEARCH RESULTS "),d,(0,s.Wm)(k,{"organisation-results":_.localOrganisationResults},null,8,["organisation-results"]),(0,s.kq)(" SHOW IF NO RESULTS "),0===_.localOrganisationResults.length?((0,s.wg)(),(0,s.iD)("div",h," There are no organisations with the search parameters used. Please try again. ")):(0,s.kq)("v-if",!0),g,(0,s._)("div",m,[(0,s._)("div",p,[(0,s._)("a",{href:`${o.rootUrl}new_organisation/`,class:"btn btn-primary save-changes"}," Add new Organisation ",8,f)])])])])}]])},5808:(t,a,o)=>{o.d(a,{Z:()=>R});var s=o(3985),e=o(5555),r=o(1826),i=o(6443),n=o(1327),l=o(8521),c=o(1056),u=o(4324),d=o(9672),h=o(9867),g=o(1239),m=o(5004),p=o(1321),f=o(1216),Z=o(5550),_=o(7702),U=o(7903),k=o(2606),S=o(3843),v=o(2393),w=o(3360),b=o(9714),y=o(1323),I=o(2610),O=o(5968);const R={data:()=>({icons:{arrowUp:s.Z,bugIcon:e.Z,bxBriefcase:r.Z,cardChecklist:i.Z,clipboardIcon:n.Z,documentPdf:l.Z,documentText:c.Z,folderIcon:u.Z,groupPresentation:d.Z,imageIcon:h.Z,infoCircle:g.Z,linkIcon:m.Z,linkIcon2:p.Z,linkOut:f.Z,mailIcon:Z.Z,microsoftExcel:_.Z,microsoftPowerpoint:U.Z,microsoftWord:k.Z,noteAdd:S.Z,objectStorage:v.Z,passwordIcon:w.Z,trashCan:b.Z,userIcon:y.Z,usersIcon:I.Z,xCircle:O.Z}})}}}]);