"use strict";(self.webpackChunknearbeach=self.webpackChunknearbeach||[]).push([[6765],{6916:(e,n,t)=>{t.d(n,{Z:()=>C});var a=t(6252),o=t(2262),r=t(834),i=t(9960),l=t(5103),s=t(6135),d=t(9699),c=t(2366),u=t(3079),h=t(945),b=t(1263),p=t(2326),v=t(6810),m=t(5944),g=t(3910);const f={name:"Switch",common:t(8373).Z,self:e=>{const{primaryColor:n,opacityDisabled:t,borderRadius:a,textColor3:o}=e;return Object.assign(Object.assign({},g.Z),{iconColor:o,textColor:"white",loadingColor:n,opacityDisabled:t,railColor:"rgba(0, 0, 0, .14)",railColorActive:n,buttonBoxShadow:"0 1px 4px 0 rgba(0, 0, 0, 0.3), inset 0 0 1px 0 rgba(0, 0, 0, 0.05)",buttonColor:"#FFF",railBorderRadiusSmall:a,railBorderRadiusMedium:a,railBorderRadiusLarge:a,buttonBorderRadiusSmall:a,buttonBorderRadiusMedium:a,buttonBorderRadiusLarge:a,boxShadowFocus:`0 0 0 2px ${(0,m.zX)(n,{alpha:.2})}`})}};var y=t(9197),w=t(9474);const k=(0,w.cB)("switch","\n height: var(--n-height);\n min-width: var(--n-width);\n vertical-align: middle;\n user-select: none;\n -webkit-user-select: none;\n display: inline-flex;\n outline: none;\n justify-content: center;\n align-items: center;\n",[(0,w.cE)("children-placeholder","\n height: var(--n-rail-height);\n display: flex;\n flex-direction: column;\n overflow: hidden;\n pointer-events: none;\n visibility: hidden;\n "),(0,w.cE)("rail-placeholder","\n display: flex;\n flex-wrap: none;\n "),(0,w.cE)("button-placeholder","\n width: calc(1.75 * var(--n-rail-height));\n height: var(--n-rail-height);\n "),(0,w.cB)("base-loading","\n position: absolute;\n top: 50%;\n left: 50%;\n transform: translateX(-50%) translateY(-50%);\n font-size: calc(var(--n-button-width) - 4px);\n color: var(--n-loading-color);\n transition: color .3s var(--n-bezier);\n ",[(0,y.c)({left:"50%",top:"50%",originalTransform:"translateX(-50%) translateY(-50%)"})]),(0,w.cE)("checked, unchecked","\n transition: color .3s var(--n-bezier);\n color: var(--n-text-color);\n box-sizing: border-box;\n position: absolute;\n white-space: nowrap;\n top: 0;\n bottom: 0;\n display: flex;\n align-items: center;\n line-height: 1;\n "),(0,w.cE)("checked","\n right: 0;\n padding-right: calc(1.25 * var(--n-rail-height) - var(--n-offset));\n "),(0,w.cE)("unchecked","\n left: 0;\n justify-content: flex-end;\n padding-left: calc(1.25 * var(--n-rail-height) - var(--n-offset));\n "),(0,w.c)("&:focus",[(0,w.cE)("rail","\n box-shadow: var(--n-box-shadow-focus);\n ")]),(0,w.cM)("round",[(0,w.cE)("rail","border-radius: calc(var(--n-rail-height) / 2);",[(0,w.cE)("button","border-radius: calc(var(--n-button-height) / 2);")])]),(0,w.u4)("disabled",[(0,w.u4)("icon",[(0,w.cM)("rubber-band",[(0,w.cM)("pressed",[(0,w.cE)("rail",[(0,w.cE)("button","max-width: var(--n-button-width-pressed);")])]),(0,w.cE)("rail",[(0,w.c)("&:active",[(0,w.cE)("button","max-width: var(--n-button-width-pressed);")])]),(0,w.cM)("active",[(0,w.cM)("pressed",[(0,w.cE)("rail",[(0,w.cE)("button","left: calc(100% - var(--n-offset) - var(--n-button-width-pressed));")])]),(0,w.cE)("rail",[(0,w.c)("&:active",[(0,w.cE)("button","left: calc(100% - var(--n-offset) - var(--n-button-width-pressed));")])])])])])]),(0,w.cM)("active",[(0,w.cE)("rail",[(0,w.cE)("button","left: calc(100% - var(--n-button-width) - var(--n-offset))")])]),(0,w.cE)("rail","\n overflow: hidden;\n height: var(--n-rail-height);\n min-width: var(--n-rail-width);\n border-radius: var(--n-rail-border-radius);\n cursor: pointer;\n position: relative;\n transition:\n opacity .3s var(--n-bezier),\n background .3s var(--n-bezier),\n box-shadow .3s var(--n-bezier);\n background-color: var(--n-rail-color);\n ",[(0,w.cE)("button-icon","\n color: var(--n-icon-color);\n transition: color .3s var(--n-bezier);\n font-size: calc(var(--n-button-height) - 4px);\n position: absolute;\n left: 0;\n right: 0;\n top: 0;\n bottom: 0;\n display: flex;\n justify-content: center;\n align-items: center;\n line-height: 1;\n ",[(0,y.c)()]),(0,w.cE)("button",'\n align-items: center; \n top: var(--n-offset);\n left: var(--n-offset);\n height: var(--n-button-height);\n width: var(--n-button-width-pressed);\n max-width: var(--n-button-width);\n border-radius: var(--n-button-border-radius);\n background-color: var(--n-button-color);\n box-shadow: var(--n-button-box-shadow);\n box-sizing: border-box;\n cursor: inherit;\n content: "";\n position: absolute;\n transition:\n background-color .3s var(--n-bezier),\n left .3s var(--n-bezier),\n opacity .3s var(--n-bezier),\n max-width .3s var(--n-bezier),\n box-shadow .3s var(--n-bezier);\n ')]),(0,w.cM)("active",[(0,w.cE)("rail","background-color: var(--n-rail-color-active);")]),(0,w.cM)("loading",[(0,w.cE)("rail","\n cursor: wait;\n ")]),(0,w.cM)("disabled",[(0,w.cE)("rail","\n cursor: not-allowed;\n opacity: .5;\n ")])]),_=Object.assign(Object.assign({},l.Z.props),{size:{type:String,default:"medium"},value:{type:[String,Number,Boolean],default:void 0},loading:Boolean,defaultValue:{type:[String,Number,Boolean],default:!1},disabled:{type:Boolean,default:void 0},round:{type:Boolean,default:!0},"onUpdate:value":[Function,Array],onUpdateValue:[Function,Array],checkedValue:{type:[String,Number,Boolean],default:!0},uncheckedValue:{type:[String,Number,Boolean],default:!1},railStyle:Function,rubberBand:{type:Boolean,default:!0},onChange:[Function,Array]});let x;const C=(0,a.aZ)({name:"Switch",props:_,setup(e){void 0===x&&(x="undefined"==typeof CSS||void 0!==CSS.supports&&CSS.supports("width","max(1px)"));const{mergedClsPrefixRef:n,inlineThemeDisabled:t}=(0,s.Z)(e),u=(0,l.Z)("Switch","-switch",k,f,e,n),h=(0,d.Z)(e),{mergedSizeRef:v,mergedDisabledRef:m}=h,g=(0,o.iH)(e.defaultValue),y=(0,o.Vh)(e,"value"),w=(0,i.Z)(y,g),_=(0,a.Fl)((()=>w.value===e.checkedValue)),C=(0,o.iH)(!1),B=(0,o.iH)(!1),$=(0,a.Fl)((()=>{const{railStyle:n}=e;if(n)return n({focused:B.value,checked:_.value})}));function R(n){const{"onUpdate:value":t,onChange:a,onUpdateValue:o}=e,{nTriggerFormInput:r,nTriggerFormChange:i}=h;t&&(0,b.R)(t,n),o&&(0,b.R)(o,n),a&&(0,b.R)(a,n),g.value=n,r(),i()}const S=(0,a.Fl)((()=>{const{value:e}=v,{self:{opacityDisabled:n,railColor:t,railColorActive:a,buttonBoxShadow:o,buttonColor:i,boxShadowFocus:l,loadingColor:s,textColor:d,iconColor:c,[(0,p.T)("buttonHeight",e)]:h,[(0,p.T)("buttonWidth",e)]:b,[(0,p.T)("buttonWidthPressed",e)]:m,[(0,p.T)("railHeight",e)]:g,[(0,p.T)("railWidth",e)]:f,[(0,p.T)("railBorderRadius",e)]:y,[(0,p.T)("buttonBorderRadius",e)]:w},common:{cubicBezierEaseInOut:k}}=u.value;let _,C,B;return x?(_=`calc((${g} - ${h}) / 2)`,C=`max(${g}, ${h})`,B=`max(${f}, calc(${f} + ${h} - ${g}))`):(_=(0,r.BL)(((0,r.fQ)(g)-(0,r.fQ)(h))/2),C=(0,r.BL)(Math.max((0,r.fQ)(g),(0,r.fQ)(h))),B=(0,r.fQ)(g)>(0,r.fQ)(h)?f:(0,r.BL)((0,r.fQ)(f)+(0,r.fQ)(h)-(0,r.fQ)(g))),{"--n-bezier":k,"--n-button-border-radius":w,"--n-button-box-shadow":o,"--n-button-color":i,"--n-button-width":b,"--n-button-width-pressed":m,"--n-button-height":h,"--n-height":C,"--n-offset":_,"--n-opacity-disabled":n,"--n-rail-border-radius":y,"--n-rail-color":t,"--n-rail-color-active":a,"--n-rail-height":g,"--n-rail-width":f,"--n-width":B,"--n-box-shadow-focus":l,"--n-loading-color":s,"--n-text-color":d,"--n-icon-color":c}})),E=t?(0,c.F)("switch",(0,a.Fl)((()=>v.value[0])),S,e):void 0;return{handleClick:function(){e.loading||m.value||(w.value!==e.checkedValue?R(e.checkedValue):R(e.uncheckedValue))},handleBlur:function(){B.value=!1,function(){const{nTriggerFormBlur:e}=h;e()}(),C.value=!1},handleFocus:function(){B.value=!0,function(){const{nTriggerFormFocus:e}=h;e()}()},handleKeyup:function(n){e.loading||m.value||" "===n.key&&(w.value!==e.checkedValue?R(e.checkedValue):R(e.uncheckedValue),C.value=!1)},handleKeydown:function(n){e.loading||m.value||" "===n.key&&(n.preventDefault(),C.value=!0)},mergedRailStyle:$,pressed:C,mergedClsPrefix:n,mergedValue:w,checked:_,mergedDisabled:m,cssVars:t?void 0:S,themeClass:null==E?void 0:E.themeClass,onRender:null==E?void 0:E.onRender}},render(){const{mergedClsPrefix:e,mergedDisabled:n,checked:t,mergedRailStyle:o,onRender:r,$slots:i}=this;null==r||r();const{checked:l,unchecked:s,icon:d,"checked-icon":c,"unchecked-icon":b}=i,p=!((0,v.aD)(d)&&(0,v.aD)(c)&&(0,v.aD)(b));return(0,a.h)("div",{role:"switch","aria-checked":t,class:[`${e}-switch`,this.themeClass,p&&`${e}-switch--icon`,t&&`${e}-switch--active`,n&&`${e}-switch--disabled`,this.round&&`${e}-switch--round`,this.loading&&`${e}-switch--loading`,this.pressed&&`${e}-switch--pressed`,this.rubberBand&&`${e}-switch--rubber-band`],tabindex:this.mergedDisabled?void 0:0,style:this.cssVars,onClick:this.handleClick,onFocus:this.handleFocus,onBlur:this.handleBlur,onKeyup:this.handleKeyup,onKeydown:this.handleKeydown},(0,a.h)("div",{class:`${e}-switch__rail`,"aria-hidden":"true",style:o},(0,v.K9)(l,(n=>(0,v.K9)(s,(t=>n||t?(0,a.h)("div",{"aria-hidden":!0,class:`${e}-switch__children-placeholder`},(0,a.h)("div",{class:`${e}-switch__rail-placeholder`},(0,a.h)("div",{class:`${e}-switch__button-placeholder`}),n),(0,a.h)("div",{class:`${e}-switch__rail-placeholder`},(0,a.h)("div",{class:`${e}-switch__button-placeholder`}),t)):null)))),(0,a.h)("div",{class:`${e}-switch__button`},(0,v.K9)(d,(n=>(0,v.K9)(c,(t=>(0,v.K9)(b,(o=>(0,a.h)(u.Z,null,{default:()=>this.loading?(0,a.h)(h.Z,{key:"loading",clsPrefix:e,strokeWidth:20}):this.checked&&(t||n)?(0,a.h)("div",{class:`${e}-switch__button-icon`,key:t?"checked-icon":"icon"},t||n):this.checked||!o&&!n?null:(0,a.h)("div",{class:`${e}-switch__button-icon`,key:o?"unchecked-icon":"icon"},o||n)}))))))),(0,v.K9)(l,(n=>n&&(0,a.h)("div",{key:"checked",class:`${e}-switch__checked`},n))),(0,v.K9)(s,(n=>n&&(0,a.h)("div",{key:"unchecked",class:`${e}-switch__unchecked`},n))))))}})},7846:(e,n,t)=>{t.r(n),t.d(n,{default:()=>B});var a=t(6252),o=t(3577);const r={class:"card"},i={class:"card-body"},l=(0,a._)("hr",null,null,-1),s={class:"row"},d={class:"col-md-4"},c=(0,a._)("h2",null,"Columns & Levels",-1),u=(0,a._)("p",{class:"text-instructions"}," Drag the cards around to sort out the columns how you want them. ",-1),h=(0,a._)("strong",null,"Rename Columns & Levels",-1),b=(0,a._)("p",{class:"text-instructions"}," To rename any level or object, double click on the card. This will bring up the card's properties. ",-1),p={class:"col-md-4"},v={class:"col-md-4"},m=(0,a._)("hr",null,null,-1),g={class:"row submit-row"},f={class:"col-md-12"};var y=t(6916),w=t(9338),k=t(5705),_=t(760),x=t(624);const C={name:"KanbanEditBoard",setup:()=>({v$:(0,k.ZP)()}),components:{KanbanPropertyOrder:w.Z,NSwitch:y.Z},props:{isReadOnly:{type:Boolean,default:!1},columnResults:{type:Array,default:()=>[]},kanbanBoardResults:{type:Array,default:()=>[]},levelResults:{type:Array,default:()=>[]},locationId:{type:Number,default:0},rootUrl:{type:String,default:"/"},staticUrl:{type:String,default:"/"},theme:{type:String,default:""},userLevel:{type:Number,default:0}},mixins:[x.Z],data:()=>({canDragCards:!1,columnModel:[],levelModel:[]}),validations:{columnModel:{required:_.C1},levelModel:{required:_.C1}},methods:{backToBoard(){window.location.href=`${this.rootUrl}kanban_information/${this.kanbanBoardResults[0].pk}/`},updateCanDragCards(e){this.$store.commit({type:"updateCanDragCards",canDragCards:e})},updatePropertyList(e){this[e.source]=e.data}},mounted(){this.$store.commit({type:"updateDestination",destination:"kanban_board",locationId:this.locationId}),this.$store.commit({type:"updateUrl",rootUrl:this.rootUrl,staticUrl:this.staticUrl}),this.$store.commit({type:"updateUserLevel",userLevel:this.userLevel}),this.columnModel=this.columnResults.map((e=>({id:e.pk,property:e.fields.kanban_column_property,title:e.fields.kanban_column_name}))),this.levelModel=this.levelResults.map((e=>({id:e.pk,property:"",title:e.fields.kanban_level_name}))),this.updateCanDragCards(!1)}},B=(0,t(3744).Z)(C,[["render",function(e,n,t,y,w,k){const _=(0,a.up)("n-switch"),x=(0,a.up)("kanban-property-order"),C=(0,a.up)("n-config-provider");return(0,a.wg)(),(0,a.j4)(C,{theme:e.getTheme(t.theme)},{default:(0,a.w5)((()=>[(0,a._)("div",r,[(0,a._)("div",i,[(0,a._)("h1",null,(0,o.toDisplayString)(t.kanbanBoardResults[0].fields.kanban_board_name),1),l,(0,a.kq)(" Properties for the drag and drop coloumns/levels "),(0,a._)("div",s,[(0,a._)("div",d,[c,u,h,b,(0,a.Wm)(_,{value:w.canDragCards,"onUpdate:value":[n[0]||(n[0]=e=>w.canDragCards=e),k.updateCanDragCards]},{checked:(0,a.w5)((()=>[(0,a.Uk)(" Can Drag Cards ")])),unchecked:(0,a.w5)((()=>[(0,a.Uk)(" Card Position Locked ")])),_:1},8,["value","onUpdate:value"])]),(0,a._)("div",p,[(0,a.Wm)(x,{"is-read-only":t.isReadOnly,"property-name":"Column","property-list":w.columnModel,source:"columnModel","is-dirty":y.v$.columnModel.$dirty,"is-new-mode":!1,"kanban-board-id":t.kanbanBoardResults[0].pk,onUpdate_property_list:n[1]||(n[1]=e=>k.updatePropertyList(e))},null,8,["is-read-only","property-list","is-dirty","kanban-board-id"])]),(0,a._)("div",v,[(0,a.Wm)(x,{"is-read-only":t.isReadOnly,"property-name":"Level","property-list":w.levelModel,source:"levelModel","is-dirty":y.v$.columnModel.$dirty,"is-new-mode":!1,"kanban-board-id":t.kanbanBoardResults[0].pk,onUpdate_property_list:n[2]||(n[2]=e=>k.updatePropertyList(e))},null,8,["is-read-only","property-list","is-dirty","kanban-board-id"])])]),(0,a.kq)(" SAVE "),m,(0,a._)("div",g,[(0,a._)("div",f,[(0,a._)("button",{class:"btn btn-primary save-changes",onClick:n[3]||(n[3]=(...e)=>k.backToBoard&&k.backToBoard(...e))}," Back to Kanban Board ")])])])])])),_:1},8,["theme"])}]])}}]);