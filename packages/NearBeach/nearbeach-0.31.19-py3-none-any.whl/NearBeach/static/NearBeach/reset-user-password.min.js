"use strict";(self.webpackChunknearbeach=self.webpackChunknearbeach||[]).push([[7682],{3744:(s,e)=>{e.Z=(s,e)=>{const o=s.__vccOpts||s;for(const[s,a]of e)o[s]=a;return o}},4801:(s,e,o)=>{o.r(e),o.d(e,{default:()=>T});var a=o(6252),t=o(9963);const d={class:"card"},r={class:"card-body"},l=(0,a._)("h2",null,"Reset Password",-1),n=(0,a._)("hr",null,null,-1),i={class:"row"},c=(0,a._)("div",{class:"col-md-4"},[(0,a._)("strong",null,"Passwords"),(0,a._)("p",{class:"text-instructions"}," Users have the ability to reset their password from the login page. If needed, please click on the link to be taken to the password reset form. ")],-1),p={class:"col-md-8"},u={class:"modal fade",id:"passwordResetModal",tabindex:"-1","aria-labelledby":"exampleModalLabel","aria-hidden":"true"},w={class:"modal-dialog"},m={class:"modal-content"},h={class:"modal-header"},b=(0,a._)("button",{type:"button",class:"btn-close","data-bs-dismiss":"modal","aria-label":"Close",id:"passwordResetCloseButton"},[(0,a._)("span",{"aria-hidden":"true"})],-1),v={class:"modal-body"},_={class:"row"},Z={class:"col-md-6"},f=(0,a._)("label",null,"Password",-1),g={class:"col-md-6"},M=(0,a._)("label",null,"Confirm Password",-1),y={class:"row"},k={class:"col-md-12"},P={key:0,class:"col-md-12"},C=[(0,a._)("span",{class:"error"},"Passwords need to be the same ",-1)],R={class:"modal-footer"},I=["disabled"];var $=o(3138),x=o(6542),U=o(989),D=o(5808),S=o(5705),B=o(760),E=o(7939);const O={name:"ResetUserPassword",setup:()=>({v$:(0,S.ZP)()}),components:{Icon:x.JO,ValidationRendering:E.Z},props:{location:{type:String,default:"/"},username:{type:Number,default:0}},mixins:[D.Z],data:()=>({password1Model:"",password2Model:""}),validations:{password1Model:{required:B.C1,minLength:(0,B.Ei)(8)}},watch:{password1Model(){this.v$.$validate()},password2Model(){this.v$.$validate()}},computed:{...(0,U.Se)({rootUrl:"getRootUrl"}),disableButton(){let s=this.password1Model===this.password2Model,e=this.password1Model.length>=8;return!(s&&!0===e)}},methods:{closeModal(){this.password1Model="",this.password2Model="",document.getElementById("passwordResetCloseButton").click()},passwordResetClicked(){new $.u_(document.getElementById("passwordResetModal")).show()},updatePassword(){const s=new FormData;s.set("password",this.password1Model),s.set("username",this.username),this.axios.post(`${this.rootUrl}${this.location}update_user_password/`,s).then((()=>{this.closeModal()})).catch((s=>{let e="There was an issue trying to save your password.";if(void 0!==s.response){e="Please fix the following issues: ";for(const[o,a]of Object.entries(s.response.data))e+=`${o} - ${a[0].message} `}this.$store.dispatch("newToast",{header:"Error Updating User Password",message:e,extra_classes:"bg-danger",delay:0})}))}}},T=(0,o(3744).Z)(O,[["render",function(s,e,o,$,x,U){const D=(0,a.up)("Icon"),S=(0,a.up)("validation-rendering");return(0,a.wg)(),(0,a.iD)("div",null,[(0,a._)("div",d,[(0,a._)("div",r,[l,n,(0,a.kq)(" PASSWORD "),(0,a._)("div",i,[c,(0,a._)("div",p,[(0,a._)("button",{type:"button",class:"btn btn-warning",onClick:e[0]||(e[0]=(...s)=>U.passwordResetClicked&&U.passwordResetClicked(...s))}," Password Reset ")])])])]),(0,a.kq)(" PASSWORD RESET MODAL "),(0,a._)("div",u,[(0,a._)("div",w,[(0,a._)("div",m,[(0,a._)("div",h,[(0,a._)("h2",null,[(0,a.Wm)(D,{icon:s.icons.passwordIcon},null,8,["icon"]),(0,a.Uk)(" Reset User Password ")]),b]),(0,a._)("div",v,[(0,a._)("div",_,[(0,a._)("div",Z,[f,(0,a.wy)((0,a._)("input",{type:"password",class:"form-control","onUpdate:modelValue":e[1]||(e[1]=s=>x.password1Model=s)},null,512),[[t.vModelText,x.password1Model]])]),(0,a._)("div",g,[M,(0,a.wy)((0,a._)("input",{type:"password",class:"form-control","onUpdate:modelValue":e[2]||(e[2]=s=>x.password2Model=s)},null,512),[[t.vModelText,x.password2Model]])])]),(0,a._)("div",y,[(0,a._)("div",k,[(0,a.Wm)(S,{"error-list":$.v$.password1Model.$errors},null,8,["error-list"]),x.password1Model!==x.password2Model?((0,a.wg)(),(0,a.iD)("div",P,C)):(0,a.kq)("v-if",!0)])])]),(0,a._)("div",R,[(0,a._)("button",{type:"button",class:"btn btn-secondary",onClick:e[3]||(e[3]=(...s)=>U.closeModal&&U.closeModal(...s))}," Close "),(0,a._)("button",{type:"button",class:"btn btn-primary",onClick:e[4]||(e[4]=(...s)=>U.updatePassword&&U.updatePassword(...s)),disabled:U.disableButton}," Update Password ",8,I)])])])])])}]])},7939:(s,e,o)=>{o.d(e,{Z:()=>r});var a=o(6252),t=o(3577);const d={name:"ValidationRendering",props:{errorList:{type:Array,default:()=>[]}}},r=(0,o(3744).Z)(d,[["render",function(s,e,o,d,r,l){return(0,a.wg)(!0),(0,a.iD)(a.HY,null,(0,a.Ko)(o.errorList,(s=>((0,a.wg)(),(0,a.iD)("span",{class:"error",key:s.$uid},(0,t.toDisplayString)(s.$message),1)))),128)}]])},5808:(s,e,o)=>{o.d(e,{Z:()=>I});var a=o(3985),t=o(5555),d=o(1826),r=o(6443),l=o(1327),n=o(8521),i=o(1056),c=o(4324),p=o(9672),u=o(9867),w=o(1239),m=o(5004),h=o(1321),b=o(1216),v=o(5550),_=o(7702),Z=o(7903),f=o(2606),g=o(3843),M=o(2393),y=o(3360),k=o(9714),P=o(1323),C=o(2610),R=o(5968);const I={data:()=>({icons:{arrowUp:a.Z,bugIcon:t.Z,bxBriefcase:d.Z,cardChecklist:r.Z,clipboardIcon:l.Z,documentPdf:n.Z,documentText:i.Z,folderIcon:c.Z,groupPresentation:p.Z,imageIcon:u.Z,infoCircle:w.Z,linkIcon:m.Z,linkIcon2:h.Z,linkOut:b.Z,mailIcon:v.Z,microsoftExcel:_.Z,microsoftPowerpoint:Z.Z,microsoftWord:f.Z,noteAdd:g.Z,objectStorage:M.Z,passwordIcon:y.Z,trashCan:k.Z,userIcon:P.Z,usersIcon:C.Z,xCircle:R.Z}})}}}]);