"use strict";(self.webpackChunknearbeach=self.webpackChunknearbeach||[]).push([[2074],{3744:(e,s)=>{s.Z=(e,s)=>{const l=e.__vccOpts||e;for(const[e,r]of s)l[e]=r;return l}},9265:(e,s,l)=>{l.r(s),l.d(s,{default:()=>W});var r=l(6252),a=l(9963);const o={class:"card"},t={class:"card-body"},d=(0,r._)("h1",null,"New User",-1),n=(0,r._)("hr",null,null,-1),i={class:"row"},c=(0,r._)("div",{class:"col-md-4"},[(0,r._)("strong",null,"New User"),(0,r._)("p",{class:"text-instructions"}," Please create a unique username, followed by the basic user details. ")],-1),u={class:"col-md-8"},m=(0,r._)("hr",null,null,-1),p={class:"row"},w=(0,r._)("div",{class:"col-md-4"},[(0,r._)("strong",null,"User Details"),(0,r._)("p",{class:"text-instructions"}," Please fill out the user details. ")],-1),_={class:"col-md-8"},v={class:"row"},M={class:"col-md-6"},h={class:"col-md-6"},f={class:"col-md-6"},U=(0,r._)("hr",null,null,-1),y={class:"row"},$=(0,r._)("div",{class:"col-md-4"},[(0,r._)("strong",null,"Passwords"),(0,r._)("p",{class:"text-instructions"}," Please type in a user password. The user will be able to reset their password to log in. ")],-1),g={class:"col-md-8"},b={class:"row"},N={class:"col-md-6"},x={class:"col-md-6"},k=(0,r._)("hr",null,null,-1),q={class:"row submit-row"},C={class:"col-md-12"};var D=l(5705),P=l(760),T=l(7939);const V=P.BM.regex(/^[0-9a-zA-Z,_@+.\-]{1,150}$/),Z={name:"NewUser",setup:()=>({v$:(0,D.ZP)()}),components:{ValidationRendering:T.Z},props:{rootUrl:{type:String,default:"/"}},data:()=>({emailModel:"",firstNameModel:"",lastNameModel:"",password1Model:"",password2Model:"",usernameModel:""}),validations:{emailModel:{required:P.C1,email:P.Do},firstNameModel:{required:P.C1},lastNameModel:{required:P.C1},password1Model:{required:P.C1},password2Model:{required:P.C1},usernameModel:{required:P.C1,usernameRegex:P.BM.withMessage("Required. 150 characters or fewer. Usernames may contain alphanumeric, _, @, +, . and - characters.",V)}},methods:{addUser:async function(){if(!await this.v$.$validate())return;const e=new FormData;e.set("username",this.usernameModel),e.set("email",this.emailModel),e.set("first_name",this.firstNameModel),e.set("last_name",this.lastNameModel),e.set("password1",this.password1Model),e.set("password2",this.password2Model),this.axios.post(`${this.rootUrl}new_user/save/`,e).then((e=>{window.location.href=e.data})).catch((e=>{this.$store.dispatch("newToast",{header:"Failed to create user",message:`Sorry. Failed to create user. Error -> ${e}`,extra_classes:"bg-danger",delay:0})}))}}},W=(0,l(3744).Z)(Z,[["render",function(e,s,l,D,P,T){const V=(0,r.up)("validation-rendering");return(0,r.wg)(),(0,r.iD)("div",o,[(0,r._)("div",t,[d,n,(0,r.kq)(" Username "),(0,r._)("div",i,[c,(0,r._)("div",u,[(0,r._)("label",null,[(0,r.Uk)("Username: "),(0,r.Wm)(V,{"error-list":D.v$.usernameModel.$errors},null,8,["error-list"])]),(0,r.wy)((0,r._)("input",{type:"text","onUpdate:modelValue":s[0]||(s[0]=e=>P.usernameModel=e),class:"form-control"},null,512),[[a.vModelText,P.usernameModel]])])]),m,(0,r.kq)(" User Details "),(0,r._)("div",p,[w,(0,r._)("div",_,[(0,r._)("div",v,[(0,r._)("div",M,[(0,r._)("label",null,[(0,r.Uk)("First Name: "),(0,r.Wm)(V,{"error-list":D.v$.firstNameModel.$errors},null,8,["error-list"])]),(0,r.wy)((0,r._)("input",{type:"text","onUpdate:modelValue":s[1]||(s[1]=e=>P.firstNameModel=e),class:"form-control"},null,512),[[a.vModelText,P.firstNameModel]])]),(0,r._)("div",h,[(0,r._)("label",null,[(0,r.Uk)("Last Name: "),(0,r.Wm)(V,{"error-list":D.v$.lastNameModel.$errors},null,8,["error-list"])]),(0,r.wy)((0,r._)("input",{type:"text","onUpdate:modelValue":s[2]||(s[2]=e=>P.lastNameModel=e),class:"form-control"},null,512),[[a.vModelText,P.lastNameModel]])]),(0,r._)("div",f,[(0,r._)("label",null,[(0,r.Uk)("Email: "),(0,r.Wm)(V,{"error-list":D.v$.emailModel.$errors},null,8,["error-list"])]),(0,r.wy)((0,r._)("input",{type:"email","onUpdate:modelValue":s[3]||(s[3]=e=>P.emailModel=e),class:"form-control"},null,512),[[a.vModelText,P.emailModel]])])])])]),U,(0,r.kq)(" User Password "),(0,r._)("div",y,[$,(0,r._)("div",g,[(0,r._)("div",b,[(0,r._)("div",N,[(0,r._)("label",null,[(0,r.Uk)(" Password "),(0,r.Wm)(V,{"error-list":D.v$.password1Model.$errors},null,8,["error-list"])]),(0,r.wy)((0,r._)("input",{type:"password","onUpdate:modelValue":s[4]||(s[4]=e=>P.password1Model=e),class:"form-control"},null,512),[[a.vModelText,P.password1Model]])]),(0,r._)("div",x,[(0,r._)("label",null,[(0,r.Uk)(" Retype Password "),(0,r.Wm)(V,{"error-list":D.v$.password2Model.$errors},null,8,["error-list"])]),(0,r.wy)((0,r._)("input",{type:"password","onUpdate:modelValue":s[5]||(s[5]=e=>P.password2Model=e),class:"form-control"},null,512),[[a.vModelText,P.password2Model]])])])])]),k,(0,r._)("div",q,[(0,r._)("div",C,[(0,r._)("a",{href:"javascript:void(0)",class:"btn btn-primary save-changes",onClick:s[6]||(s[6]=(...e)=>T.addUser&&T.addUser(...e))}," Add new User ")])])])])}]])},7939:(e,s,l)=>{l.d(s,{Z:()=>t});var r=l(6252),a=l(3577);const o={name:"ValidationRendering",props:{errorList:{type:Array,default:()=>[]}}},t=(0,l(3744).Z)(o,[["render",function(e,s,l,o,t,d){return(0,r.wg)(!0),(0,r.iD)(r.HY,null,(0,r.Ko)(l.errorList,(e=>((0,r.wg)(),(0,r.iD)("span",{class:"error",key:e.$uid},(0,a.toDisplayString)(e.$message),1)))),128)}]])}}]);