"use strict";(self.webpackChunknearbeach=self.webpackChunknearbeach||[]).push([[68],{3744:(t,e)=>{e.Z=(t,e)=>{const s=t.__vccOpts||t;for(const[t,a]of e)s[t]=a;return s}},8904:(t,e,s)=>{s.r(e),s.d(e,{default:()=>R});var a=s(6252),i=s(9963),o=s(3577);const r={class:"card"},l={class:"card-body"},n=(0,a._)("h1",null,"Search Notifications",-1),c=(0,a._)("hr",null,null,-1),h={class:"form-row"},u={class:"form-group"},d=(0,a._)("label",null,"Search:",-1),f=(0,a._)("hr",null,null,-1),g={key:0,class:"list-group"},m=["href"],p=(0,a._)("br",null,null,-1),_={class:"small-text"},w={key:1,class:"alert alert-warning"},y=(0,a._)("hr",null,null,-1),v={class:"row submit-row"},S={class:"col-md-12"},b=["href"],k={name:"SearchNotifications",props:{notificationResults:{type:Array,default:()=>[]},rootUrl:{type:String,default:"/"}},data(){return{localNotificationResults:this.notificationResults,searchModel:"",searchTimeout:""}},methods:{getSearchResults(){const t=new FormData;t.set("search",this.searchModel),this.axios.post(`${this.rootUrl}search/notification/data/`,t).then((t=>{this.localNotificationResults=t.data})).catch((t=>{this.$store.dispatch("newToast",{header:"Error getting search results",message:`Sorry, we could not retrieve the search results. Error -> ${t}`,extra_classes:"bg-danger",delay:0})}))}},watch:{searchModel(){""!==this.searchTimeout&&clearTimeout(this.searchTimeout),this.searchModel.length>=3&&(this.searchTimeout=setTimeout((()=>{this.getSearchResults()}),500))}}},R=(0,s(3744).Z)(k,[["render",function(t,e,s,k,R,D){return(0,a.wg)(),(0,a.iD)("div",r,[(0,a._)("div",l,[n,c,(0,a.kq)(" SEARCH FIELD"),(0,a._)("div",h,[(0,a._)("div",u,[d,(0,a.wy)((0,a._)("input",{type:"text",class:"form-control search-organisation","onUpdate:modelValue":e[0]||(e[0]=t=>R.searchModel=t),maxlength:"250"},null,512),[[i.vModelText,R.searchModel]])])]),f,(0,a.kq)(" Search Results "),R.localNotificationResults.length>0?((0,a.wg)(),(0,a.iD)("div",g,[((0,a.wg)(!0),(0,a.iD)(a.HY,null,(0,a.Ko)(R.localNotificationResults,(t=>((0,a.wg)(),(0,a.iD)("a",{class:"list-group-item list-group-item-action",key:t.pk,href:`/notification_information/${t.pk}/`},[(0,a._)("strong",null,(0,o.toDisplayString)(t.fields.notification_header),1),p,(0,a._)("p",_,(0,o.toDisplayString)(t.fields.notification_message),1)],8,m)))),128))])):((0,a.wg)(),(0,a.iD)("div",w," Sorry, there are no notifications ")),y,(0,a._)("div",v,[(0,a._)("div",S,[(0,a._)("a",{href:`${s.rootUrl}new_notification/`,class:"btn btn-primary save-changes"}," Add new Notification ",8,b)])])])])}]])}}]);