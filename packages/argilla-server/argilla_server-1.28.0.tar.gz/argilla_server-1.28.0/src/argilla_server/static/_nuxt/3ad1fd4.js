(window.webpackJsonp=window.webpackJsonp||[]).push([[20,218],{1115:function(t,i,o){"use strict";o(898)},1116:function(t,i,o){var a=o(84),r=o(90),c=o(91),l=o(92),u=a((function(t){return t[1]})),h=r(c),d=r(l);u.push([t.i,'/*!\n * coding=utf-8\n * Copyright 2021-present, the Recognai S.L. team.\n *\n * Licensed under the Apache License, Version 2.0 (the "License");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n *     http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an "AS IS" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n */@font-face{font-family:"raptor_v2_premiumbold";font-style:normal;font-weight:400;src:url('+h+') format("woff2"),url('+d+') format("woff")}/*!\n * coding=utf-8\n * Copyright 2021-present, the Recognai S.L. team.\n *\n * Licensed under the Apache License, Version 2.0 (the "License");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n *     http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an "AS IS" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n *//*!\n * coding=utf-8\n * Copyright 2021-present, the Recognai S.L. team.\n *\n * Licensed under the Apache License, Version 2.0 (the "License");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n *     http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an "AS IS" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n *//*!\n * coding=utf-8\n * Copyright 2021-present, the Recognai S.L. team.\n *\n * Licensed under the Apache License, Version 2.0 (the "License");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n *     http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an "AS IS" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n *//*!\n * coding=utf-8\n * Copyright 2021-present, the Recognai S.L. team.\n *\n * Licensed under the Apache License, Version 2.0 (the "License");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n *     http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an "AS IS" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n *//*!\n * coding=utf-8\n * Copyright 2021-present, the Recognai S.L. team.\n *\n * Licensed under the Apache License, Version 2.0 (the "License");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n *     http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an "AS IS" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n *//*!\n * coding=utf-8\n * Copyright 2021-present, the Recognai S.L. team.\n *\n * Licensed under the Apache License, Version 2.0 (the "License");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n *     http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an "AS IS" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n */.custom-cursor[data-v-ba322896]{cursor:pointer;position:fixed;transform:translate(-50%,-50%)}.custom-cursor__message[data-v-ba322896]{background:#fff;border-radius:5px;box-shadow:1px 1px 3px 0 rgba(0,0,0,.15);color:rgba(0,0,0,.87);font-size:12px;font-size:.75rem;line-height:1;padding:4px;position:fixed;transform:translate(-50%,calc(-50% - 30px));z-index:1}.textual[data-v-ba322896]{background:var(--f98180d4);border:1px solid #fff;cursor:none;height:22px;pointer-events:none;width:4px}.textual.entity[data-v-ba322896]{z-index:200}.textual.entity[data-v-ba322896]:before{background:var(--f98180d4);border-radius:5px;bottom:16px;box-shadow:1px 1px 3px 0 rgba(0,0,0,.15);color:rgba(0,0,0,.87);content:attr(data-entity-name);font-size:10px;font-size:.625rem;height:auto;left:50%;line-height:1em;margin:0;padding:4px;position:absolute;text-transform:uppercase;transform:translate(-50%,-50%);white-space:nowrap}',""]),u.locals={},t.exports=u},1152:function(t,i,o){"use strict";o.r(i);o(15),o(72),o(6),o(86),o(30),o(27),o(26);var a=o(0),r=o(152),c=o(301),l=o(14),u=o(33),h=o(1),d=o(2),p=(o(28),o(44),o(49),o(31),o(1205),o(51),o(1206),o(113),o(48),o(32),o(23),o(22),o(39),o(67),o(68),function(){function SpanSelection(){Object(h.a)(this,SpanSelection),this.selections=[]}return Object(d.a)(SpanSelection,[{key:"spans",get:function get(){return Object(u.a)(this.selections)}},{key:"crateSpan",value:function crateSpan(t,i){if(t&&!this.isOutOfRange(t)){var o=Object.assign({},t),a=this.selections.filter((function(t){return t.node.id===o.node.id}));if(!(null==i?void 0:i.allowCharacter)){if(this.isEmpty(o.text))return;this.completeLeftSide(o),this.completeRightSide(o)}var r=this.selections.filter((function(t){return o.from<=t.from&&o.to>=t.to||o.from>=t.from&&o.to<=t.to||o.from<t.from&&o.to>t.from||o.from<t.to&&o.to>t.to}));(null==i?void 0:i.allowOverlap)||(this.selections=[].concat(Object(u.a)(this.selections.filter((function(t){return t.node.id!==o.node.id}))),Object(u.a)(a.filter((function(t){return!r.includes(t)})))));var c=o.from,l=o.to,h=o.entity,d=o.text,p=o.node;return{from:c,to:l,entity:h,text:d,node:{element:p.element,id:p.id}}}}},{key:"addSpan",value:function addSpan(t,i){var o=this.crateSpan(t,i);o&&this.select(o)}},{key:"select",value:function select(t){if(!this.exists(t)){this.completeOutOfBoundaries(t);var i=this.selections.filter((function(i){return t.from<=i.from&&t.to>=i.to||t.from>=i.from&&t.to<=i.to||t.from<i.from&&t.to>i.from||t.from<i.to&&t.to>i.to})).reduce((function(t,i){return Math.max(t,i.overlap.level)}),0)+1,o=Object.assign(Object.assign({},t),{overlap:{level:i,index:i-1}});this.selections.push(o)}}},{key:"loadSpans",value:function loadSpans(t){var i=this;t.forEach((function(t){return i.select(t)}))}},{key:"replaceEntity",value:function replaceEntity(t,i){var o=this,a=this.selections.find((function(i){return o.createId(i)===o.createId(t)}));a&&(a.entity=i)}},{key:"clear",value:function clear(){this.selections=[]}},{key:"removeSpan",value:function removeSpan(t){var i=this;this.selections=this.selections.filter((function(o){return i.createId(o)!==i.createId(t)}))}},{key:"completeOutOfBoundaries",value:function completeOutOfBoundaries(t){t.from=Math.max(0,t.from),t.to=Math.min(t.node.element.textContent.length,t.to)}},{key:"isOutOfRange",value:function isOutOfRange(t){return t.from<0||t.to<0}},{key:"exists",value:function exists(t){var i=this;return this.selections.some((function(o){return i.createId(o)===i.createId(t)}))}},{key:"completeLeftSide",value:function completeLeftSide(t){for(;;){var i=t.node.text.charAt(t.from-1);if(this.isEmpty(i)||this.isSymbol(i)||0===t.to)break;var o=t.text.charAt(0);if(this.isEmpty(o)){t.from++,t.text=t.text.slice(1);break}t.from--,t.text="".concat(i).concat(t.text)}}},{key:"completeRightSide",value:function completeRightSide(t){for(;;){var i=t.node.text.charAt(t.to);if(this.isEmpty(i)||this.isSymbol(i)||t.to===t.node.text.length-1)break;var o=t.text.charAt(t.text.length-1);if(this.isEmpty(o)){t.to--,t.text=t.text.slice(0,-1);break}t.to++,t.text="".concat(t.text).concat(i)}}},{key:"isEmpty",value:function isEmpty(t){return" "===t||"\n"===t}},{key:"isSymbol",value:function isSymbol(t){return!["0","1","2","3","4","5","6","7","8","9"].includes(t)&&t.toLowerCase()===t.toUpperCase()}},{key:"createId",value:function createId(t){return"".concat(t.from,"-").concat(t.to,"-").concat(t.entity.id,"-").concat(t.node.id)}}],[{key:"getInstance",value:function getInstance(){return this.instance||(this.instance=new SpanSelection),this.instance}}])}());function _createForOfIteratorHelper(t,i){var o="undefined"!=typeof Symbol&&t[Symbol.iterator]||t["@@iterator"];if(!o){if(Array.isArray(t)||(o=function _unsupportedIterableToArray(t,i){if(!t)return;if("string"==typeof t)return _arrayLikeToArray(t,i);var o=Object.prototype.toString.call(t).slice(8,-1);"Object"===o&&t.constructor&&(o=t.constructor.name);if("Map"===o||"Set"===o)return Array.from(t);if("Arguments"===o||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(o))return _arrayLikeToArray(t,i)}(t))||i&&t&&"number"==typeof t.length){o&&(t=o);var a=0,r=function F(){};return{s:r,n:function n(){return a>=t.length?{done:!0}:{done:!1,value:t[a++]}},e:function e(t){throw t},f:r}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var c,l=!0,u=!1;return{s:function s(){o=o.call(t)},n:function n(){var t=o.next();return l=t.done,t},e:function e(t){u=!0,c=t},f:function f(){try{l||null==o.return||o.return()}finally{if(u)throw c}}}}function _arrayLikeToArray(t,i){(null==i||i>t.length)&&(i=t.length);for(var o=0,a=new Array(i);o<i;o++)a[o]=t[o];return a}var g=function(){return Object(d.a)((function Highlighting(t,i,o,a){var r=this;Object(h.a)(this,Highlighting),this.nodeId=t,this.EntityComponentConstructor=i,this.spanSelection=p.getInstance(),this.entity=null,this.scroll=function(){r.applyEntityStyle()},this.styles=Object.assign({entitiesGap:16,lineHeight:o.allowOverlap?48:32,spanContainerId:"entity-span-container-".concat(t),entityCssKey:"hl"},a),this.config=Object.assign({allowOverlap:!1,allowCharacter:!1,lineHeight:this.styles.lineHeight},o)}),[{key:"spans",get:function get(){return Object(u.a)(this.spanSelection.spans)}},{key:"entitySpanContainer",get:function get(){var t=this.styles.spanContainerId,i=document.getElementById(t);return i||((i=document.createElement("div")).id=t),i}},{key:"mount",value:function mount(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[];if(!CSS.highlights)throw new Error("The CSS Custom Highlight API is not supported in this browser!");var i=document.getElementById(this.nodeId);if(!i)throw new Error("Node with id ".concat(this.nodeId," not found"));this.attachNode(i),this.loadHighlights(t)}},{key:"unmount",value:function unmount(){this.removeAllHighlights()}},{key:"changeSelectedEntity",value:function changeSelectedEntity(t){this.entity=t}},{key:"allowCharacterAnnotation",value:function allowCharacterAnnotation(t){this.config.allowCharacter=t,this.showPreSelection()}},{key:"replaceEntity",value:function replaceEntity(t,i){this.spanSelection.replaceEntity(t,i),this.applyStyles()}},{key:"removeAllHighlights",value:function removeAllHighlights(){this.spanSelection.clear(),this.applyStyles()}},{key:"loadHighlights",value:function loadHighlights(t){var i=this;if(!this.node)throw new Error("Node not attached, use `attachNode` method with HTMLElement that contains the text to select");var o=t.map((function(t){return Object.assign(Object.assign({},t),{text:"",node:{element:i.node.firstChild,id:i.nodeId}})}));this.spanSelection.loadSpans(o),this.applyStyles()}},{key:"updateLineHeight",value:function updateLineHeight(){var t=this.spans.reduce((function(t,i){return Math.max(t,i.overlap.level)}),0),i=t>2?this.styles.lineHeight+this.styles.entitiesGap*Math.max(0,t-2):this.styles.lineHeight;this.config.lineHeight=i}},{key:"attachNode",value:function attachNode(t){var i=this;this.node=t,t.parentNode.appendChild(this.entitySpanContainer.cloneNode(!0)),this.node.addEventListener("click",(function(){i.highlightUserSelection(),i.applyStyles()})),document.addEventListener("selectionchange",(function(){i.showSelection(),i.showPreSelection()})),new ResizeObserver((function(){return i.applyStyles()})).observe(t),this.applyStylesOnScroll()}},{key:"showSelection",value:function showSelection(){if(this.entity){var t="".concat(this.styles.entityCssKey,"-").concat(this.entity.id,"-selection"),i=this.createTextSelection();if(!i)return CSS.highlights.delete(t);if((null==i?void 0:i.node.id)===this.nodeId){var o=this.createRange(i);o&&CSS.highlights.set(t,new Highlight(o))}}}},{key:"showPreSelection",value:function showPreSelection(){if(this.entity){var t="".concat(this.styles.entityCssKey,"-").concat(this.entity.id,"-pre-selection"),i=this.createTextSelection();if(!i)return CSS.highlights.delete(t);if(i.node.id===this.nodeId){var o=this.spanSelection.crateSpan(i,this.config);if(o){var a=this.createRange(Object.assign(Object.assign({},o),{from:o.from,to:i.from})),r=this.createRange(Object.assign(Object.assign({},o),{from:i.to,to:o.to}));a&&r&&CSS.highlights.set(t,new Highlight(a,r))}}}}},{key:"applyStylesOnScroll",value:function applyStylesOnScroll(){var t;this.scrollingElement&&this.scrollingElement.removeEventListener("scroll",this.scroll),this.scrollingElement=this.getScrollParent(this.entitySpanContainer),this.scrollingElement&&(this.scrollingElement.removeEventListener("scroll",this.scroll),null===(t=this.scrollingElement)||void 0===t||t.addEventListener("scroll",this.scroll))}},{key:"highlightUserSelection",value:function highlightUserSelection(){var t=this.createTextSelection(!0);this.spanSelection.addSpan(t,this.config)}},{key:"getSelectedText",value:function getSelectedText(){if(window.getSelection)return window.getSelection()}},{key:"applyStyles",value:function applyStyles(){CSS.highlights&&(this.applyHighlightStyle(),this.applyEntityStyle())}},{key:"applyHighlightStyle",value:function applyHighlightStyle(){var t,i=this,o=arguments.length>0&&void 0!==arguments[0]?arguments[0]:function(t){return"".concat(i.styles.entityCssKey,"-").concat(t.entity.id)},a={},r=_createForOfIteratorHelper(this.spans);try{for(r.s();!(t=r.n()).done;){var h=t.value,d=o(h);a[d]||(a[d]=[]);var p=this.createRange(h);a[d].push(p)}}catch(t){r.e(t)}finally{r.f()}CSS.highlights.clear();for(var g=0,y=Object.entries(a);g<y.length;g++){var m=Object(l.a)(y[g],2),v=m[0],S=m[1];CSS.highlights.set(v,Object(c.a)(Highlight,Object(u.a)(S.flat())))}}},{key:"hoverSpan",value:function hoverSpan(t,i){var o=this;this.applyHighlightStyle((function(a){return t===a&&i?"".concat(o.styles.entityCssKey,"-").concat(a.entity.id,"-hover"):"".concat(o.styles.entityCssKey,"-").concat(a.entity.id)}))}},{key:"applyEntityStyle",value:function applyEntityStyle(){for(var t=this;this.entitySpanContainer.firstChild;)this.entitySpanContainer.removeChild(this.entitySpanContainer.firstChild);this.updateLineHeight();var i,o=_createForOfIteratorHelper(this.spans);try{var a=function _loop(){var o=i.value;if(o.node.id!==t.nodeId)return 1;var a=t.createPosition(o),r=t.EntityComponentConstructor(o,a,(function(i){return t.hoverSpan(o,i)}),(function(i){return t.removeSpan(i)}),(function(i){return t.replaceEntity(o,i)}),(function(i,o){return t.addSpanBaseOn(i,o)}));t.entitySpanContainer.appendChild(r)};for(o.s();!(i=o.n()).done;)a()}catch(t){o.e(t)}finally{o.f()}}},{key:"addSpanBaseOn",value:function addSpanBaseOn(t,i){if(t.entity.id!==i.id){var o=Object.assign(Object.assign({},t),{entity:i});this.spanSelection.select(o),this.applyStyles()}}},{key:"createPosition",value:function createPosition(t){var i=this.createRange(Object.assign(Object.assign({},t),{to:t.from+1})).getBoundingClientRect(),o=this.createRange(Object.assign(Object.assign({},t),{from:t.to-1})).getBoundingClientRect(),a=this.createRange(t).getBoundingClientRect(),r=this.entitySpanContainer.getBoundingClientRect(),c=this.entitySpanContainer.scrollTop,l=i.left,u=i.top,h=o.right,d=o.top,p=a.width,g={left:l,top:u+window.scrollY+this.styles.entitiesGap/10,width:p,right:h+window.scrollX,topEnd:d+window.scrollY};return t.overlap.level>0&&(g.top+=this.styles.entitiesGap*t.overlap.index,g.topEnd+=this.styles.entitiesGap*t.overlap.index),{top:g.top-r.top+c,left:g.left-r.left,width:g.width,topEnd:g.topEnd-r.top+c,right:g.right-r.left,lineHeight:this.config.lineHeight,baseEntityGap:this.styles.entitiesGap}}},{key:"removeSpan",value:function removeSpan(t){this.spanSelection.removeSpan(t);var i=this.spans;this.removeAllHighlights(),this.loadHighlights(i)}},{key:"createRange",value:function createRange(t){var i=t.from,o=t.to,a=t.node;try{var r=new Range;return r.setStart(a.element,i),r.setEnd(a.element,o),r}catch(t){}}},{key:"createTextSelection",value:function createTextSelection(){var t=arguments.length>0&&void 0!==arguments[0]&&arguments[0],i=this.getSelectedText();if("Range"===(null==i?void 0:i.type)&&this.entity){var o=i.toString(),a=i.anchorOffset,r=i.focusOffset,c={from:Math.min(a,r),to:Math.max(a,r),text:o,entity:this.entity,node:{id:this.nodeId,element:i.focusNode,text:i.focusNode.textContent}};return t&&i.empty(),c}}},{key:"getScrollParent",value:function getScrollParent(t){return null==t?null:t.scrollHeight>t.clientHeight?t:this.getScrollParent(t.parentNode)}}])}(),y=o(1244),m=function useSpanAnnotationTextFieldViewModel(t){var i=t.spanQuestion,o=t.id,c=Object(r.f)(!0),l=i.answer,u={allowOverlap:i.settings.allow_overlapping},h=function selectEntity(t){l.options.forEach((function(i){i.isSelected=i.id===(null==t?void 0:t.id)})),d.value.changeSelectedEntity(t)},d=Object(r.f)(new g(o,(function entityComponentFactory(t,o,r,c,u,p){var g,m=a.default.extend(y.default),v=l.options.find((function(i){return i.id===t.entity.id})),S=null===(g=i.suggestion)||void 0===g?void 0:g.getSuggestion({start:t.from,end:t.to,label:null==v?void 0:v.value}),w=d.value.spans.filter((function(i){return i.from===t.from&&i.to===t.to})),b=new m({propsData:{span:t,spanInRange:w,entity:v,spanQuestion:i,entityPosition:o,suggestion:S}});return b.$on("on-remove-span",c),b.$on("on-hover-span",r),b.$on("on-add-span-base-on",p),b.$on("on-replace-entity",(function(t){h(t),u(t)})),b.$mount(),b.$el}),u));return Object(r.g)((function(){return l.options}),(function(){!function updateSelectedEntity(){var t=l.options.find((function(t){return t.isSelected}));h(t)}()}),{deep:!0}),Object(r.g)((function(){return d.value.spans}),(function(t){var o=function convertSpansToResponse(t){return t.map((function(t){var i=l.options.find((function(i){return i.id===t.entity.id}));if(i)return{start:t.from,end:t.to,label:i.value}})).filter(Boolean)}(t);i.response({value:o})})),Object(r.d)((function(){var t=function convertResponseToSpans(t){return t.map((function(t){var i=l.options.find((function(i){return i.value===t.label}));if(i)return{entity:{id:i.id},from:t.start,to:t.end}})).filter(Boolean)}(i.answer.valuesAnswered);try{d.value.mount(t)}catch(t){c.value=!1}})),Object(r.e)((function(){d.value.unmount()})),{spanAnnotationSupported:c,highlighting:d}},v={name:"SpanAnnotationTextFieldComponent",props:{id:{type:String,required:!0},name:{type:String,required:!0},title:{type:String,required:!0},fieldText:{type:String,required:!0},spanQuestion:{type:Object,required:!0}},data:function data(){return{visibleShortcutsHelper:!1,alreadyUsedTheCharacterAnnotation:!1,mouseDown:!1,mouseTimeout:null,mouseEnter:!1,showCursorWithEntity:!1,timeOutShowEntity:null}},computed:{lineHeight:function lineHeight(){return"".concat(this.highlighting.config.lineHeight,"px")},selectedEntity:function selectedEntity(){return this.spanQuestion.answer.options.find((function(t){return t.isSelected}))},selectedEntityColor:function selectedEntityColor(){var t;return null===(t=this.selectedEntity)||void 0===t?void 0:t.color},hasSelectedEntity:function hasSelectedEntity(){return!!this.selectedEntity},allowOverlapping:function allowOverlapping(){return this.highlighting.config.allowOverlap}},watch:{mouseEnter:function mouseEnter(t,i){var o=this;t!==i&&(clearTimeout(this.timeOutShowEntity),this.showCursorWithEntity=!0,this.timeOutShowEntity=setTimeout((function(){o.showCursorWithEntity=!1}),3e3))}},methods:{allowCharacterAnnotation:function allowCharacterAnnotation(t){this.highlighting.allowCharacterAnnotation(t)},keyPressing:function keyPressing(t,i){"Shift"===t.key&&(t.preventDefault(),t.stopPropagation(),this.allowCharacterAnnotation(i),this.alreadyUsedTheCharacterAnnotation=!0,this.visibleShortcutsHelper=!1)},showShortcutsHelper:function showShortcutsHelper(t){this.spanQuestion.settings.allow_character_annotation&&(this.alreadyUsedTheCharacterAnnotation||(this.visibleShortcutsHelper=t))},onMouseDown:function onMouseDown(){this.mouseDown=!0},onMouseUp:function onMouseUp(){this.mouseDown=!1,this.mouseTimeout&&clearTimeout(this.mouseTimeout),this.showShortcutsHelper(!1)},onMouseMove:function onMouseMove(){var t=this,i=this.mouseDown;this.mouseTimeout=setTimeout((function(){t.mouseDown&&t.showShortcutsHelper(i)}),500)},onKeyDown:function onKeyDown(t){this.spanQuestion.settings.allow_character_annotation&&this.keyPressing(t,!0)},onKeyUp:function onKeyUp(t){this.spanQuestion.settings.allow_character_annotation&&this.keyPressing(t,!1)}},setup:function setup(t){return m(t)}},S=function __injectCSSVars__(){Object(a.useCssVars)((function(t,i){return{"77c45f0a":t.lineHeight}}))},w=v.setup;v.setup=w?function(t,i){return S(),w(t,i)}:S;var b=v,O=(o(1209),o(42)),L=Object(O.a)(b,(function render(){var t=this,i=t._self._c;return i("div",{key:t.name,staticClass:"text_field_component",on:{mouseenter:function mouseenter(i){i.stopPropagation(),t.mouseEnter=!0},mouseleave:function mouseleave(i){i.stopPropagation(),t.mouseEnter=!1}}},[i("div",{staticClass:"title-area --body2"},[i("span",{staticClass:"text_field_component__title-content",domProps:{textContent:t._s(t.title)}}),t._v(" "),i("BaseActionTooltip",{staticClass:"text_field_component__tooltip",attrs:{tooltip:"Copied","tooltip-position":"left"}},[i("BaseButton",{staticClass:"text_field_component__copy-button",attrs:{title:"Copy to clipboard"},on:{click:function click(i){return i.preventDefault(),t.$copyToClipboard(t.fieldText)}}},[i("svgicon",{attrs:{color:"#acacac",name:"copy",width:"18",height:"18"}})],1)],1)],1),t._v(" "),i("div",{staticClass:"text_field_component__area --body1"},[i("p",{ref:"spanAnnotationField",class:[t.allowOverlapping?"span-annotation__field--overlapped":"span-annotation__field",t.hasSelectedEntity?"span-annotation__field--active":null],attrs:{id:t.id,tabindex:"0"},domProps:{innerHTML:t._s(t.fieldText)},on:{mousedown:t.onMouseDown,mouseup:t.onMouseUp,mousemove:t.onMouseMove,keydown:t.onKeyDown,keyup:t.onKeyUp}}),t._v(" "),t.hasSelectedEntity?i("SpanAnnotationCursor",{attrs:{"cursor-area-ref":"spanAnnotationField","cursor-color":t.selectedEntityColor,"show-message":t.visibleShortcutsHelper,"show-entity":t.showCursorWithEntity,"entity-name":t.selectedEntity.text,message:t.$t("spanAnnotation.shortcutHelper")}}):t._e(),t._v(" "),[t._l(t.spanQuestion.answer.options,(function(o){var a=o.id,r=o.color;return[i("style",{key:a,attrs:{scoped:""}},[t._v("\n          .span-annotation__field::highlight(hl-"+t._s(a)+") {\n            background-color: "+t._s(r)+";\n          }\n          .span-annotation__field::highlight(hl-"+t._s(a)+"-selection) {\n            background-color: "+t._s(r)+";\n          }\n          .span-annotation__field::highlight(hl-"+t._s(a)+"-pre-selection) {\n            background: "+t._s(r.palette.light)+";\n          }\n          .span-annotation__field--overlapped::highlight(hl-"+t._s(a)+"-selection) {\n            background: "+t._s(r)+";\n          }\n          .span-annotation__field--overlapped::highlight(hl-"+t._s(a)+"-pre-selection) {\n            background: "+t._s(r.palette.light)+";\n          }\n          .span-annotation__field--overlapped::highlight(hl-"+t._s(a)+"-hover) {\n            background: "+t._s(r)+";\n          }\n        ")])]}))]],2)])}),[],!1,null,"574dfa41",null);i.default=L.exports;installComponents(L,{BaseButton:o(423).default,BaseActionTooltip:o(425).default,SpanAnnotationCursor:o(1177).default})},1177:function(t,i,o){"use strict";o.r(i);o(28),o(30),o(54),o(55),o(40),o(6),o(26);var a=o(19),r=o(0);function ownKeys(t,i){var o=Object.keys(t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(t);i&&(a=a.filter((function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable}))),o.push.apply(o,a)}return o}var c={props:{cursorAreaRef:{type:String,required:!0},cursorColor:{type:String,default:"black"},showMessage:{type:Boolean,default:!1},showEntity:{type:Boolean,default:!1},entityName:{type:String,required:!0},message:{type:String,required:!0}},data:function data(){return{cursorPosition:{left:0,top:0},messagePosition:{left:0,top:0},cursorClass:void 0}},created:function created(){this.area=this.$parent.$refs[this.cursorAreaRef]},watch:{showMessage:function showMessage(){this.showMessage&&(this.messagePosition=function _objectSpread(t){for(var i=1;i<arguments.length;i++){var o=null!=arguments[i]?arguments[i]:{};i%2?ownKeys(Object(o),!0).forEach((function(i){Object(a.a)(t,i,o[i])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(o)):ownKeys(Object(o)).forEach((function(i){Object.defineProperty(t,i,Object.getOwnPropertyDescriptor(o,i))}))}return t}({},this.cursorPosition))}},methods:{addCursorClass:function addCursorClass(){this.cursorClass="textual"},removeCursorClass:function removeCursorClass(){this.cursorClass=""},updateCursorPosition:function updateCursorPosition(t){this.cursorPosition.left=t.clientX+"px",this.cursorPosition.top=t.clientY+"px"}},mounted:function mounted(){this.area&&(this.area.addEventListener("mouseover",this.addCursorClass),this.area.addEventListener("mouseleave",this.removeCursorClass),document.addEventListener("mousemove",this.updateCursorPosition))},destroyed:function destroyed(){this.area&&(this.area.removeEventListener("mouseover",this.addCursorClass),this.area.removeEventListener("mouseleave",this.removeCursorClass),document.removeEventListener("mousemove",this.updateCursorPosition))}},l=function __injectCSSVars__(){Object(r.useCssVars)((function(t,i){return{f98180d4:t.cursorColor}}))},u=c.setup;c.setup=u?function(t,i){return l(),u(t,i)}:l;var h=c,d=(o(1115),o(42)),p=Object(d.a)(h,(function render(){var t=this,i=t._self._c;return i("span",[t.showMessage?i("span",{staticClass:"custom-cursor__message",style:{left:t.messagePosition.left,top:t.messagePosition.top},domProps:{textContent:t._s(t.message)}}):t._e(),t._v(" "),i("span",{ref:"cursor",staticClass:"custom-cursor",class:[t.cursorClass,{entity:t.showEntity}],style:{left:t.cursorPosition.left,top:t.cursorPosition.top},attrs:{"data-message":t.message,"data-entity-name":t.entityName}})])}),[],!1,null,"ba322896",null);i.default=p.exports},1205:function(t,i,o){"use strict";var a=o(5),r=o(431),c=o(63),l=o(80),u=o(101),h=o(202);a({target:"Array",proto:!0},{flat:function flat(){var t=arguments.length?arguments[0]:void 0,i=c(this),o=l(i),a=h(i,0);return a.length=r(a,i,i,o,0,void 0===t?1:u(t)),a}})},1206:function(t,i,o){"use strict";o(129)("flat")},1209:function(t,i,o){"use strict";o(988)},1210:function(t,i,o){var a=o(84),r=o(90),c=o(91),l=o(92),u=a((function(t){return t[1]})),h=r(c),d=r(l);u.push([t.i,'/*!\n * coding=utf-8\n * Copyright 2021-present, the Recognai S.L. team.\n *\n * Licensed under the Apache License, Version 2.0 (the "License");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n *     http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an "AS IS" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n */@font-face{font-family:"raptor_v2_premiumbold";font-style:normal;font-weight:400;src:url('+h+') format("woff2"),url('+d+') format("woff")}/*!\n * coding=utf-8\n * Copyright 2021-present, the Recognai S.L. team.\n *\n * Licensed under the Apache License, Version 2.0 (the "License");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n *     http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an "AS IS" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n *//*!\n * coding=utf-8\n * Copyright 2021-present, the Recognai S.L. team.\n *\n * Licensed under the Apache License, Version 2.0 (the "License");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n *     http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an "AS IS" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n *//*!\n * coding=utf-8\n * Copyright 2021-present, the Recognai S.L. team.\n *\n * Licensed under the Apache License, Version 2.0 (the "License");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n *     http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an "AS IS" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n *//*!\n * coding=utf-8\n * Copyright 2021-present, the Recognai S.L. team.\n *\n * Licensed under the Apache License, Version 2.0 (the "License");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n *     http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an "AS IS" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n *//*!\n * coding=utf-8\n * Copyright 2021-present, the Recognai S.L. team.\n *\n * Licensed under the Apache License, Version 2.0 (the "License");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n *     http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an "AS IS" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n *//*!\n * coding=utf-8\n * Copyright 2021-present, the Recognai S.L. team.\n *\n * Licensed under the Apache License, Version 2.0 (the "License");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n *     http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an "AS IS" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n */.text_field_component[data-v-574dfa41]{background:#fafafa;border-radius:10px;display:flex;flex-direction:column;gap:8px;padding:16px}.text_field_component:hover .text_field_component__copy-button[data-v-574dfa41]{opacity:1}.text_field_component .title-area[data-v-574dfa41]{align-items:center;color:rgba(0,0,0,.87);display:flex;gap:8px;justify-content:space-between}.text_field_component__area[data-v-574dfa41]{position:relative;-webkit-user-select:none;-moz-user-select:none;user-select:none;white-space:pre-wrap;word-break:break-word}.text_field_component__title-content[data-v-574dfa41]{width:calc(100% - 30px);word-break:break-word}.text_field_component__tooltip[data-v-574dfa41]{align-self:flex-start;display:flex}.text_field_component__copy-button[data-v-574dfa41]{flex-shrink:0;opacity:0;padding:0}.span-annotation__field[data-v-574dfa41],.span-annotation__field--overlapped[data-v-574dfa41]{font-size:16px;font-size:1rem;line-height:var(--77c45f0a);margin:0;position:relative;-webkit-user-select:text;-moz-user-select:text;user-select:text}.span-annotation__field--active[data-v-574dfa41]{cursor:none}.span-annotation__field--active[data-v-574dfa41]::-moz-selection{background-color:transparent}.span-annotation__field--active[data-v-574dfa41]::selection{background-color:transparent}.span-annotation__field--overlapped[data-v-574dfa41]:focus,.span-annotation__field[data-v-574dfa41]:focus{outline:none}.fade-enter-active[data-v-574dfa41],.fade-leave-active[data-v-574dfa41]{transition:all .25s}.fade-enter-from[data-v-574dfa41],.fade-leave-to[data-v-574dfa41]{opacity:0}[data-v-574dfa41] [id^=entity-span-container]{left:0;position:absolute;top:0}',""]),u.locals={},t.exports=u},898:function(t,i,o){var a=o(1116);a.__esModule&&(a=a.default),"string"==typeof a&&(a=[[t.i,a,""]]),a.locals&&(t.exports=a.locals);(0,o(85).default)("2b278cfe",a,!0,{sourceMap:!1})},988:function(t,i,o){var a=o(1210);a.__esModule&&(a=a.default),"string"==typeof a&&(a=[[t.i,a,""]]),a.locals&&(t.exports=a.locals);(0,o(85).default)("728ed764",a,!0,{sourceMap:!1})}}]);