"use strict";(self.webpackChunk_datalayer_jupyter_viewer=self.webpackChunk_datalayer_jupyter_viewer||[]).push([[583],{32084:(e,t,r)=>{r.d(t,{Z:()=>s});var n=r(84983),o=r.n(n),a=r(79872),i=r.n(a)()(o());i.push([e.id,"body {\n  overflow-y: visible;\n}\n\n.dla-Container {\n  overflow-y: auto !important;\n}\n",""]);const s=i},88411:(e,t,r)=>{r.d(t,{Z:()=>c});var n=r(84983),o=r.n(n),a=r(79872),i=r.n(a),s=r(32084),l=i()(o());l.i(s.Z),l.push([e.id,"\n",""]);const c=l},74079:(e,t,r)=>{r.d(t,{Z:()=>J});var n=r(74512),o=r(66029),a=r(59689),i=r(59606),s=r(32126),l=r(61726),c=r(65490),d=r(64613),u=r(97478),h=r(28977),p=r(19893),m=r(94840),x=r(93214),y=r(65693);const v=[{title:"Plotly Daily Stocks",url:"https://raw.githubusercontent.com/datalayer-examples/notebooks/main/daily-stock.ipynb"},{title:"Matplotlib",url:"https://raw.githubusercontent.com/anissa111/matplotlib-tutorial/main/notebooks/01-basic-matplotlib-tutorial.ipynb"},{title:"Bicycle Control",url:"https://raw.githubusercontent.com/plotly/IPython-plotly/master/notebooks/bicycle_control/bicycle_control.ipynb"},{title:"IPyWidgets Example",url:" https://raw.githubusercontent.com/jupyter-widgets/ipywidgets/main/docs/source/examples/Widget%20Basics.ipynb"}],w=[{title:"Fair Experiment",url:"https://raw.githubusercontent.com/datalayer-courses/foundations-of-data-science-with-python/main/04-probability1/fair-experiments.ipynb"},{title:"Text Vectorization",url:"https://raw.githubusercontent.com/datalayer-courses/python-text-mining-intro/main/4-text-vectorization.ipynb"},{title:"Survival Analysis",url:"https://raw.githubusercontent.com/plotly/IPython-plotly/master/notebooks/survival_analysis/survival_analysis.ipynb"}],g=[{title:"Center of Mass",url:"https://raw.githubusercontent.com/JuanCab/AstroInteractives/master/Interactives/Center_of_Mass.ipynb"}],b=e=>{const{notebookExample:t,setNotebookExample:r,icon:o}=e;return(0,n.jsxs)(y.S.Item,{onSelect:e=>r(t),children:[(0,n.jsx)(y.S.LeadingVisual,{children:o}),(0,n.jsx)(y.S.Description,{variant:"block",children:t.url}),t.title]})},f=()=>{const[e,t]=(0,o.useState)(""),[r,a]=(0,o.useState)(!1),[i,l]=(0,o.useState)(),[y,w]=(0,o.useState)();return(0,o.useEffect)((()=>{a(!0),w(void 0),i&&fetch(i.url).then((e=>e.text())).then((e=>{w(JSON.parse(e))})),a(!1)}),[i]),(0,n.jsxs)(n.Fragment,{children:[(0,n.jsx)(s.Z,{children:(0,n.jsxs)(d.Z,{children:[(0,n.jsx)(d.Z.Label,{id:"notebook-location",children:"Enter the location of a Jupyter Notebook to have it rendered here"}),(0,n.jsx)(u.Z,{placeholder:"URL | GitHub link | Gist ID",block:!0,onChange:e=>t(e.target.value),onSubmit:t=>l({title:"",url:e})})]})}),(0,n.jsxs)(s.Z,{sx:{display:"flex",justifyContent:"center"},children:[(0,n.jsx)(h.r,{leadingVisual:c.EyesIcon,sx:{margin:1},onClick:t=>l({title:"",url:e}),children:"Go!"}),(0,n.jsx)(h.r,{leadingVisual:c.FourLeafCloverIcon,sx:{margin:1},onClick:e=>l(v[Math.floor(Math.random()*v.length)]),children:"I'm Feeling Lucky"})]}),(0,n.jsxs)(s.Z,{children:[r&&(0,n.jsx)(p.Z,{}),i&&y&&(0,n.jsx)(n.Fragment,{children:(0,n.jsx)(m.A,{startDefaultKernel:!1,children:(0,n.jsx)(x.A,{nbformat:y,outputs:!1})})})]})]})};var j=r(60256);const k=()=>{const[e,t]=(0,o.useState)(v[0]);return(0,n.jsx)(n.Fragment,{children:(0,n.jsx)(s.Z,{m:3,children:(0,n.jsxs)(m.A,{startDefaultKernel:!1,children:[(0,n.jsxs)(j.P,{children:[(0,n.jsx)(j.P.Button,{leadingVisual:()=>(0,n.jsx)(c.JupyterBaseIcon,{colored:!0}),children:"Notebooks"}),(0,n.jsx)(j.P.Overlay,{children:(0,n.jsxs)(y.S,{showDividers:!0,children:[(0,n.jsx)(y.S.Group,{title:"Visualisations",children:v.map((e=>(0,n.jsx)(b,{notebookExample:e,icon:(0,n.jsx)(c.NetworkIcon,{colored:!0}),setNotebookExample:t})))}),(0,n.jsx)(y.S.Group,{title:"Data Science",children:w.map((e=>(0,n.jsx)(b,{notebookExample:e,icon:(0,n.jsx)(c.ScientistIcon,{colored:!0}),setNotebookExample:t})))}),(0,n.jsx)(y.S.Group,{title:"Astronomy",children:g.map((e=>(0,n.jsx)(b,{notebookExample:e,icon:(0,n.jsx)(c.JupiterIcon,{colored:!0}),setNotebookExample:t})))})]})})]}),(0,n.jsx)(x.A,{nbformatUrl:e.url,outputs:!1})]})})})};var S=r(21809),C=r(11048),F=r(62005),I=r(5917);const E={small:16,medium:32,large:64},Z=o.forwardRef((function({title:e,titleId:t,size:r,colored:n,...a},i){return o.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 243.75 243.75",fill:n?"currentColor":["#fff","#fffff","white","#FFF","#FFFFFF"].includes("currentColor")?"white":"currentColor","aria-hidden":"true",width:r?"string"==typeof r?E[r]:r:"16px",ref:i,"aria-labelledby":t},a),e?o.createElement("title",{id:t},e):null,o.createElement("g",{fill:n?"#fff":["#fff","#fffff","white","#FFF","#FFFFFF"].includes("#fff")?"white":"currentColor",strokeWidth:2.928,transform:"translate(0 -308.268)"},o.createElement("circle",{cx:121.875,cy:430.143,r:120.411,stroke:"#000"}),o.createElement("path",{fillRule:"evenodd",stroke:"#000",strokeLinecap:"round",strokeLinejoin:"round",d:"M119.675 477.588l.253-140.166c-73.532 5.11-86.696 84.242-28.25 114.7l.61 25.34z"}),o.createElement("path",{fillRule:"evenodd",stroke:"#000",d:"M120.07 482.652H93.813c-2.945 4.667-3.575 8.04 2.748 13.127-6.62.865-6.378 8.548-2.9 10.686-4.242 1.556-5.282 8.727 6.869 7.937l1.625 5.486c.733 2.113 1.746 2.545 2.76 2.973l10.458-.086c1.992-.72 4.299-2.105 4.39-5.015z"}),o.createElement("path",{fillRule:"evenodd",stroke:"#f75c59",strokeLinecap:"round",strokeLinejoin:"round",d:"M124.291 477.462l-.469-139.95c73.532 5.11 86.696 84.458 28.25 114.916l-.61 25.34z"}),o.createElement("path",{fillRule:"evenodd",stroke:"#f75c59",d:"M125.32 482.957l-.306 32.361c1.317 11.059 11.072 8.629 10.99-.61v-31.751zM139.957 482.957l-.305 32.361c1.317 11.059 11.072 8.629 10.99-.61v-31.751z"}),o.createElement("path",{fillRule:"evenodd",stroke:"#f8d05b",d:"M112.412 477.238l-16.948-73.934c-4.23-19.168-16.974-14.783-11.444-.557 6.267 10.896 28.39 21.763 33.582 6.106-4.523-5.743-6.628-12.59 1.333-16.65"}),o.createElement("path",{fillRule:"evenodd",stroke:"#f75c59",strokeLinejoin:"round",d:"M131.627 399.814c1.778-4.471 12.628-9.482 19.487-14.062 7.117 3.213 17.741 13.145 12.804 25.555-1.265 4.901-28.05 4.544-30.224 2.137-4.481-4.606-3.115-10.024-2.067-13.63zM128.198 428.251c-.91 7.576-.577 13.909-.763 20.76 3.425.788 7.262.337 11.082-.062-2.75-6.95-5.704-13.748-10.319-20.698z"})))})),R=e=>{const{version:t}=e,[r,a]=(0,o.useState)(!1);return(0,n.jsxs)(n.Fragment,{children:[(0,n.jsxs)(S.Z,{as:"h2",children:["ðŸª ðŸ‘€ Jupyter Viewer",(0,n.jsx)(C.Z,{sx:{marginLeft:1},children:t})]}),(0,n.jsx)(s.Z,{children:(0,n.jsx)(F.Z,{children:"A revisited NbViewer as a modern Web application to view Jupyter notebooks."})}),(0,n.jsx)(s.Z,{mt:3,children:r?(0,n.jsx)(Z,{size:300,onClick:e=>a(!1)}):(0,n.jsx)("img",{src:"https://assets.datalayer.tech/releases/datalayer-0.3.0-black-snake_1024.png",onClick:e=>a(!0),style:{width:"100%"}})}),(0,n.jsx)(s.Z,{children:(0,n.jsx)(I.Z,{href:"https://datalayer.tech/docs/releases/0.3.0-black-snake",target:"_blank",children:(0,n.jsx)(F.Z,{as:"h4",children:"Datalayer 0.3.0 Black Snake Release"})})}),(0,n.jsx)(s.Z,{children:(0,n.jsx)(I.Z,{href:"https://github.com/datalayer/jupyter-viewer",target:"_blank",children:(0,n.jsx)(F.Z,{as:"h4",children:"Source code"})})})]})};var _=r(69252);const J=e=>{const[t,r]=(0,o.useState)(1),[d,u]=(0,o.useState)("");return(0,o.useEffect)((()=>{(0,_.q)("config").then((e=>{u(e.version)})).catch((e=>{console.error(`Error while accessing the jupyter server jupyter_viewer extension.\n${e}`)}))})),(0,n.jsx)(n.Fragment,{children:(0,n.jsx)(a.f6,{children:(0,n.jsx)(i.Z,{children:(0,n.jsxs)(s.Z,{children:[(0,n.jsx)(s.Z,{children:(0,n.jsxs)(l.J,{"aria-label":"viewer",children:[(0,n.jsx)(l.J.Item,{"aria-label":"viewer-home","aria-current":1===t?"page":void 0,onSelect:e=>{e.preventDefault(),r(1)},children:"Viewer"}),(0,n.jsx)(l.J.Item,{"aria-label":"viewer-examples","aria-current":2===t?"page":void 0,onSelect:e=>{e.preventDefault(),r(2)},children:"Examples"}),(0,n.jsx)(l.J.Item,{"aria-label":"viewer-about","aria-current":3===t?"page":void 0,icon:()=>(0,n.jsx)(c.EyesIcon,{colored:!0}),onSelect:e=>{e.preventDefault(),r(3)},children:"About"})]})}),(0,n.jsxs)(s.Z,{m:3,children:[1===t&&(0,n.jsx)(f,{}),2===t&&(0,n.jsx)(k,{}),3===t&&(0,n.jsx)(R,{version:d})]})]})})})})}},30294:(e,t,r)=>{r.r(t),r.d(t,{JupyterViewerJupyterLab:()=>c,JupyterViewerJupyterLabHeadless:()=>x});var n=r(74512),o=r(82309),a=r(86497),i=r(62968),s=r(43946);const l=()=>(0,n.jsx)(o.JupyterLabApp,{extensions:[a,i,s],position:"absolute",height:"100vh"}),c=()=>(0,n.jsx)(o.Jupyter,{startDefaultKernel:!1,disableCssLoading:!0,collaborative:!0,children:(0,n.jsx)(l,{})});var d=r(66029),u=r(55990),h=r(74079);const p=u.createGlobalStyle`
  body {
    background-color: white !important;
    overflow-y: auto;
  }
`,m=()=>{const[e,t]=(0,d.useState)();return(0,n.jsxs)(n.Fragment,{children:[e&&(0,n.jsx)(h.Z,{adapter:e}),(0,n.jsx)(o.JupyterLabApp,{extensions:[a,i,s],headless:!0,onJupyterLab:e=>{t(e)}})]})},x=()=>(0,n.jsxs)(o.Jupyter,{startDefaultKernel:!1,disableCssLoading:!0,collaborative:!0,children:[(0,n.jsx)(p,{}),(0,n.jsx)(m,{})]})},69252:(e,t,r)=>{r.d(t,{q:()=>a});var n=r(1865),o=r(66274);async function a(e="",t={}){const r=o.ServerConnection.makeSettings(),a=n.URLExt.join(r.baseUrl,"jupyter_viewer",e);let i;try{i=await o.ServerConnection.makeRequest(a,t,r)}catch(e){throw new o.ServerConnection.NetworkError(e)}let s=await i.text();if(s.length>0)try{s=JSON.parse(s)}catch(e){console.log("Not a JSON response body.",i)}if(!i.ok)throw new o.ServerConnection.ResponseError(i,s.message||s);return s}},43946:(e,t,r)=>{r.r(t),r.d(t,{default:()=>$});var n=r(56653),o=r(96129),a=r(67370),i=r(8826);const s=new(r(1339).zZ)({name:"@datalayer/icons:eyes",svgstr:'<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 72 72" fill="currentColor" aria-hidden="true">\n  <ellipse cx="19.548" cy="35.958" fill="#FFF" rx="14.469" ry="24.655"/>\n  <ellipse cx="52.452" cy="35.958" fill="#FFF" rx="14.469" ry="24.655"/>\n  <ellipse cx="52.452" cy="35.958" fill="#FFF" rx="14.469" ry="24.655"/>\n  <circle cx="46.01" cy="37.817" r="8.027" fill="#A57939"/>\n  <ellipse cx="19.548" cy="35.958" fill="#FFF" rx="14.469" ry="24.655"/>\n  <circle cx="13.106" cy="37.817" r="8.027" fill="#A57939"/>\n  <g>\n    <ellipse cx="19.548" cy="35.958" fill="none" stroke="#000" stroke-linecap="round" stroke-linejoin="round" stroke-miterlimit="10" stroke-width="2" rx="14.469" ry="24.655"/>\n    <ellipse cx="52.452" cy="35.958" fill="none" stroke="#000" stroke-linecap="round" stroke-linejoin="round" stroke-miterlimit="10" stroke-width="2" rx="14.469" ry="24.655"/>\n    <circle cx="13.106" cy="37.817" r="3.623"/>\n    <circle cx="46.01" cy="37.817" r="3.623"/>\n    <circle cx="13.106" cy="37.817" r="3.623" fill="none" stroke="#000" stroke-linecap="round" stroke-linejoin="round" stroke-miterlimit="10" stroke-width="2"/>\n    <circle cx="13.106" cy="37.817" r="8.027" fill="none" stroke="#000" stroke-linecap="round" stroke-linejoin="round" stroke-miterlimit="10" stroke-width="2"/>\n    <circle cx="46.01" cy="37.817" r="3.623" fill="none" stroke="#000" stroke-linecap="round" stroke-linejoin="round" stroke-miterlimit="10" stroke-width="2"/>\n    <circle cx="46.01" cy="37.817" r="8.027" fill="none" stroke="#000" stroke-linecap="round" stroke-linejoin="round" stroke-miterlimit="10" stroke-width="2"/>\n  </g>\n</svg>\n'});var l=r(69252),c=r(74512),d=r(82309),u=r(74079);class h extends o.ReactWidget{_app;constructor(e){super(),this._app=e,this.addClass("dla-Container")}render(){return(0,c.jsx)(u.Z,{adapter:d.JupyterLabAppAdapter.create(this._app)})}}var p=r(77802),m=r(32850);const x=new(r(97930).Token)("@datalayer/jupyter-dashboard:IViewerTracker");var y=r(30734),v=r(74901),w=r(59689),g=r(59606),b=r(32126),f=r(66029),j=r(93214);const k=e=>{const{context:t}=e,[r,n]=(0,f.useState)(t.model.sharedModel.toJSON());return t.model.contentChanged.connect(((e,t)=>{n(e.sharedModel.toJSON())})),(0,c.jsx)(c.Fragment,{children:(0,c.jsx)(j.A,{nbformat:r,outputs:!1})})};class S extends o.ReactWidget{_context;constructor(e){super(),this._context=e}render(){return(0,c.jsx)(w.f6,{children:(0,c.jsx)(g.Z,{children:(0,c.jsx)(b.Z,{m:3,children:(0,c.jsx)(k,{context:this._context})})})})}}const C=S;class F extends y.DocumentWidget{_renderOnSave=!1;constructor(e){super({...e,content:new C(e.context)});const{context:t,renderOnSave:r}=e;this.content.title.iconClass="jp-MaterialIcon jp-NotebookIcon",this.renderOnSave=!!r,t.pathChanged.connect((()=>{}));const n=new o.ToolbarButton({iconClass:"jp-RefreshIcon",tooltip:"Reload Dashboard",onClick:()=>{this.reload()}}),a=o.ReactWidget.create((0,c.jsxs)("label",{className:"jp-Preview-renderOnSave",children:[(0,c.jsx)("input",{style:{verticalAlign:"middle"},name:"renderOnSave",type:"checkbox",defaultChecked:r,onChange:e=>{this._renderOnSave=e.target.checked}}),"Render on Save"]}));this.toolbar.addItem("reload",n),t&&(this.toolbar.addItem("renderOnSave",a),t.ready.then((()=>{t.fileChanged.connect((()=>{this.renderOnSave&&this.reload()}))})))}dispose(){this.isDisposed||(super.dispose(),v.Signal.clearData(this))}reload(){const e=this.content.node.querySelector("iframe");e.contentWindow&&e.contentWindow.location.reload()}get renderOnSave(){return this._renderOnSave}set renderOnSave(e){this._renderOnSave=e}}class I extends y.ABCWidgetFactory{defaultRenderOnSave=!1;constructor(e){super(e)}createNewWidget(e){return new F({context:e,renderOnSave:this.defaultRenderOnSave})}}const E=class{_commands;constructor(e){this._commands=e}createNew(e){const t=new o.ToolbarButton({className:"viewerRender",tooltip:"Viewer",icon:s,onClick:()=>{this._commands.execute(Z.viewerRender)}});return e.toolbar.insertAfter("cellType","viewer",t),t}};var Z;!function(e){e.viewerRender="notebook:render-with-viewer",e.viewerOpen="notebook:open-with-viewer"}(Z||(Z={}));const R="Notebook Viewer",_={id:"@datalayer/jupyter-viewer:notebook",autoStart:!0,requires:[m.INotebookTracker],optional:[o.ICommandPalette,n.ILayoutRestorer,p.IMainMenu,a.ISettingRegistry],provides:x,activate:(e,t,r,n,a,i)=>{const{commands:s,docRegistry:l}=e,c=new o.WidgetTracker({namespace:"viewer"});function d(r){const n=t.currentWidget;return!1!==r.activate&&n&&e.shell.activateById(n.id),n}function u(){return null!==t.currentWidget&&t.currentWidget===e.shell.currentWidget}n&&n.restore(c,{command:"docmanager:open",args:e=>({path:e.context.path,factory:h.name}),name:e=>e.context.path,when:e.serviceManager.ready});const h=new I({name:R,fileTypes:["notebook"],modelName:"notebook"});h.widgetCreated.connect(((e,t)=>{t.context.pathChanged.connect((()=>{c.save(t)})),c.add(t)}));const p=e=>{h.defaultRenderOnSave=e.get("renderOnSave").composite};if(i&&Promise.all([i.load(_.id),e.restored]).then((([e])=>{p(e),e.changed.connect(p)})).catch((e=>{console.error(e.message)})),s.addCommand(Z.viewerRender,{label:"Viewer",execute:async e=>{const t=d(e);let r;t&&(r=t.context,await r.save(),s.execute("docmanager:open",{path:r.path,factory:R,options:{mode:"split-right"}}))},isEnabled:u}),s.addCommand(Z.viewerOpen,{label:"Open with Viewer",execute:async e=>{const t=d(e);t&&await t.context.save()},isEnabled:u}),r){const e="Notebook Operations";[Z.viewerRender,Z.viewerOpen].forEach((t=>{r.addItem({command:t,category:e})}))}a&&a.viewMenu.addGroup([{command:Z.viewerRender},{command:Z.viewerOpen}],1e3),l.addWidgetFactory(h);const m=new E(s);return l.addWidgetExtension("Notebook",m),console.log("JupyterLab plugin @datalayer/jupyter-viewer:notebook is activated."),c}},J=_;var O,L=r(13989),N=r.n(L),A=r(90299),M=r.n(A),W=r(32433),V=r.n(W),D=r(1889),z=r.n(D),P=r(10342),T=r.n(P),B=r(99638),G=r.n(B),q=r(88411),K={};K.styleTagTransform=G(),K.setAttributes=z(),K.insert=V().bind(null,"head"),K.domAPI=M(),K.insertStyleElement=T(),N()(q.Z,K),q.Z&&q.Z.locals&&q.Z.locals,function(e){e.create="create-jupyter-viewer-widget"}(O||(O={}));const U={id:"@datalayer/jupyter-viewer:plugin",autoStart:!0,requires:[o.ICommandPalette],optional:[a.ISettingRegistry,i.ILauncher,n.ILayoutRestorer],activate:(e,t,r,n,a)=>{const{commands:i}=e,c=O.create,d=new o.WidgetTracker({namespace:"jupyter-viewer"});a&&a.restore(d,{command:c,name:()=>"jupyter-viewer"}),i.addCommand(c,{caption:"Show Jupyter Viewer",label:"Jupyter Viewer",icon:s,execute:()=>{const t=new h(e),r=new o.MainAreaWidget({content:t});r.title.label="Jupyter Viewer",r.title.icon=s,e.shell.add(r,"main"),d.add(r)}});const u="Datalayer";t.addItem({command:c,category:u});const p=e=>{const t=e.get("showInLauncher").composite;n&&t&&n.add({command:c,category:u,rank:2.5})};r&&r.load(U.id).then((e=>{console.log(`${U.id} settings loaded:`,e.composite),p(e),e.changed.connect(p)})).catch((e=>{console.error(`Failed to load settings for ${U.id}`,e)})),(0,l.q)("config").then((e=>{console.log(e)})).catch((e=>{console.error(`Error while accessing the jupyter server jupyter_viewer extension.\n${e}`)})),console.log("JupyterLab plugin @datalayer/jupyter-viewer:plugin is activated.")}},$=[U,J]}}]);