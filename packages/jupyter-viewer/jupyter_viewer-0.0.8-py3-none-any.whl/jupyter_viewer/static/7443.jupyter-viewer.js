"use strict";
(self["webpackChunk_datalayer_jupyter_viewer"] = self["webpackChunk_datalayer_jupyter_viewer"] || []).push([[7443],{

/***/ 37443:
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "cobol": () => (/* binding */ cobol)
/* harmony export */ });
var BUILTIN = "builtin",
  COMMENT = "comment",
  STRING = "string",
  ATOM = "atom",
  NUMBER = "number",
  KEYWORD = "keyword",
  MODTAG = "header",
  COBOLLINENUM = "def",
  PERIOD = "link";
function makeKeywords(str) {
  var obj = {},
    words = str.split(" ");
  for (var i = 0; i < words.length; ++i) obj[words[i]] = true;
  return obj;
}
var atoms = makeKeywords("TRUE FALSE ZEROES ZEROS ZERO SPACES SPACE LOW-VALUE LOW-VALUES ");
var keywords = makeKeywords("ACCEPT ACCESS ACQUIRE ADD ADDRESS " + "ADVANCING AFTER ALIAS ALL ALPHABET " + "ALPHABETIC ALPHABETIC-LOWER ALPHABETIC-UPPER ALPHANUMERIC ALPHANUMERIC-EDITED " + "ALSO ALTER ALTERNATE AND ANY " + "ARE AREA AREAS ARITHMETIC ASCENDING " + "ASSIGN AT ATTRIBUTE AUTHOR AUTO " + "AUTO-SKIP AUTOMATIC B-AND B-EXOR B-LESS " + "B-NOT B-OR BACKGROUND-COLOR BACKGROUND-COLOUR BEEP " + "BEFORE BELL BINARY BIT BITS " + "BLANK BLINK BLOCK BOOLEAN BOTTOM " + "BY CALL CANCEL CD CF " + "CH CHARACTER CHARACTERS CLASS CLOCK-UNITS " + "CLOSE COBOL CODE CODE-SET COL " + "COLLATING COLUMN COMMA COMMIT COMMITMENT " + "COMMON COMMUNICATION COMP COMP-0 COMP-1 " + "COMP-2 COMP-3 COMP-4 COMP-5 COMP-6 " + "COMP-7 COMP-8 COMP-9 COMPUTATIONAL COMPUTATIONAL-0 " + "COMPUTATIONAL-1 COMPUTATIONAL-2 COMPUTATIONAL-3 COMPUTATIONAL-4 COMPUTATIONAL-5 " + "COMPUTATIONAL-6 COMPUTATIONAL-7 COMPUTATIONAL-8 COMPUTATIONAL-9 COMPUTE " + "CONFIGURATION CONNECT CONSOLE CONTAINED CONTAINS " + "CONTENT CONTINUE CONTROL CONTROL-AREA CONTROLS " + "CONVERTING COPY CORR CORRESPONDING COUNT " + "CRT CRT-UNDER CURRENCY CURRENT CURSOR " + "DATA DATE DATE-COMPILED DATE-WRITTEN DAY " + "DAY-OF-WEEK DB DB-ACCESS-CONTROL-KEY DB-DATA-NAME DB-EXCEPTION " + "DB-FORMAT-NAME DB-RECORD-NAME DB-SET-NAME DB-STATUS DBCS " + "DBCS-EDITED DE DEBUG-CONTENTS DEBUG-ITEM DEBUG-LINE " + "DEBUG-NAME DEBUG-SUB-1 DEBUG-SUB-2 DEBUG-SUB-3 DEBUGGING " + "DECIMAL-POINT DECLARATIVES DEFAULT DELETE DELIMITED " + "DELIMITER DEPENDING DESCENDING DESCRIBED DESTINATION " + "DETAIL DISABLE DISCONNECT DISPLAY DISPLAY-1 " + "DISPLAY-2 DISPLAY-3 DISPLAY-4 DISPLAY-5 DISPLAY-6 " + "DISPLAY-7 DISPLAY-8 DISPLAY-9 DIVIDE DIVISION " + "DOWN DROP DUPLICATE DUPLICATES DYNAMIC " + "EBCDIC EGI EJECT ELSE EMI " + "EMPTY EMPTY-CHECK ENABLE END END. END-ACCEPT END-ACCEPT. " + "END-ADD END-CALL END-COMPUTE END-DELETE END-DISPLAY " + "END-DIVIDE END-EVALUATE END-IF END-INVOKE END-MULTIPLY " + "END-OF-PAGE END-PERFORM END-READ END-RECEIVE END-RETURN " + "END-REWRITE END-SEARCH END-START END-STRING END-SUBTRACT " + "END-UNSTRING END-WRITE END-XML ENTER ENTRY " + "ENVIRONMENT EOP EQUAL EQUALS ERASE " + "ERROR ESI EVALUATE EVERY EXCEEDS " + "EXCEPTION EXCLUSIVE EXIT EXTEND EXTERNAL " + "EXTERNALLY-DESCRIBED-KEY FD FETCH FILE FILE-CONTROL " + "FILE-STREAM FILES FILLER FINAL FIND " + "FINISH FIRST FOOTING FOR FOREGROUND-COLOR " + "FOREGROUND-COLOUR FORMAT FREE FROM FULL " + "FUNCTION GENERATE GET GIVING GLOBAL " + "GO GOBACK GREATER GROUP HEADING " + "HIGH-VALUE HIGH-VALUES HIGHLIGHT I-O I-O-CONTROL " + "ID IDENTIFICATION IF IN INDEX " + "INDEX-1 INDEX-2 INDEX-3 INDEX-4 INDEX-5 " + "INDEX-6 INDEX-7 INDEX-8 INDEX-9 INDEXED " + "INDIC INDICATE INDICATOR INDICATORS INITIAL " + "INITIALIZE INITIATE INPUT INPUT-OUTPUT INSPECT " + "INSTALLATION INTO INVALID INVOKE IS " + "JUST JUSTIFIED KANJI KEEP KEY " + "LABEL LAST LD LEADING LEFT " + "LEFT-JUSTIFY LENGTH LENGTH-CHECK LESS LIBRARY " + "LIKE LIMIT LIMITS LINAGE LINAGE-COUNTER " + "LINE LINE-COUNTER LINES LINKAGE LOCAL-STORAGE " + "LOCALE LOCALLY LOCK " + "MEMBER MEMORY MERGE MESSAGE METACLASS " + "MODE MODIFIED MODIFY MODULES MOVE " + "MULTIPLE MULTIPLY NATIONAL NATIVE NEGATIVE " + "NEXT NO NO-ECHO NONE NOT " + "NULL NULL-KEY-MAP NULL-MAP NULLS NUMBER " + "NUMERIC NUMERIC-EDITED OBJECT OBJECT-COMPUTER OCCURS " + "OF OFF OMITTED ON ONLY " + "OPEN OPTIONAL OR ORDER ORGANIZATION " + "OTHER OUTPUT OVERFLOW OWNER PACKED-DECIMAL " + "PADDING PAGE PAGE-COUNTER PARSE PERFORM " + "PF PH PIC PICTURE PLUS " + "POINTER POSITION POSITIVE PREFIX PRESENT " + "PRINTING PRIOR PROCEDURE PROCEDURE-POINTER PROCEDURES " + "PROCEED PROCESS PROCESSING PROGRAM PROGRAM-ID " + "PROMPT PROTECTED PURGE QUEUE QUOTE " + "QUOTES RANDOM RD READ READY " + "REALM RECEIVE RECONNECT RECORD RECORD-NAME " + "RECORDS RECURSIVE REDEFINES REEL REFERENCE " + "REFERENCE-MONITOR REFERENCES RELATION RELATIVE RELEASE " + "REMAINDER REMOVAL RENAMES REPEATED REPLACE " + "REPLACING REPORT REPORTING REPORTS REPOSITORY " + "REQUIRED RERUN RESERVE RESET RETAINING " + "RETRIEVAL RETURN RETURN-CODE RETURNING REVERSE-VIDEO " + "REVERSED REWIND REWRITE RF RH " + "RIGHT RIGHT-JUSTIFY ROLLBACK ROLLING ROUNDED " + "RUN SAME SCREEN SD SEARCH " + "SECTION SECURE SECURITY SEGMENT SEGMENT-LIMIT " + "SELECT SEND SENTENCE SEPARATE SEQUENCE " + "SEQUENTIAL SET SHARED SIGN SIZE " + "SKIP1 SKIP2 SKIP3 SORT SORT-MERGE " + "SORT-RETURN SOURCE SOURCE-COMPUTER SPACE-FILL " + "SPECIAL-NAMES STANDARD STANDARD-1 STANDARD-2 " + "START STARTING STATUS STOP STORE " + "STRING SUB-QUEUE-1 SUB-QUEUE-2 SUB-QUEUE-3 SUB-SCHEMA " + "SUBFILE SUBSTITUTE SUBTRACT SUM SUPPRESS " + "SYMBOLIC SYNC SYNCHRONIZED SYSIN SYSOUT " + "TABLE TALLYING TAPE TENANT TERMINAL " + "TERMINATE TEST TEXT THAN THEN " + "THROUGH THRU TIME TIMES TITLE " + "TO TOP TRAILING TRAILING-SIGN TRANSACTION " + "TYPE TYPEDEF UNDERLINE UNEQUAL UNIT " + "UNSTRING UNTIL UP UPDATE UPON " + "USAGE USAGE-MODE USE USING VALID " + "VALIDATE VALUE VALUES VARYING VLR " + "WAIT WHEN WHEN-COMPILED WITH WITHIN " + "WORDS WORKING-STORAGE WRITE XML XML-CODE " + "XML-EVENT XML-NTEXT XML-TEXT ZERO ZERO-FILL ");
var builtins = makeKeywords("- * ** / + < <= = > >= ");
var tests = {
  digit: /\d/,
  digit_or_colon: /[\d:]/,
  hex: /[0-9a-f]/i,
  sign: /[+-]/,
  exponent: /e/i,
  keyword_char: /[^\s\(\[\;\)\]]/,
  symbol: /[\w*+\-]/
};
function isNumber(ch, stream) {
  // hex
  if (ch === '0' && stream.eat(/x/i)) {
    stream.eatWhile(tests.hex);
    return true;
  }
  // leading sign
  if ((ch == '+' || ch == '-') && tests.digit.test(stream.peek())) {
    stream.eat(tests.sign);
    ch = stream.next();
  }
  if (tests.digit.test(ch)) {
    stream.eat(ch);
    stream.eatWhile(tests.digit);
    if ('.' == stream.peek()) {
      stream.eat('.');
      stream.eatWhile(tests.digit);
    }
    if (stream.eat(tests.exponent)) {
      stream.eat(tests.sign);
      stream.eatWhile(tests.digit);
    }
    return true;
  }
  return false;
}
const cobol = {
  name: "cobol",
  startState: function () {
    return {
      indentStack: null,
      indentation: 0,
      mode: false
    };
  },
  token: function (stream, state) {
    if (state.indentStack == null && stream.sol()) {
      // update indentation, but only if indentStack is empty
      state.indentation = 6; //stream.indentation();
    }
    // skip spaces
    if (stream.eatSpace()) {
      return null;
    }
    var returnType = null;
    switch (state.mode) {
      case "string":
        // multi-line string parsing mode
        var next = false;
        while ((next = stream.next()) != null) {
          if ((next == "\"" || next == "\'") && !stream.match(/['"]/, false)) {
            state.mode = false;
            break;
          }
        }
        returnType = STRING; // continue on in string mode
        break;
      default:
        // default parsing mode
        var ch = stream.next();
        var col = stream.column();
        if (col >= 0 && col <= 5) {
          returnType = COBOLLINENUM;
        } else if (col >= 72 && col <= 79) {
          stream.skipToEnd();
          returnType = MODTAG;
        } else if (ch == "*" && col == 6) {
          // comment
          stream.skipToEnd(); // rest of the line is a comment
          returnType = COMMENT;
        } else if (ch == "\"" || ch == "\'") {
          state.mode = "string";
          returnType = STRING;
        } else if (ch == "'" && !tests.digit_or_colon.test(stream.peek())) {
          returnType = ATOM;
        } else if (ch == ".") {
          returnType = PERIOD;
        } else if (isNumber(ch, stream)) {
          returnType = NUMBER;
        } else {
          if (stream.current().match(tests.symbol)) {
            while (col < 71) {
              if (stream.eat(tests.symbol) === undefined) {
                break;
              } else {
                col++;
              }
            }
          }
          if (keywords && keywords.propertyIsEnumerable(stream.current().toUpperCase())) {
            returnType = KEYWORD;
          } else if (builtins && builtins.propertyIsEnumerable(stream.current().toUpperCase())) {
            returnType = BUILTIN;
          } else if (atoms && atoms.propertyIsEnumerable(stream.current().toUpperCase())) {
            returnType = ATOM;
          } else returnType = null;
        }
    }
    return returnType;
  },
  indent: function (state) {
    if (state.indentStack == null) return state.indentation;
    return state.indentStack.indent;
  }
};

/***/ })

}]);
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiNzQ0My5qdXB5dGVyLXZpZXdlci5qcyIsIm1hcHBpbmdzIjoiOzs7Ozs7Ozs7O0FBQUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBIiwic291cmNlcyI6WyJ3ZWJwYWNrOi8vQGRhdGFsYXllci9qdXB5dGVyLXZpZXdlci8uL25vZGVfbW9kdWxlcy9AY29kZW1pcnJvci9sZWdhY3ktbW9kZXMvbW9kZS9jb2JvbC5qcyJdLCJzb3VyY2VzQ29udGVudCI6WyJ2YXIgQlVJTFRJTiA9IFwiYnVpbHRpblwiLFxuICBDT01NRU5UID0gXCJjb21tZW50XCIsXG4gIFNUUklORyA9IFwic3RyaW5nXCIsXG4gIEFUT00gPSBcImF0b21cIixcbiAgTlVNQkVSID0gXCJudW1iZXJcIixcbiAgS0VZV09SRCA9IFwia2V5d29yZFwiLFxuICBNT0RUQUcgPSBcImhlYWRlclwiLFxuICBDT0JPTExJTkVOVU0gPSBcImRlZlwiLFxuICBQRVJJT0QgPSBcImxpbmtcIjtcbmZ1bmN0aW9uIG1ha2VLZXl3b3JkcyhzdHIpIHtcbiAgdmFyIG9iaiA9IHt9LFxuICAgIHdvcmRzID0gc3RyLnNwbGl0KFwiIFwiKTtcbiAgZm9yICh2YXIgaSA9IDA7IGkgPCB3b3Jkcy5sZW5ndGg7ICsraSkgb2JqW3dvcmRzW2ldXSA9IHRydWU7XG4gIHJldHVybiBvYmo7XG59XG52YXIgYXRvbXMgPSBtYWtlS2V5d29yZHMoXCJUUlVFIEZBTFNFIFpFUk9FUyBaRVJPUyBaRVJPIFNQQUNFUyBTUEFDRSBMT1ctVkFMVUUgTE9XLVZBTFVFUyBcIik7XG52YXIga2V5d29yZHMgPSBtYWtlS2V5d29yZHMoXCJBQ0NFUFQgQUNDRVNTIEFDUVVJUkUgQUREIEFERFJFU1MgXCIgKyBcIkFEVkFOQ0lORyBBRlRFUiBBTElBUyBBTEwgQUxQSEFCRVQgXCIgKyBcIkFMUEhBQkVUSUMgQUxQSEFCRVRJQy1MT1dFUiBBTFBIQUJFVElDLVVQUEVSIEFMUEhBTlVNRVJJQyBBTFBIQU5VTUVSSUMtRURJVEVEIFwiICsgXCJBTFNPIEFMVEVSIEFMVEVSTkFURSBBTkQgQU5ZIFwiICsgXCJBUkUgQVJFQSBBUkVBUyBBUklUSE1FVElDIEFTQ0VORElORyBcIiArIFwiQVNTSUdOIEFUIEFUVFJJQlVURSBBVVRIT1IgQVVUTyBcIiArIFwiQVVUTy1TS0lQIEFVVE9NQVRJQyBCLUFORCBCLUVYT1IgQi1MRVNTIFwiICsgXCJCLU5PVCBCLU9SIEJBQ0tHUk9VTkQtQ09MT1IgQkFDS0dST1VORC1DT0xPVVIgQkVFUCBcIiArIFwiQkVGT1JFIEJFTEwgQklOQVJZIEJJVCBCSVRTIFwiICsgXCJCTEFOSyBCTElOSyBCTE9DSyBCT09MRUFOIEJPVFRPTSBcIiArIFwiQlkgQ0FMTCBDQU5DRUwgQ0QgQ0YgXCIgKyBcIkNIIENIQVJBQ1RFUiBDSEFSQUNURVJTIENMQVNTIENMT0NLLVVOSVRTIFwiICsgXCJDTE9TRSBDT0JPTCBDT0RFIENPREUtU0VUIENPTCBcIiArIFwiQ09MTEFUSU5HIENPTFVNTiBDT01NQSBDT01NSVQgQ09NTUlUTUVOVCBcIiArIFwiQ09NTU9OIENPTU1VTklDQVRJT04gQ09NUCBDT01QLTAgQ09NUC0xIFwiICsgXCJDT01QLTIgQ09NUC0zIENPTVAtNCBDT01QLTUgQ09NUC02IFwiICsgXCJDT01QLTcgQ09NUC04IENPTVAtOSBDT01QVVRBVElPTkFMIENPTVBVVEFUSU9OQUwtMCBcIiArIFwiQ09NUFVUQVRJT05BTC0xIENPTVBVVEFUSU9OQUwtMiBDT01QVVRBVElPTkFMLTMgQ09NUFVUQVRJT05BTC00IENPTVBVVEFUSU9OQUwtNSBcIiArIFwiQ09NUFVUQVRJT05BTC02IENPTVBVVEFUSU9OQUwtNyBDT01QVVRBVElPTkFMLTggQ09NUFVUQVRJT05BTC05IENPTVBVVEUgXCIgKyBcIkNPTkZJR1VSQVRJT04gQ09OTkVDVCBDT05TT0xFIENPTlRBSU5FRCBDT05UQUlOUyBcIiArIFwiQ09OVEVOVCBDT05USU5VRSBDT05UUk9MIENPTlRST0wtQVJFQSBDT05UUk9MUyBcIiArIFwiQ09OVkVSVElORyBDT1BZIENPUlIgQ09SUkVTUE9ORElORyBDT1VOVCBcIiArIFwiQ1JUIENSVC1VTkRFUiBDVVJSRU5DWSBDVVJSRU5UIENVUlNPUiBcIiArIFwiREFUQSBEQVRFIERBVEUtQ09NUElMRUQgREFURS1XUklUVEVOIERBWSBcIiArIFwiREFZLU9GLVdFRUsgREIgREItQUNDRVNTLUNPTlRST0wtS0VZIERCLURBVEEtTkFNRSBEQi1FWENFUFRJT04gXCIgKyBcIkRCLUZPUk1BVC1OQU1FIERCLVJFQ09SRC1OQU1FIERCLVNFVC1OQU1FIERCLVNUQVRVUyBEQkNTIFwiICsgXCJEQkNTLUVESVRFRCBERSBERUJVRy1DT05URU5UUyBERUJVRy1JVEVNIERFQlVHLUxJTkUgXCIgKyBcIkRFQlVHLU5BTUUgREVCVUctU1VCLTEgREVCVUctU1VCLTIgREVCVUctU1VCLTMgREVCVUdHSU5HIFwiICsgXCJERUNJTUFMLVBPSU5UIERFQ0xBUkFUSVZFUyBERUZBVUxUIERFTEVURSBERUxJTUlURUQgXCIgKyBcIkRFTElNSVRFUiBERVBFTkRJTkcgREVTQ0VORElORyBERVNDUklCRUQgREVTVElOQVRJT04gXCIgKyBcIkRFVEFJTCBESVNBQkxFIERJU0NPTk5FQ1QgRElTUExBWSBESVNQTEFZLTEgXCIgKyBcIkRJU1BMQVktMiBESVNQTEFZLTMgRElTUExBWS00IERJU1BMQVktNSBESVNQTEFZLTYgXCIgKyBcIkRJU1BMQVktNyBESVNQTEFZLTggRElTUExBWS05IERJVklERSBESVZJU0lPTiBcIiArIFwiRE9XTiBEUk9QIERVUExJQ0FURSBEVVBMSUNBVEVTIERZTkFNSUMgXCIgKyBcIkVCQ0RJQyBFR0kgRUpFQ1QgRUxTRSBFTUkgXCIgKyBcIkVNUFRZIEVNUFRZLUNIRUNLIEVOQUJMRSBFTkQgRU5ELiBFTkQtQUNDRVBUIEVORC1BQ0NFUFQuIFwiICsgXCJFTkQtQUREIEVORC1DQUxMIEVORC1DT01QVVRFIEVORC1ERUxFVEUgRU5ELURJU1BMQVkgXCIgKyBcIkVORC1ESVZJREUgRU5ELUVWQUxVQVRFIEVORC1JRiBFTkQtSU5WT0tFIEVORC1NVUxUSVBMWSBcIiArIFwiRU5ELU9GLVBBR0UgRU5ELVBFUkZPUk0gRU5ELVJFQUQgRU5ELVJFQ0VJVkUgRU5ELVJFVFVSTiBcIiArIFwiRU5ELVJFV1JJVEUgRU5ELVNFQVJDSCBFTkQtU1RBUlQgRU5ELVNUUklORyBFTkQtU1VCVFJBQ1QgXCIgKyBcIkVORC1VTlNUUklORyBFTkQtV1JJVEUgRU5ELVhNTCBFTlRFUiBFTlRSWSBcIiArIFwiRU5WSVJPTk1FTlQgRU9QIEVRVUFMIEVRVUFMUyBFUkFTRSBcIiArIFwiRVJST1IgRVNJIEVWQUxVQVRFIEVWRVJZIEVYQ0VFRFMgXCIgKyBcIkVYQ0VQVElPTiBFWENMVVNJVkUgRVhJVCBFWFRFTkQgRVhURVJOQUwgXCIgKyBcIkVYVEVSTkFMTFktREVTQ1JJQkVELUtFWSBGRCBGRVRDSCBGSUxFIEZJTEUtQ09OVFJPTCBcIiArIFwiRklMRS1TVFJFQU0gRklMRVMgRklMTEVSIEZJTkFMIEZJTkQgXCIgKyBcIkZJTklTSCBGSVJTVCBGT09USU5HIEZPUiBGT1JFR1JPVU5ELUNPTE9SIFwiICsgXCJGT1JFR1JPVU5ELUNPTE9VUiBGT1JNQVQgRlJFRSBGUk9NIEZVTEwgXCIgKyBcIkZVTkNUSU9OIEdFTkVSQVRFIEdFVCBHSVZJTkcgR0xPQkFMIFwiICsgXCJHTyBHT0JBQ0sgR1JFQVRFUiBHUk9VUCBIRUFESU5HIFwiICsgXCJISUdILVZBTFVFIEhJR0gtVkFMVUVTIEhJR0hMSUdIVCBJLU8gSS1PLUNPTlRST0wgXCIgKyBcIklEIElERU5USUZJQ0FUSU9OIElGIElOIElOREVYIFwiICsgXCJJTkRFWC0xIElOREVYLTIgSU5ERVgtMyBJTkRFWC00IElOREVYLTUgXCIgKyBcIklOREVYLTYgSU5ERVgtNyBJTkRFWC04IElOREVYLTkgSU5ERVhFRCBcIiArIFwiSU5ESUMgSU5ESUNBVEUgSU5ESUNBVE9SIElORElDQVRPUlMgSU5JVElBTCBcIiArIFwiSU5JVElBTElaRSBJTklUSUFURSBJTlBVVCBJTlBVVC1PVVRQVVQgSU5TUEVDVCBcIiArIFwiSU5TVEFMTEFUSU9OIElOVE8gSU5WQUxJRCBJTlZPS0UgSVMgXCIgKyBcIkpVU1QgSlVTVElGSUVEIEtBTkpJIEtFRVAgS0VZIFwiICsgXCJMQUJFTCBMQVNUIExEIExFQURJTkcgTEVGVCBcIiArIFwiTEVGVC1KVVNUSUZZIExFTkdUSCBMRU5HVEgtQ0hFQ0sgTEVTUyBMSUJSQVJZIFwiICsgXCJMSUtFIExJTUlUIExJTUlUUyBMSU5BR0UgTElOQUdFLUNPVU5URVIgXCIgKyBcIkxJTkUgTElORS1DT1VOVEVSIExJTkVTIExJTktBR0UgTE9DQUwtU1RPUkFHRSBcIiArIFwiTE9DQUxFIExPQ0FMTFkgTE9DSyBcIiArIFwiTUVNQkVSIE1FTU9SWSBNRVJHRSBNRVNTQUdFIE1FVEFDTEFTUyBcIiArIFwiTU9ERSBNT0RJRklFRCBNT0RJRlkgTU9EVUxFUyBNT1ZFIFwiICsgXCJNVUxUSVBMRSBNVUxUSVBMWSBOQVRJT05BTCBOQVRJVkUgTkVHQVRJVkUgXCIgKyBcIk5FWFQgTk8gTk8tRUNITyBOT05FIE5PVCBcIiArIFwiTlVMTCBOVUxMLUtFWS1NQVAgTlVMTC1NQVAgTlVMTFMgTlVNQkVSIFwiICsgXCJOVU1FUklDIE5VTUVSSUMtRURJVEVEIE9CSkVDVCBPQkpFQ1QtQ09NUFVURVIgT0NDVVJTIFwiICsgXCJPRiBPRkYgT01JVFRFRCBPTiBPTkxZIFwiICsgXCJPUEVOIE9QVElPTkFMIE9SIE9SREVSIE9SR0FOSVpBVElPTiBcIiArIFwiT1RIRVIgT1VUUFVUIE9WRVJGTE9XIE9XTkVSIFBBQ0tFRC1ERUNJTUFMIFwiICsgXCJQQURESU5HIFBBR0UgUEFHRS1DT1VOVEVSIFBBUlNFIFBFUkZPUk0gXCIgKyBcIlBGIFBIIFBJQyBQSUNUVVJFIFBMVVMgXCIgKyBcIlBPSU5URVIgUE9TSVRJT04gUE9TSVRJVkUgUFJFRklYIFBSRVNFTlQgXCIgKyBcIlBSSU5USU5HIFBSSU9SIFBST0NFRFVSRSBQUk9DRURVUkUtUE9JTlRFUiBQUk9DRURVUkVTIFwiICsgXCJQUk9DRUVEIFBST0NFU1MgUFJPQ0VTU0lORyBQUk9HUkFNIFBST0dSQU0tSUQgXCIgKyBcIlBST01QVCBQUk9URUNURUQgUFVSR0UgUVVFVUUgUVVPVEUgXCIgKyBcIlFVT1RFUyBSQU5ET00gUkQgUkVBRCBSRUFEWSBcIiArIFwiUkVBTE0gUkVDRUlWRSBSRUNPTk5FQ1QgUkVDT1JEIFJFQ09SRC1OQU1FIFwiICsgXCJSRUNPUkRTIFJFQ1VSU0lWRSBSRURFRklORVMgUkVFTCBSRUZFUkVOQ0UgXCIgKyBcIlJFRkVSRU5DRS1NT05JVE9SIFJFRkVSRU5DRVMgUkVMQVRJT04gUkVMQVRJVkUgUkVMRUFTRSBcIiArIFwiUkVNQUlOREVSIFJFTU9WQUwgUkVOQU1FUyBSRVBFQVRFRCBSRVBMQUNFIFwiICsgXCJSRVBMQUNJTkcgUkVQT1JUIFJFUE9SVElORyBSRVBPUlRTIFJFUE9TSVRPUlkgXCIgKyBcIlJFUVVJUkVEIFJFUlVOIFJFU0VSVkUgUkVTRVQgUkVUQUlOSU5HIFwiICsgXCJSRVRSSUVWQUwgUkVUVVJOIFJFVFVSTi1DT0RFIFJFVFVSTklORyBSRVZFUlNFLVZJREVPIFwiICsgXCJSRVZFUlNFRCBSRVdJTkQgUkVXUklURSBSRiBSSCBcIiArIFwiUklHSFQgUklHSFQtSlVTVElGWSBST0xMQkFDSyBST0xMSU5HIFJPVU5ERUQgXCIgKyBcIlJVTiBTQU1FIFNDUkVFTiBTRCBTRUFSQ0ggXCIgKyBcIlNFQ1RJT04gU0VDVVJFIFNFQ1VSSVRZIFNFR01FTlQgU0VHTUVOVC1MSU1JVCBcIiArIFwiU0VMRUNUIFNFTkQgU0VOVEVOQ0UgU0VQQVJBVEUgU0VRVUVOQ0UgXCIgKyBcIlNFUVVFTlRJQUwgU0VUIFNIQVJFRCBTSUdOIFNJWkUgXCIgKyBcIlNLSVAxIFNLSVAyIFNLSVAzIFNPUlQgU09SVC1NRVJHRSBcIiArIFwiU09SVC1SRVRVUk4gU09VUkNFIFNPVVJDRS1DT01QVVRFUiBTUEFDRS1GSUxMIFwiICsgXCJTUEVDSUFMLU5BTUVTIFNUQU5EQVJEIFNUQU5EQVJELTEgU1RBTkRBUkQtMiBcIiArIFwiU1RBUlQgU1RBUlRJTkcgU1RBVFVTIFNUT1AgU1RPUkUgXCIgKyBcIlNUUklORyBTVUItUVVFVUUtMSBTVUItUVVFVUUtMiBTVUItUVVFVUUtMyBTVUItU0NIRU1BIFwiICsgXCJTVUJGSUxFIFNVQlNUSVRVVEUgU1VCVFJBQ1QgU1VNIFNVUFBSRVNTIFwiICsgXCJTWU1CT0xJQyBTWU5DIFNZTkNIUk9OSVpFRCBTWVNJTiBTWVNPVVQgXCIgKyBcIlRBQkxFIFRBTExZSU5HIFRBUEUgVEVOQU5UIFRFUk1JTkFMIFwiICsgXCJURVJNSU5BVEUgVEVTVCBURVhUIFRIQU4gVEhFTiBcIiArIFwiVEhST1VHSCBUSFJVIFRJTUUgVElNRVMgVElUTEUgXCIgKyBcIlRPIFRPUCBUUkFJTElORyBUUkFJTElORy1TSUdOIFRSQU5TQUNUSU9OIFwiICsgXCJUWVBFIFRZUEVERUYgVU5ERVJMSU5FIFVORVFVQUwgVU5JVCBcIiArIFwiVU5TVFJJTkcgVU5USUwgVVAgVVBEQVRFIFVQT04gXCIgKyBcIlVTQUdFIFVTQUdFLU1PREUgVVNFIFVTSU5HIFZBTElEIFwiICsgXCJWQUxJREFURSBWQUxVRSBWQUxVRVMgVkFSWUlORyBWTFIgXCIgKyBcIldBSVQgV0hFTiBXSEVOLUNPTVBJTEVEIFdJVEggV0lUSElOIFwiICsgXCJXT1JEUyBXT1JLSU5HLVNUT1JBR0UgV1JJVEUgWE1MIFhNTC1DT0RFIFwiICsgXCJYTUwtRVZFTlQgWE1MLU5URVhUIFhNTC1URVhUIFpFUk8gWkVSTy1GSUxMIFwiKTtcbnZhciBidWlsdGlucyA9IG1ha2VLZXl3b3JkcyhcIi0gKiAqKiAvICsgPCA8PSA9ID4gPj0gXCIpO1xudmFyIHRlc3RzID0ge1xuICBkaWdpdDogL1xcZC8sXG4gIGRpZ2l0X29yX2NvbG9uOiAvW1xcZDpdLyxcbiAgaGV4OiAvWzAtOWEtZl0vaSxcbiAgc2lnbjogL1srLV0vLFxuICBleHBvbmVudDogL2UvaSxcbiAga2V5d29yZF9jaGFyOiAvW15cXHNcXChcXFtcXDtcXClcXF1dLyxcbiAgc3ltYm9sOiAvW1xcdyorXFwtXS9cbn07XG5mdW5jdGlvbiBpc051bWJlcihjaCwgc3RyZWFtKSB7XG4gIC8vIGhleFxuICBpZiAoY2ggPT09ICcwJyAmJiBzdHJlYW0uZWF0KC94L2kpKSB7XG4gICAgc3RyZWFtLmVhdFdoaWxlKHRlc3RzLmhleCk7XG4gICAgcmV0dXJuIHRydWU7XG4gIH1cbiAgLy8gbGVhZGluZyBzaWduXG4gIGlmICgoY2ggPT0gJysnIHx8IGNoID09ICctJykgJiYgdGVzdHMuZGlnaXQudGVzdChzdHJlYW0ucGVlaygpKSkge1xuICAgIHN0cmVhbS5lYXQodGVzdHMuc2lnbik7XG4gICAgY2ggPSBzdHJlYW0ubmV4dCgpO1xuICB9XG4gIGlmICh0ZXN0cy5kaWdpdC50ZXN0KGNoKSkge1xuICAgIHN0cmVhbS5lYXQoY2gpO1xuICAgIHN0cmVhbS5lYXRXaGlsZSh0ZXN0cy5kaWdpdCk7XG4gICAgaWYgKCcuJyA9PSBzdHJlYW0ucGVlaygpKSB7XG4gICAgICBzdHJlYW0uZWF0KCcuJyk7XG4gICAgICBzdHJlYW0uZWF0V2hpbGUodGVzdHMuZGlnaXQpO1xuICAgIH1cbiAgICBpZiAoc3RyZWFtLmVhdCh0ZXN0cy5leHBvbmVudCkpIHtcbiAgICAgIHN0cmVhbS5lYXQodGVzdHMuc2lnbik7XG4gICAgICBzdHJlYW0uZWF0V2hpbGUodGVzdHMuZGlnaXQpO1xuICAgIH1cbiAgICByZXR1cm4gdHJ1ZTtcbiAgfVxuICByZXR1cm4gZmFsc2U7XG59XG5leHBvcnQgY29uc3QgY29ib2wgPSB7XG4gIG5hbWU6IFwiY29ib2xcIixcbiAgc3RhcnRTdGF0ZTogZnVuY3Rpb24gKCkge1xuICAgIHJldHVybiB7XG4gICAgICBpbmRlbnRTdGFjazogbnVsbCxcbiAgICAgIGluZGVudGF0aW9uOiAwLFxuICAgICAgbW9kZTogZmFsc2VcbiAgICB9O1xuICB9LFxuICB0b2tlbjogZnVuY3Rpb24gKHN0cmVhbSwgc3RhdGUpIHtcbiAgICBpZiAoc3RhdGUuaW5kZW50U3RhY2sgPT0gbnVsbCAmJiBzdHJlYW0uc29sKCkpIHtcbiAgICAgIC8vIHVwZGF0ZSBpbmRlbnRhdGlvbiwgYnV0IG9ubHkgaWYgaW5kZW50U3RhY2sgaXMgZW1wdHlcbiAgICAgIHN0YXRlLmluZGVudGF0aW9uID0gNjsgLy9zdHJlYW0uaW5kZW50YXRpb24oKTtcbiAgICB9XG4gICAgLy8gc2tpcCBzcGFjZXNcbiAgICBpZiAoc3RyZWFtLmVhdFNwYWNlKCkpIHtcbiAgICAgIHJldHVybiBudWxsO1xuICAgIH1cbiAgICB2YXIgcmV0dXJuVHlwZSA9IG51bGw7XG4gICAgc3dpdGNoIChzdGF0ZS5tb2RlKSB7XG4gICAgICBjYXNlIFwic3RyaW5nXCI6XG4gICAgICAgIC8vIG11bHRpLWxpbmUgc3RyaW5nIHBhcnNpbmcgbW9kZVxuICAgICAgICB2YXIgbmV4dCA9IGZhbHNlO1xuICAgICAgICB3aGlsZSAoKG5leHQgPSBzdHJlYW0ubmV4dCgpKSAhPSBudWxsKSB7XG4gICAgICAgICAgaWYgKChuZXh0ID09IFwiXFxcIlwiIHx8IG5leHQgPT0gXCJcXCdcIikgJiYgIXN0cmVhbS5tYXRjaCgvWydcIl0vLCBmYWxzZSkpIHtcbiAgICAgICAgICAgIHN0YXRlLm1vZGUgPSBmYWxzZTtcbiAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgICByZXR1cm5UeXBlID0gU1RSSU5HOyAvLyBjb250aW51ZSBvbiBpbiBzdHJpbmcgbW9kZVxuICAgICAgICBicmVhaztcbiAgICAgIGRlZmF1bHQ6XG4gICAgICAgIC8vIGRlZmF1bHQgcGFyc2luZyBtb2RlXG4gICAgICAgIHZhciBjaCA9IHN0cmVhbS5uZXh0KCk7XG4gICAgICAgIHZhciBjb2wgPSBzdHJlYW0uY29sdW1uKCk7XG4gICAgICAgIGlmIChjb2wgPj0gMCAmJiBjb2wgPD0gNSkge1xuICAgICAgICAgIHJldHVyblR5cGUgPSBDT0JPTExJTkVOVU07XG4gICAgICAgIH0gZWxzZSBpZiAoY29sID49IDcyICYmIGNvbCA8PSA3OSkge1xuICAgICAgICAgIHN0cmVhbS5za2lwVG9FbmQoKTtcbiAgICAgICAgICByZXR1cm5UeXBlID0gTU9EVEFHO1xuICAgICAgICB9IGVsc2UgaWYgKGNoID09IFwiKlwiICYmIGNvbCA9PSA2KSB7XG4gICAgICAgICAgLy8gY29tbWVudFxuICAgICAgICAgIHN0cmVhbS5za2lwVG9FbmQoKTsgLy8gcmVzdCBvZiB0aGUgbGluZSBpcyBhIGNvbW1lbnRcbiAgICAgICAgICByZXR1cm5UeXBlID0gQ09NTUVOVDtcbiAgICAgICAgfSBlbHNlIGlmIChjaCA9PSBcIlxcXCJcIiB8fCBjaCA9PSBcIlxcJ1wiKSB7XG4gICAgICAgICAgc3RhdGUubW9kZSA9IFwic3RyaW5nXCI7XG4gICAgICAgICAgcmV0dXJuVHlwZSA9IFNUUklORztcbiAgICAgICAgfSBlbHNlIGlmIChjaCA9PSBcIidcIiAmJiAhdGVzdHMuZGlnaXRfb3JfY29sb24udGVzdChzdHJlYW0ucGVlaygpKSkge1xuICAgICAgICAgIHJldHVyblR5cGUgPSBBVE9NO1xuICAgICAgICB9IGVsc2UgaWYgKGNoID09IFwiLlwiKSB7XG4gICAgICAgICAgcmV0dXJuVHlwZSA9IFBFUklPRDtcbiAgICAgICAgfSBlbHNlIGlmIChpc051bWJlcihjaCwgc3RyZWFtKSkge1xuICAgICAgICAgIHJldHVyblR5cGUgPSBOVU1CRVI7XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgaWYgKHN0cmVhbS5jdXJyZW50KCkubWF0Y2godGVzdHMuc3ltYm9sKSkge1xuICAgICAgICAgICAgd2hpbGUgKGNvbCA8IDcxKSB7XG4gICAgICAgICAgICAgIGlmIChzdHJlYW0uZWF0KHRlc3RzLnN5bWJvbCkgPT09IHVuZGVmaW5lZCkge1xuICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICAgIGNvbCsrO1xuICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9XG4gICAgICAgICAgfVxuICAgICAgICAgIGlmIChrZXl3b3JkcyAmJiBrZXl3b3Jkcy5wcm9wZXJ0eUlzRW51bWVyYWJsZShzdHJlYW0uY3VycmVudCgpLnRvVXBwZXJDYXNlKCkpKSB7XG4gICAgICAgICAgICByZXR1cm5UeXBlID0gS0VZV09SRDtcbiAgICAgICAgICB9IGVsc2UgaWYgKGJ1aWx0aW5zICYmIGJ1aWx0aW5zLnByb3BlcnR5SXNFbnVtZXJhYmxlKHN0cmVhbS5jdXJyZW50KCkudG9VcHBlckNhc2UoKSkpIHtcbiAgICAgICAgICAgIHJldHVyblR5cGUgPSBCVUlMVElOO1xuICAgICAgICAgIH0gZWxzZSBpZiAoYXRvbXMgJiYgYXRvbXMucHJvcGVydHlJc0VudW1lcmFibGUoc3RyZWFtLmN1cnJlbnQoKS50b1VwcGVyQ2FzZSgpKSkge1xuICAgICAgICAgICAgcmV0dXJuVHlwZSA9IEFUT007XG4gICAgICAgICAgfSBlbHNlIHJldHVyblR5cGUgPSBudWxsO1xuICAgICAgICB9XG4gICAgfVxuICAgIHJldHVybiByZXR1cm5UeXBlO1xuICB9LFxuICBpbmRlbnQ6IGZ1bmN0aW9uIChzdGF0ZSkge1xuICAgIGlmIChzdGF0ZS5pbmRlbnRTdGFjayA9PSBudWxsKSByZXR1cm4gc3RhdGUuaW5kZW50YXRpb247XG4gICAgcmV0dXJuIHN0YXRlLmluZGVudFN0YWNrLmluZGVudDtcbiAgfVxufTsiXSwibmFtZXMiOltdLCJzb3VyY2VSb290IjoiIn0=