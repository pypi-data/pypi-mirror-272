"use strict";(self.webpackChunkjupyterlab_empinken_extension=self.webpackChunkjupyterlab_empinken_extension||[]).push([[202],{202:(e,o,t)=>{t.r(o),t.d(o,{default:()=>m});var n=t(550),s=t(793),l=t(712),i=t(651);const a=["activity","solution","learner","tutor"];function c(e,o){return`${e}${o}`}const r=(e,o,t,n)=>{const s=n&&"string"==typeof n.get("tagprefix").composite?n.get("tagprefix").composite:"";a.forEach((l=>{const r=l[0].toUpperCase();console.log(`typ ${l} has tag ${l} ok? `),((n,s,l,a,c,r,p)=>{let m=!0;if(null!==r&&(m=r.get(`${s}_button`).composite),m){const s=`ouseful_empinken:${n}`;e.commands.addCommand(s,{label:l,execute:()=>{console.log(l),(0,i.apply_on_cells)(o,a,p)}}),t.addItem({command:s,category:"empinken_buttons"}),e.commands.addKeyBinding({command:s,keys:[],selector:".jp-Notebook"})}})(`empkn_${l}`,l,r,i.Scope.Multiple,0,n,(e=>((e,o,t,n)=>{const s=a.map((e=>(null==n?void 0:n.get(`${e}_tag`).composite)||e)),l=(null==n?void 0:n.get(`${o}_tag`).composite)||o,r=c(t,l),p="tags";(0,i.md_has)(e,p,r)?(0,i.md_remove)(e,p,r):(s.forEach((o=>(0,i.md_remove)(e,p,c(t,o)))),(0,i.md_insert)(e,p,r)),console.log(`Toggled cell tag ${r}`,e.node)})(e,l,s,n)))}))},p={id:"jupyterlab_empinken_extension:plugin",description:"A JupyterLab extension for colouring notebook cell backgrounds.",autoStart:!0,requires:[s.INotebookTracker,l.ICommandPalette],optional:[n.ISettingRegistry],activate:(e,o,t,n)=>{console.log("JupyterLab extension jupyterlab_empinken_extension is activated!"),n?n.load(p.id).then((n=>{console.log("jupyterlab_empinken_extension settings loaded:",n.composite);const s=document.documentElement,l=()=>{console.log("jupyterlab_empinken_extension settings updated"),function(e,o){for(const t of a){let n=e.get(`${t}_color`).composite;e.get(`${t}_render`).composite||(n="transparent"),o.style.setProperty(`--iou-${t}-bg-color`,n)}}(n,s)};l(),n.changed.connect(l),r(e,o,t,n)})).catch((n=>{console.error("Failed to load settings for jupyterlab_empinken_extension.",n),r(e,o,t,null)})):r(e,o,t,null)}},m=p}}]);